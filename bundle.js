(()=>{"use strict";const n={carsPage:1,cars:[],carsCount:1,winnersPage:1,winners:[],winnersCount:0,view:"garagePage",sortBy:null,sortOrder:null,selectedCarID:null,animation:[]};const e=()=>{return e=void 0,t=void 0,o=function*(){const e=document.getElementById("prev"),t=document.getElementById("next"),i="garagePage"===n.view?n.carsPage:n.winnersPage,o="garagePage"===n.view?n.carsCount:n.winnersCount;t.disabled=i*("garagePage"===n.view?7:10)>=o,e.disabled=i<=1},new((i=void 0)||(i=Promise))((function(n,r){function c(n){try{d(o.next(n))}catch(n){r(n)}}function a(n){try{d(o.throw(n))}catch(n){r(n)}}function d(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(n){n(t)}))).then(c,a)}d((o=o.apply(e,t||[])).next())}));var e,t,i,o};var t=function(n,e,t,i){return new(t||(t=Promise))((function(o,r){function c(n){try{d(i.next(n))}catch(n){r(n)}}function a(n){try{d(i.throw(n))}catch(n){r(n)}}function d(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(c,a)}d((i=i.apply(n,e||[])).next())}))};const i="https://flint-brazen-catshark.glitch.me/",o=`${i}/garage`,r=`${i}/engine`,c=`${i}/winners`,a=n=>t(void 0,void 0,void 0,(function*(){try{const e=yield fetch(`${o}/${n}`);if(!e.ok)throw new Error("Failed to fetch car");return yield e.json()}catch(n){throw new Error(`Failed fetching car by ID: ${n}`)}})),d=n=>t(void 0,void 0,void 0,(function*(){try{const e=yield fetch(`${o}`,{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error("Failed to create car");return yield e.json()}catch(n){throw new Error(`Failed in creating car: ${n}`)}})),s=(n,e)=>t(void 0,void 0,void 0,(function*(){try{const t=yield fetch(`${o}/${e}`,{method:"PUT",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to update car");return yield t.json()}catch(n){throw new Error(`Failed in car updating by ID ${e}: ${n}`)}})),l=n=>t(void 0,void 0,void 0,(function*(){try{const e=yield fetch(`${c}/${n}`);if(!e.ok)throw new Error(`Failed to fetch winner with ID ${n}`);return yield e.json()}catch(e){throw new Error(`Error fetching winner with ID ${n}: ${e}`)}}));function u(n){const{left:e,width:t}=n.getBoundingClientRect();return e+t}const v=e=>{return i=void 0,o=void 0,a=function*(){var i;const o=document.getElementById(`start-engine-car-${e}`),c=document.getElementById(`stop-engine-car-${e}`);o.disabled=!0;const{velocity:a,distance:d}=yield(n=>t(void 0,void 0,void 0,(function*(){try{const e=yield fetch(`${r}?id=${n}&status=started`,{method:"PATCH"});if(!e.ok)throw new Error("Failed to start car");return yield e.json()}catch(e){throw new Error(`Error starting car with ID ${n}:: ${e}`)}})))(e),s=Math.round(d/a);c.disabled=!1;const l=document.getElementById(`car-${e}`),v=document.getElementById(`flag-${e}`),f=document.getElementById(`engine-broke-${e}`),h=function(n,e,t){const i={id:0},o=performance.now();return i.id=window.requestAnimationFrame((function r(){return c=this,a=void 0,s=function*(){const c=performance.now(),a=Math.round(e/t*(c-o));n.style.transform=`translateX(${Math.min(a,e)}px)`,a<e&&(i.id=window.requestAnimationFrame(r))},new((d=void 0)||(d=Promise))((function(n,e){function t(n){try{o(s.next(n))}catch(n){e(n)}}function i(n){try{o(s.throw(n))}catch(n){e(n)}}function o(e){var o;e.done?n(e.value):(o=e.value,o instanceof d?o:new d((function(n){n(o)}))).then(t,i)}o((s=s.apply(c,a||[])).next())}));var c,a,d,s})),i}(l,Math.floor(function(n,e){const t=u(n);return u(e)-t}(l,v)+90),s);n.animation[e]=h;const y=yield(n=>t(void 0,void 0,void 0,(function*(){try{const e=yield fetch(`${r}?id=${n}&status=drive`,{method:"PATCH"});if(!e.ok)throw new Error("Failed to drive car");return Object.assign(Object.assign({},yield e.json()),{success:!0})}catch(e){return console.error(`Error driving car with ID ${n}:`,e),{success:!1}}})))(e),{success:m}=y;if(!m){const n=document.getElementById(`car-road-${e}`);window.cancelAnimationFrame(h.id),n.style.backgroundColor="palevioletred",f.style.display="block";const t=(null===(i=n.querySelector(".car-name"))||void 0===i?void 0:i.textContent)||"";f.innerHTML=`${t} is out of race because the engine was broken down`}return{success:m,id:e,time:s}},new((c=void 0)||(c=Promise))((function(n,e){function t(n){try{d(a.next(n))}catch(n){e(n)}}function r(n){try{d(a.throw(n))}catch(n){e(n)}}function d(e){var i;e.done?n(e.value):(i=e.value,i instanceof c?i:new c((function(n){n(i)}))).then(t,r)}d((a=a.apply(i,o||[])).next())}));var i,o,c,a};const f=e=>{return i=void 0,o=void 0,a=function*(){const i=document.getElementById(`start-engine-car-${e}`),o=document.getElementById(`stop-engine-car-${e}`),c=document.getElementById(`car-road-${e}`),a=document.getElementById(`engine-broke-${e}`);o.disabled=!0,yield(n=>t(void 0,void 0,void 0,(function*(){try{const e=yield fetch(`${r}?id=${n}&status=stopped`,{method:"PATCH"});if(!e.ok)throw new Error("Failed to stop car");return yield e.json()}catch(e){throw new Error(`Error stopping car with ID ${n}: ${e}`)}})))(e),c.style.backgroundColor="transparent",a.style.display="none",i.disabled=!1,document.getElementById(`car-${e}`).style.transform="translateX(0)",n.animation[e]&&(window.cancelAnimationFrame(n.animation[e].id),delete n.animation[e])},new((c=void 0)||(c=Promise))((function(n,e){function t(n){try{d(a.next(n))}catch(n){e(n)}}function r(n){try{d(a.throw(n))}catch(n){e(n)}}function d(e){var i;e.done?n(e.value):(i=e.value,i instanceof c?i:new c((function(n){n(i)}))).then(t,r)}d((a=a.apply(i,o||[])).next())}));var i,o,c,a},h=n=>`<svg version="1.0" xmlns="http://www.w3.org/2000/svg"\nwidth="80pt" height="30pt" viewBox="0 0 1280.000000 640.000000"\npreserveAspectRatio="xMidYMid meet">\n<g transform="translate(0.000000,640.000000) scale(0.100000,-0.100000)"\nfill="#686868" stroke="none">\n<path fill="${n}" d="M3565 5336 c-106 -30 -101 -26 -108 -111 -4 -42 -9\n-80 -12 -85 -6 -10 -246 -105 -590 -234 -448 -167 -1052 -415 -1173 -483 -78\n-43 -193 -91 -250 -104 -23 -5 -98 -14 -165 -19 -67 -6 -167 -19 -222 -30 -154\n-31 -340 -49 -563 -57 l-203 -6 -43 -66 c-59 -91 -60 -95 -26 -130 37 -37 38 -65 3\n-150 -25 -62 -27 -78 -31 -256 l-4 -190 -38 -32 c-91 -78 -133 -209 -134 -418\n0 -194 11 -396 26 -482 13 -71 14 -74 72 -122 69 -58 130 -129 158 -184 64\n-126 534 -211 1384 -250 l92 -4 -6 119 c-6 142 8 256 49 383 112 352 394 622\n756 722 90 26 112 28 278 28 165 0 188 -2 278 -27 201 -56 361 -152 504 -302\n140 -145 222 -293 274 -492 21 -79 24 -109 23 -279 -1 -127 -6 -214 -16 -263\nl-15 -73 3006 7 c1653 4 3007 8 3009 9 1 1 -8 37 -20 81 -19 67 -22 105 -22\n259 -1 166 1 187 27 279 117 421 467 736 885 797 119 17 325 7 432 -21 239\n-63 453 -205 601 -399 70 -92 154 -267 185 -386 24 -88 27 -119 27 -260 1\n-116 -4 -181 -16 -234 -10 -41 -16 -75 -15 -76 2 -1 62 2 133 6 266 16 458 45\n525 79 48 24 97 81 127 146 l24 52 -16 157 c-15 152 -15 163 4 284 63 388 50\n680 -35 802 -134 193 -526 336 -1429 519 -737 149 -1322 209 -2033 210 -228 0\n-226 0 -347 85 -187 131 -1045 607 -1471 815 -383 187 -788 281 -1439 332\n-208 17 -1106 16 -1400 0 -121 -7 -314 -19 -430 -27 -302 -22 -286 -22 -341\n10 -140 81 -187 94 -269 71z m1885 -333 c6 -37 38 -238 71 -446 32 -209 66\n-422 75 -474 9 -52 15 -96 13 -97 -11 -9 -1699 29 -1951 44 -206 13 -417 36\n-485 54 -98 26 -198 119 -249 231 -35 75 -36 172 -5 255 17 45 30 61 68 86 83\n54 135 80 253 127 341 136 858 230 1460 267 269 16 270 16 511 18 l227 2 12\n-67z m630 47 c264 -18 777 -110 1029 -186 186 -56 445 -188 756 -387 211 -134\n274 -181 250 -185 -75 -12 -133 -50 -162 -106 -19 -35 -21 -136 -4 -179 l11\n-27 -907 2 -906 3 -59 160 c-110 302 -298 878 -298 916 0 6 95 2 290 -11z"/>\n<path d="M2633 3125 c-223 -40 -410 -141 -568 -306 -132 -138 -213 -283 -262\n-467 -22 -83 -26 -119 -26 -247 -1 -169 10 -236 65 -382 87 -230 271 -436 493\n-551 85 -44 178 -78 271 -98 107 -23 312 -23 419 1 392 84 699 375 802 761 23\n86 26 120 27 254 1 158 -5 199 -46 330 -98 310 -355 567 -668 669 -150 50\n-354 64 -507 36z m350 -301 c249 -56 457 -247 543 -499 25 -72 28 -95 28 -220\n1 -153 -15 -228 -74 -345 -94 -186 -283 -337 -485 -386 -96 -24 -268 -24 -360\n0 -320 84 -544 355 -562 681 -20 359 209 673 558 765 94 24 253 26 352 4z"/>\n<path d="M2600 2697 c-36 -13 -85 -36 -109 -51 l-44 -28 116 -115 c81 -82 120\n-114 131 -110 14 6 16 29 16 167 0 186 6 178 -110 137z"/>\n<path d="M2920 2561 c0 -139 2 -162 16 -168 11 -4 50 28 130 108 l115 114 -28\n22 c-34 28 -138 70 -193 79 l-40 7 0 -162z"/>\n<path d="M2282 2448 c-28 -36 -92 -191 -92 -225 0 -10 34 -13 165 -13 151 0\n165 1 165 18 0 15 -206 232 -221 232 -4 0 -11 -6 -17 -12z"/>\n<path d="M3222 2351 c-62 -59 -112 -115 -112 -124 0 -15 17 -17 165 -17 131 0\n165 3 165 13 0 40 -69 205 -95 227 -7 6 -48 -27 -123 -99z"/>\n<path d="M2781 2332 c-12 -22 11 -62 34 -62 8 0 21 10 29 22 20 28 4 58 -29 58 \n-13 0 -29 -8 -34 -18z"/>\n<path d="M2749 2161 c-32 -33 -37 -67 -14 -110 29 -57 104 -64 151 -14 53 57 9 \n153 -71 153 -27 0 -44 -8 -66 -29z"/>\n<path d="M2570 2125 c-26 -32 13 -81 48 -59 24 16 27 45 6 61 -23 17 -39 16 -54 -2z"/>\n<path d="M3006 2124 c-20 -19 -20 -38 -2 -54 23 -19 61 -8 64 18 7 44 -32 67 -62 36z"/>\n<path d="M2190 1975 c0 -29 41 -140 72 -194 l31 -53 117 117 c71 71 116 123 113 \n131 -4 11 -40 14 -169 14 -141 0 -164 -2 -164 -15z"/>\n<path d="M3110 1972 c0 -9 51 -68 114 -131 l114 -114 31 54 c30 51 71 165 71 195 \n0 11 -31 14 -165 14 -151 0 -165 -1 -165 -18z"/>\n<path d="M2780 1901 c-7 -15 -5 -24 8 -41 32 -40 85 -4 62 41 -14 25 -56 25 -70 0z"/>\n<path d="M2562 1697 c-61 -62 -112 -115 -112 -119 0 -18 208 -108 249 -108 7\n0 11 54 11 164 0 140 -2 165 -16 170 -9 3 -16 6 -17 6 -1 0 -53 -51 -115 -113z"/>\n<path d="M2933 1803 c-15 -6 -19 -333 -4 -333 46 0 251 88 251 108 0 9 -223 232 \n-230 231 -3 0 -11 -3 -17 -6z"/>\n<path d="M10700 3119 c-390 -84 -696 -376 -797 -759 -31 -117 -41 -292 -24 -411 \n33 -227 150 -453 318 -609 267 -250 643 -344 993 -249 117 32 283 118 380 196 \n487 396 518 1128 67 1560 -97 93 -166 140 -290 198 -137 64 -235 86 -407 91 -120 \n3 -162 0 -240 -17z m445 -313 c238 -81 409 -258 486 -506 30 -96 33 -289 5 -388 \n-110 -400 -513 -637 -911 -536 -149 38 -313 147 -402 267 -176 238 -203 533 -71 \n797 34 69 60 103 138 180 77 78 111 104 181 139 129 65 207 81 364 77 109 -3 143 -7 210 -30z"/>\n<path d="M10703 2700 c-54 -19 -153 -71 -153 -80 0 -3 51 -57 114 -119 80 -80 \n119 -112 130 -108 14 5 16 29 16 167 l0 160 -27 -1 c-16 0 -52 -9 -80 -19z"/>\n<path d="M11020 2561 c0 -139 2 -162 16 -168 22 -8 247 216 234 232 -17 20 -163 \n84 -207 91 l-43 7 0 -162z"/>\n<path d="M10366 2424 c-29 -44 -76 -165 -76 -194 0 -19 7 -20 165 -20 126 0 165 \n3 165 13 0 7 -51 63 -114 126 l-114 114 -26 -39z"/>\n<path d="M11313 2348 c-61 -62 -109 -119 -106 -125 6 -15 333 -19 333 -4 0 45 -88 \n241 -108 241 -4 0 -57 -51 -119 -112z"/>\n<path d="M10882 2338 c-17 -17 -15 -32 7 -52 16 -14 23 -15 41 -6 31 17 24 64 -10 \n68 -14 2 -31 -3 -38 -10z"/>\n<path d="M10846 2159 c-68 -81 17 -194 110 -144 89 48 56 175 -46 175 -30 0 -44 \n-6 -64 -31z"/>\n<path d="M10670 2126 c-19 -23 -8 -61 18 -64 44 -7 67 32 36 62 -19 20 -38 20 -54 2z"/>\n<path d="M11106 2127 c-21 -16 -18 -45 7 -61 37 -23 77 35 41 61 -10 7 -21 13 -24 \n13 -3 0 -14 -6 -24 -13z"/>\n<path d="M10290 1970 c0 -29 43 -141 74 -195 l28 -48 116 116 c81 81 113 120 109 \n131 -6 14 -29 16 -167 16 -152 0 -160 -1 -160 -20z"/>\n<path d="M11207 1978 c-3 -7 47 -66 111 -130 l116 -118 27 43 c27 44 79 177 79 203 \n0 12 -28 14 -164 14 -122 0 -166 -3 -169 -12z"/>\n<path d="M10881 1901 c-14 -25 -5 -48 20 -56 27 -9 51 13 47 44 -4 34 -51 43 -67 12z"/> \n<path d="M10662 1697 c-61 -62 -112 -115 -112 -119 0 -20 201 -108 247 -108 10 0 13 \n34 13 164 0 140 -2 165 -16 170 -9 3 -16 6 -17 6 -1 0 -53 -51 -115 -113z"/> \n<path d="M11033 1803 c-10 -3 -13 -47 -13 -169 0 -90 4 -164 8 -164 36 0 186 61 239 \n98 16 10 -216 242 -234 235z"/> </g>\n</svg>`,y=()=>`\n<div class="garage-heading">\n  <div>Cars in garage: ${n.carsCount}</div>\n  <div>Page № ${n.carsPage}</div>\n</div>\n  ${n.cars.map((n=>`\n<div class="car-container" id="car-road-${n.id}">\n  <div class="controll-buttons">\n    <button class="select-btn" id="select-car-${n.id}">Select</button>\n    <button class="remove-btn" id="remove-car-${n.id}">Remove</button>\n    <span class="car-name">${n.name}</span>\n    <button class="start-engine-btn" id="start-engine-car-${n.id}">Start</button>\n    <button class="stop-engine-btn" id="stop-engine-car-${n.id}" disabled>Stop</button>\n  </div>\n\n  <div class="road">\n    <div class="car" id="car-${n.id}">${h(n.color)}</div>\n    <div class="flag" id="flag-${n.id}">&#127937;</div>\n  </div>\n  <div id="engine-broke-${n.id}" class = "message" display="none"></div>\n</div>`)).join("")}\n<p class="winner-mesage" id="winner-mesage"></p>  \n`,m=()=>`\n<div class="winners-heading">\n<div>Winners: ${n.winnersCount}</div>\n<div>Page № ${n.winnersPage}</div>\n</div>\n  <table cellspacing ="3" border="0" cellpadding="3" >\n    <thead>\n      <th>№</th>\n      <th>Car</th>\n      <th>Name</th>\n      <th class="sort-by-btn" id="sort-by-wins">Wins</th>\n      <th class="sort-by-btn" id="sort-by-time">Best time(seconds)</th>\n    </thead>\n    <tbody>\n    ${n.winners.map(((n,e)=>`\n        <tr>\n          <td>${e+1}</td>\n          <td>${h(n.car.color)}</td>\n          <td>${n.car.name}</td>\n          <td>${n.wins}</td>\n          <td>${n.time}</td>\n        </tr>\n        `)).join(" ")}\n    </tbody>\n  </table>`;var w=function(n,e,t,i){return new(t||(t=Promise))((function(o,r){function c(n){try{d(i.next(n))}catch(n){r(n)}}function a(n){try{d(i.throw(n))}catch(n){r(n)}}function d(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(c,a)}d((i=i.apply(n,e||[])).next())}))};const p=()=>w(void 0,void 0,void 0,(function*(){try{const{items:e,count:i}=yield((n,...e)=>t(void 0,[n,...e],void 0,(function*(n,e=10){try{const t=yield fetch(`${o}?_page=${n}&_limit=${e}`);if(!t.ok)throw new Error("Failed to fetch cars");const i=Number(t.headers.get("X-Total-Count"));return{items:yield t.json(),count:i}}catch(n){throw new Error(`Failed to fetch cars: ${n}`)}})))(n.carsPage);n.cars=e,n.carsCount=i}catch(n){throw n}})),g=()=>w(void 0,void 0,void 0,(function*(){try{const{items:e,count:i}=yield((n,e,i,...o)=>t(void 0,[n,e,i,...o],void 0,(function*(n,e,i,o=7){try{const r=yield fetch(`${c}?_page=${n}&_limit=${o}&${((n,e)=>n&&e?`&_sort=${n}&_order=${e}`:"")(e,i)}`);if(!r.ok)throw new Error("Failed to fetch winners");const d=yield r.json();return{items:yield Promise.all(d.map((n=>t(void 0,void 0,void 0,(function*(){return Object.assign(Object.assign({},n),{car:yield a(n.id)})}))))),count:r.headers.get("X-Total-Count")}}catch(n){throw new Error(`Error fetching winners: ${n}`)}})))(n.winnersPage,n.sortBy,n.sortOrder);n.winners=e,n.winnersCount=Number(i)}catch(n){throw n}}));var b=function(n,e,t,i){return new(t||(t=Promise))((function(o,r){function c(n){try{d(i.next(n))}catch(n){r(n)}}function a(n){try{d(i.throw(n))}catch(n){r(n)}}function d(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(c,a)}d((i=i.apply(n,e||[])).next())}))};const E=["Porshe","Tesla","Kia","Peugeot","Honda","Jaguar","Mazda","Volvo","MINI","Toyota","SomeSuperFast"],$=["911","Model Y","Seltos","206","CR-V","F-PACE","CX-5","XC60","3-door","Corolla","SuperCar"],I=()=>`${E[Math.floor(Math.random()*$.length)]} ${$[Math.floor(Math.random()*$.length)]}`,M=()=>{let n="#";for(let e=0;e<6;e+=1)n+="0123456789ABCDEF"[Math.floor(16*Math.random())];return n};var B=function(n,e,t,i){return new(t||(t=Promise))((function(o,r){function c(n){try{d(i.next(n))}catch(n){r(n)}}function a(n){try{d(i.throw(n))}catch(n){r(n)}}function d(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(c,a)}d((i=i.apply(n,e||[])).next())}))},P=function(n,e,t,i){return new(t||(t=Promise))((function(o,r){function c(n){try{d(i.next(n))}catch(n){r(n)}}function a(n){try{d(i.throw(n))}catch(n){r(n)}}function d(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(c,a)}d((i=i.apply(n,e||[])).next())}))};var x=function(n,e,t,i){return new(t||(t=Promise))((function(o,r){function c(n){try{d(i.next(n))}catch(n){r(n)}}function a(n){try{d(i.throw(n))}catch(n){r(n)}}function d(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(c,a)}d((i=i.apply(n,e||[])).next())}))};const L=()=>{n.sortOrder="asc"===n.sortOrder?"desc":"asc"},T=()=>x(void 0,void 0,void 0,(function*(){const e=document.getElementById("sort-by-wins"),t=document.getElementById("sort-by-time"),i=document.getElementById("winners");e&&e.addEventListener("click",(()=>x(void 0,void 0,void 0,(function*(){n.sortBy="wins",L(),yield g(),i&&(i.innerHTML=m()),yield T()})))),t&&t.addEventListener("click",(()=>x(void 0,void 0,void 0,(function*(){n.sortBy="time",L(),yield g(),i&&(i.innerHTML=m()),yield T()}))))}));var k=function(n,e,t,i){return new(t||(t=Promise))((function(o,r){function c(n){try{d(i.next(n))}catch(n){r(n)}}function a(n){try{d(i.throw(n))}catch(n){r(n)}}function d(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(c,a)}d((i=i.apply(n,e||[])).next())}))},C=function(n,e,t,i){return new(t||(t=Promise))((function(o,r){function c(n){try{d(i.next(n))}catch(n){r(n)}}function a(n){try{d(i.throw(n))}catch(n){r(n)}}function d(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(c,a)}d((i=i.apply(n,e||[])).next())}))};const z=(e,t)=>C(void 0,void 0,void 0,(function*(){const{success:i,id:o,time:r}=yield Promise.race(e);if(!i){const n=t.findIndex((n=>n===o));return e.splice(n,1),t.splice(n,1),e.length<1?null:z(e,t)}const c=n.cars.find((n=>n.id===o));return c?Object.assign(Object.assign({},c),{time:+(r/1e3).toFixed(2)}):null}));var F=function(n,e,t,i){return new(t||(t=Promise))((function(o,r){function c(n){try{d(i.next(n))}catch(n){r(n)}}function a(n){try{d(i.throw(n))}catch(n){r(n)}}function d(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(c,a)}d((i=i.apply(n,e||[])).next())}))};const D=()=>F(void 0,void 0,void 0,(function*(){const e=document.getElementById("winners"),i=document.getElementById("reset");i.disabled=!1;const o=document.getElementById("race");o.addEventListener("click",(()=>F(void 0,void 0,void 0,(function*(){const r=document.getElementById("winner-mesage");i.disabled=!0,o.disabled=!0;const a=yield(d=v,C(void 0,void 0,void 0,(function*(){const e=n.cars.map((({id:n})=>d(n)));return yield z(e,n.cars.map((n=>n.id)))})));var d,s;a?(r&&(r.innerHTML=`${a.name} went first in ${a.time} seconds!`,r.classList.add("display")),yield(s=a,t(void 0,[s],void 0,(function*({id:n,time:e}){try{const o=yield(n=>t(void 0,void 0,void 0,(function*(){try{return(yield fetch(`${c}/${n}`)).status}catch(e){throw new Error(`Error fetching status for winner with ID ${n}: ${e}`)}})))(n);if(404===o)yield(i={id:n,wins:1,time:e},t(void 0,void 0,void 0,(function*(){try{const n=yield fetch(`${c}`,{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json"}});if(!n.ok)throw new Error("Failed to create winner");return yield n.json()}catch(n){throw new Error(`Error creating winner: ${n}`)}})));else{const i=yield l(n);yield((n,e)=>t(void 0,void 0,void 0,(function*(){try{const t=yield fetch(`${c}/${n}`,{method:"PUT",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error(`Failed to update winner with ID ${n}`);return yield t.json()}catch(e){throw new Error(`Error updating winner with ID ${n}: ${e}`)}})))(n,{id:n,wins:i.wins+1,time:e<i.time?e:i.time})}}catch(e){throw new Error(`Error saving winner with ID ${n}: ${e}`)}var i}))),yield g(),e&&(e.innerHTML=m()),yield T(),i.disabled=!1,o.disabled=!1):o.disabled=!1}))))}));var H=function(n,e,t,i){return new(t||(t=Promise))((function(o,r){function c(n){try{d(i.next(n))}catch(n){r(n)}}function a(n){try{d(i.throw(n))}catch(n){r(n)}}function d(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(c,a)}d((i=i.apply(n,e||[])).next())}))};var j=function(n,e,t,i){return new(t||(t=Promise))((function(o,r){function c(n){try{d(i.next(n))}catch(n){r(n)}}function a(n){try{d(i.throw(n))}catch(n){r(n)}}function d(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(c,a)}d((i=i.apply(n,e||[])).next())}))},O=function(n,e,t,i){return new(t||(t=Promise))((function(o,r){function c(n){try{d(i.next(n))}catch(n){r(n)}}function a(n){try{d(i.throw(n))}catch(n){r(n)}}function d(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(c,a)}d((i=i.apply(n,e||[])).next())}))};const S=()=>{return i=void 0,r=void 0,h=function*(){O(void 0,void 0,void 0,(function*(){const t=document.getElementById("to-winners"),i=document.getElementById("to-garage"),o=document.getElementById("garage"),r=document.getElementById("winners"),c=document.getElementById("hide-panel-wrapper");t.addEventListener("click",(()=>O(void 0,void 0,void 0,(function*(){r.innerHTML=m(),o.innerHTML="",c.style.display="block",o.classList.add("moveleft"),n.view="winnersPage",e()})))),i.addEventListener("click",(()=>O(void 0,void 0,void 0,(function*(){o.innerHTML=y(),c.style.display="none",o.classList.remove("moveleft"),n.view="garagePage",e()}))))})),e(),P(void 0,void 0,void 0,(function*(){const n=document.getElementById("generator"),t=document.getElementById("garage");n&&n.addEventListener("click",(()=>P(void 0,void 0,void 0,(function*(){n.disabled=!0;const i=new Array(100).fill(0).map((()=>({name:I(),color:M()})));yield Promise.all(i.map((n=>P(void 0,void 0,void 0,(function*(){return d(n)}))))),yield p(),t&&(t.innerHTML=y()),n.disabled=!1,e()}))))})),k(void 0,void 0,void 0,(function*(){const t=document.getElementById("prev"),i=document.getElementById("next"),o=document.getElementById("garage"),r=document.getElementById("winners");t.addEventListener("click",(()=>k(void 0,void 0,void 0,(function*(){switch(n.view){case"garagePage":n.carsPage-=1,yield p(),o&&(o.innerHTML=y());break;case"winnersPage":n.winnersPage-=1,yield g(),r&&(r.innerHTML=m());break;default:throw new Error(`Unexpected view type received: ${n.view}`)}e(),yield T()})))),i.addEventListener("click",(()=>k(void 0,void 0,void 0,(function*(){switch(n.view){case"garagePage":n.carsPage+=1,yield p(),o&&(o.innerHTML=y());break;case"winnersPage":n.winnersPage+=1,yield g(),r&&(r.innerHTML=m());break;default:throw new Error(`Unexpected view type received: ${n.view}`)}e(),yield T()}))))})),T(),b(void 0,void 0,void 0,(function*(){const e=document.getElementById("update-name"),i=document.getElementById("update-color"),r=document.getElementById("update-btn"),d=document.getElementById("garage"),s=document.getElementById("winners");d.addEventListener("click",(u=>b(void 0,void 0,void 0,(function*(){const h=u.target;if(h.classList.contains("select-btn")){const t=Number(h.id.split("select-car-")[1]),o=yield a(t);n.selectedCarID=o.id,e.value=o.name,i.value=o.color,e.disabled=!1,i.disabled=!1,r.disabled=!1}if(h.classList.contains("remove-btn")){const n=Number(h.id.split("remove-car-")[1]);yield(n=>t(void 0,void 0,void 0,(function*(){try{if(!(yield fetch(`${o}/${n}`,{method:"DELETE"})).ok)throw new Error("Failed to delete car")}catch(n){throw new Error(`Failed to delite car by ID: ${n}`)}})))(n),(yield l(n))&&(yield(n=>t(void 0,void 0,void 0,(function*(){try{if(!(yield fetch(`${c}/${n}`,{method:"DELETE"})).ok)throw new Error(`Failed to delete winner with ID ${n}`)}catch(e){throw new Error(`Error deleting winner with ID ${n}: ${e}`)}})))(n),yield g(),s.innerHTML=m()),yield p(),d.innerHTML=y()}if(h.classList.contains("start-engine-btn")){const n=Number(h.id.split("start-engine-car-")[1]);v(n)}if(h.classList.contains("stop-engine-btn")){const n=Number(h.id.split("stop-engine-car-")[1]);f(n)}}))))})),D(),H(void 0,void 0,void 0,(function*(){const e=document.getElementById("reset");null==e||e.addEventListener("click",(()=>H(void 0,void 0,void 0,(function*(){const t=document.getElementById("race"),i=document.getElementById("winner-mesage");null==i||i.classList.remove("display"),e.disabled=!0,t.disabled=!0,n.cars.forEach((({id:n})=>{f(n)})),e.disabled=!1,t.disabled=!1}))))})),B(void 0,void 0,void 0,(function*(){document.getElementById("create-btn").addEventListener("click",(n=>B(void 0,void 0,void 0,(function*(){n.preventDefault();const t=document.getElementById("create-name"),i=document.getElementById("create-color"),o=document.getElementById("garage"),r={name:t.value,color:i.value};try{yield d(r),yield p(),o.innerHTML=y(),t.value=I(),i.value=M(),e()}catch(n){throw n}}))))})),j(void 0,void 0,void 0,(function*(){const e=document.getElementById("update-btn");e.addEventListener("click",(t=>j(void 0,void 0,void 0,(function*(){t.preventDefault();const i=document.getElementById("update-name"),o=document.getElementById("update-color"),r=document.getElementById("garage"),c=document.getElementById("winners"),a={name:i.value,color:o.value};if(null!==n.selectedCarID)try{yield s(a,n.selectedCarID),yield p(),yield g(),c.innerHTML=m(),r.innerHTML=y()}catch(n){throw n}i.disabled=!0,i.value="",o.disabled=!0,o.value="#ffe042",e.disabled=!0,n.selectedCarID=null}))))}))},new((u=void 0)||(u=Promise))((function(n,e){function t(n){try{c(h.next(n))}catch(n){e(n)}}function o(n){try{c(h.throw(n))}catch(n){e(n)}}function c(e){var i;e.done?n(e.value):(i=e.value,i instanceof u?i:new u((function(n){n(i)}))).then(t,o)}c((h=h.apply(i,r||[])).next())}));var i,r,u,h};const N=()=>{return n=void 0,e=void 0,i=function*(){const n=new DocumentFragment,e=document.createElement("main");e.classList.add("main"),e.innerHTML=`\n  <div class="navigation-panel wrapper">\n    <div class="nav-btn" id="to-garage">To Garage</div>\n    <div class="nav-btn" id="to-winners">To Winners</div>\n  </div>\n\n  <div class="action-panel wrapper">\n  <div class="hide-panel-wrapper" id="hide-panel-wrapper"></div>\n    <div class="forms">\n      <form action="" class="form" id="create">\n        <input type="text" class="input" id="create-name" value="">\n        <input type="color" class="color" id="create-color" value="#ffe042">\n        <button class="action-btn"  id="create-btn">Create</button>\n      </form>\n      <form action="" class="form" id="update">\n        <input type="text" class="input" id="update-name" name="name" disabled >\n        <input type="color" class="color" id="update-color" name="color" value="#ffe042" disabled>\n        <button class="action-btn" id="update-btn" "type="submit" disabled>Update</button>\n      </form>\n    </div>\n    <div class="race-controls">\n      <button class="action-btn race-btn" id="race">Race</button>\n      <button class="action-btn reset-btn" id="reset"  >Reset</button>\n      <button class="action-btn generator-btn" id="generator">Generate cars</button>\n    </div>\n  </div>\n\n  <div class="pagination-panel wrapper">\n    <button class="action-btn prev-btn" id="prev">PREV</button>\n    <button class="action-btn next-btn" id="next">NEXT</button>\n  </div>\n\n  <div class="main-panel wrapper">\n    <div class="main-screan-wrapper">\n      <div class="garage" id="garage">${y()}</div>\n      <div class="winners" id="winners">${m()}</div>\n    </div>\n  </div>\n  `,n.appendChild(e),document.body.innerHTML="",document.body.appendChild(n),document.getElementById("create-name").value=I()},new((t=void 0)||(t=Promise))((function(o,r){function c(n){try{d(i.next(n))}catch(n){r(n)}}function a(n){try{d(i.throw(n))}catch(n){r(n)}}function d(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(c,a)}d((i=i.apply(n,e||[])).next())}));var n,e,t,i};var A,R;R=function*(){N(),yield w(void 0,void 0,void 0,(function*(){try{yield p(),yield g()}catch(n){throw n}})).then((()=>N())),S()},new((A=void 0)||(A=Promise))((function(n,e){function t(n){try{o(R.next(n))}catch(n){e(n)}}function i(n){try{o(R.throw(n))}catch(n){e(n)}}function o(e){var o;e.done?n(e.value):(o=e.value,o instanceof A?o:new A((function(n){n(o)}))).then(t,i)}o((R=R.apply(void 0,[])).next())}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cmNlcyI6WyJ3ZWJwYWNrOi8vYXN5bmMtcmFjZS8uL3NyYy9oZWxwZXJzL3N0b3JlLnRzIiwid2VicGFjazovL2FzeW5jLXJhY2UvLi9zcmMvZXZlbnQtbGlzdGVuZXJzL2J1dHRvbnMtdG9nZ2xlci50cyIsIndlYnBhY2s6Ly9hc3luYy1yYWNlLy4vc3JjL2FwaS50cyIsIndlYnBhY2s6Ly9hc3luYy1yYWNlLy4vc3JjL2hlbHBlcnMvY2FsY3VsYXRlLWRpc3RhbnNlLnRzIiwid2VicGFjazovL2FzeW5jLXJhY2UvLi9zcmMvaGVscGVycy9zdGFydC1kcml2aW5nLnRzIiwid2VicGFjazovL2FzeW5jLXJhY2UvLi9zcmMvaGVscGVycy9jYXItYW5pbWF0aW9uLnRzIiwid2VicGFjazovL2FzeW5jLXJhY2UvLi9zcmMvaGVscGVycy9zdG9wLWRyaXZpbmcudHMiLCJ3ZWJwYWNrOi8vYXN5bmMtcmFjZS8uL3NyYy9oZWxwZXJzL2Nhci1zdmcudHMiLCJ3ZWJwYWNrOi8vYXN5bmMtcmFjZS8uL3NyYy9yZW5kZXItZnVuY3Rpb25zL2dhcmFnZS1ibG9jay50cyIsIndlYnBhY2s6Ly9hc3luYy1yYWNlLy4vc3JjL3JlbmRlci1mdW5jdGlvbnMvd2lubmVycy1ibG9jay50cyIsIndlYnBhY2s6Ly9hc3luYy1yYWNlLy4vc3JjL3VwZGF0ZS1zdGF0ZS50cyIsIndlYnBhY2s6Ly9hc3luYy1yYWNlLy4vc3JjL2V2ZW50LWxpc3RlbmVycy9jYXItY29udHJvbGwudHMiLCJ3ZWJwYWNrOi8vYXN5bmMtcmFjZS8uL3NyYy9oZWxwZXJzL2dlbmVyYXRvcnMudHMiLCJ3ZWJwYWNrOi8vYXN5bmMtcmFjZS8uL3NyYy9ldmVudC1saXN0ZW5lcnMvY3JldGUtbmV3LWNhci50cyIsIndlYnBhY2s6Ly9hc3luYy1yYWNlLy4vc3JjL2V2ZW50LWxpc3RlbmVycy9nZW5lcmF0ZS1wYWNrLW9mLWNhcnMudHMiLCJ3ZWJwYWNrOi8vYXN5bmMtcmFjZS8uL3NyYy9ldmVudC1saXN0ZW5lcnMvc29ydC13aW5uZXJzLnRzIiwid2VicGFjazovL2FzeW5jLXJhY2UvLi9zcmMvZXZlbnQtbGlzdGVuZXJzL3BhZ2dpbmF0aW9uLWJ1dHRvbnMudHMiLCJ3ZWJwYWNrOi8vYXN5bmMtcmFjZS8uL3NyYy9oZWxwZXJzL3N0YXJ0LXJhY2UudHMiLCJ3ZWJwYWNrOi8vYXN5bmMtcmFjZS8uL3NyYy9ldmVudC1saXN0ZW5lcnMvcmFjZS50cyIsIndlYnBhY2s6Ly9hc3luYy1yYWNlLy4vc3JjL2V2ZW50LWxpc3RlbmVycy9yZXNldC1yYWNlLnRzIiwid2VicGFjazovL2FzeW5jLXJhY2UvLi9zcmMvZXZlbnQtbGlzdGVuZXJzL3VwZGF0ZS1jYXIudHMiLCJ3ZWJwYWNrOi8vYXN5bmMtcmFjZS8uL3NyYy9ldmVudC1saXN0ZW5lcnMvdmlldy1ibG9jay1zZWxlY3Rvci50cyIsIndlYnBhY2s6Ly9hc3luYy1yYWNlLy4vc3JjL2xpc3Qtb2YtcGFnZS1saXN0ZW5lcnMudHMiLCJ3ZWJwYWNrOi8vYXN5bmMtcmFjZS8uL3NyYy9yZW5kZXItZnVuY3Rpb25zL21haW4tdmlldy50cyIsIndlYnBhY2s6Ly9hc3luYy1yYWNlLy4vc3JjL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBzdG9yZSA9IHtcbiAgICBjYXJzUGFnZTogMSxcbiAgICBjYXJzOiBbXSxcbiAgICBjYXJzQ291bnQ6IDEsXG4gICAgd2lubmVyc1BhZ2U6IDEsXG4gICAgd2lubmVyczogW10sXG4gICAgd2lubmVyc0NvdW50OiAwLFxuICAgIHZpZXc6ICdnYXJhZ2VQYWdlJyxcbiAgICBzb3J0Qnk6IG51bGwsXG4gICAgc29ydE9yZGVyOiBudWxsLFxuICAgIHNlbGVjdGVkQ2FySUQ6IG51bGwsXG4gICAgYW5pbWF0aW9uOiBbXSxcbn07XG4iLCJ2YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbmltcG9ydCB7IHN0b3JlIH0gZnJvbSAnLi4vaGVscGVycy9zdG9yZSc7XG5leHBvcnQgY29uc3QgYnV0dG9uVG9nZ2xlciA9ICgpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgIGNvbnN0IHByZXZCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJldicpO1xuICAgIGNvbnN0IG5leHRCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmV4dCcpO1xuICAgIGNvbnN0IGN1cnJlbnRQYWdlID0gc3RvcmUudmlldyA9PT0gJ2dhcmFnZVBhZ2UnID8gc3RvcmUuY2Fyc1BhZ2UgOiBzdG9yZS53aW5uZXJzUGFnZTtcbiAgICBjb25zdCBpdGVtQ291bnQgPSBzdG9yZS52aWV3ID09PSAnZ2FyYWdlUGFnZScgPyBzdG9yZS5jYXJzQ291bnQgOiBzdG9yZS53aW5uZXJzQ291bnQ7XG4gICAgbmV4dEJ1dHRvbi5kaXNhYmxlZCA9IGN1cnJlbnRQYWdlICogKHN0b3JlLnZpZXcgPT09ICdnYXJhZ2VQYWdlJyA/IDcgOiAxMCkgPj0gaXRlbUNvdW50O1xuICAgIHByZXZCdXR0b24uZGlzYWJsZWQgPSBjdXJyZW50UGFnZSA8PSAxO1xufSk7XG4iLCJ2YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbmNvbnN0IGJhc2UgPSAnaHR0cHM6Ly9mbGludC1icmF6ZW4tY2F0c2hhcmsuZ2xpdGNoLm1lLyc7XG4vLyBjb25zdCBiYXNlID0gJ2h0dHA6Ly8xMjcuMC4wLjE6MzAwMC8nXG5jb25zdCBnYXJhZ2UgPSBgJHtiYXNlfS9nYXJhZ2VgO1xuY29uc3QgZW5naW5lID0gYCR7YmFzZX0vZW5naW5lYDtcbmNvbnN0IHdpbm5lcnMgPSBgJHtiYXNlfS93aW5uZXJzYDtcbmV4cG9ydCBjb25zdCBnZXRDYXJzID0gKG51bWJlck9mUGFnZVRvRGlzcGxheV8xLCAuLi5hcmdzXzEpID0+IF9fYXdhaXRlcih2b2lkIDAsIFtudW1iZXJPZlBhZ2VUb0Rpc3BsYXlfMSwgLi4uYXJnc18xXSwgdm9pZCAwLCBmdW5jdGlvbiogKG51bWJlck9mUGFnZVRvRGlzcGxheSwgZWxlbWVudHNQZXJQYWdlID0gMTApIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIGZldGNoKGAke2dhcmFnZX0/X3BhZ2U9JHtudW1iZXJPZlBhZ2VUb0Rpc3BsYXl9Jl9saW1pdD0ke2VsZW1lbnRzUGVyUGFnZX1gKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gZmV0Y2ggY2FycycpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvdW50ID0gTnVtYmVyKHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdYLVRvdGFsLUNvdW50JykpO1xuICAgICAgICBjb25zdCBpdGVtcyA9ICh5aWVsZCByZXNwb25zZS5qc29uKCkpO1xuICAgICAgICByZXR1cm4geyBpdGVtcywgY291bnQgfTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoIGNhcnM6ICR7ZXJyb3J9YCk7XG4gICAgfVxufSk7XG5leHBvcnQgY29uc3QgZ2V0Q2FyID0gKGlkKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIGZldGNoKGAke2dhcmFnZX0vJHtpZH1gKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gZmV0Y2ggY2FyJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICh5aWVsZCByZXNwb25zZS5qc29uKCkpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgZmV0Y2hpbmcgY2FyIGJ5IElEOiAke2Vycm9yfWApO1xuICAgIH1cbn0pO1xuZXhwb3J0IGNvbnN0IGNyZWF0ZUNhciA9IChib2R5KSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIGZldGNoKGAke2dhcmFnZX1gLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gY3JlYXRlIGNhcicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoeWllbGQgcmVzcG9uc2UuanNvbigpKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIGluIGNyZWF0aW5nIGNhcjogJHtlcnJvcn1gKTtcbiAgICB9XG59KTtcbmV4cG9ydCBjb25zdCBkZWxldGVDYXIgPSAoaWQpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgZmV0Y2goYCR7Z2FyYWdlfS8ke2lkfWAsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBkZWxldGUgY2FyJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGRlbGl0ZSBjYXIgYnkgSUQ6ICR7ZXJyb3J9YCk7XG4gICAgfVxufSk7XG5leHBvcnQgY29uc3QgdXBkYXRlQ2FyID0gKGJvZHksIGlkKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIGZldGNoKGAke2dhcmFnZX0vJHtpZH1gLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byB1cGRhdGUgY2FyJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICh5aWVsZCByZXNwb25zZS5qc29uKCkpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgaW4gY2FyIHVwZGF0aW5nIGJ5IElEICR7aWR9OiAke2Vycm9yfWApO1xuICAgIH1cbn0pO1xuZXhwb3J0IGNvbnN0IHN0YXJ0Q2FyID0gKGlkKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIGZldGNoKGAke2VuZ2luZX0/aWQ9JHtpZH0mc3RhdHVzPXN0YXJ0ZWRgLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBzdGFydCBjYXInKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKHlpZWxkIHJlc3BvbnNlLmpzb24oKSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVycm9yIHN0YXJ0aW5nIGNhciB3aXRoIElEICR7aWR9OjogJHtlcnJvcn1gKTtcbiAgICB9XG59KTtcbmV4cG9ydCBjb25zdCBzdG9wQ2FyID0gKGlkKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIGZldGNoKGAke2VuZ2luZX0/aWQ9JHtpZH0mc3RhdHVzPXN0b3BwZWRgLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBzdG9wIGNhcicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoeWllbGQgcmVzcG9uc2UuanNvbigpKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRXJyb3Igc3RvcHBpbmcgY2FyIHdpdGggSUQgJHtpZH06ICR7ZXJyb3J9YCk7XG4gICAgfVxufSk7XG5leHBvcnQgY29uc3QgZHJpdmVDYXIgPSAoaWQpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgZmV0Y2goYCR7ZW5naW5lfT9pZD0ke2lkfSZzdGF0dXM9ZHJpdmVgLCB7IG1ldGhvZDogJ1BBVENIJyB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gZHJpdmUgY2FyJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgKHlpZWxkIHJlc3BvbnNlLmpzb24oKSkpLCB7IHN1Y2Nlc3M6IHRydWUgfSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBkcml2aW5nIGNhciB3aXRoIElEICR7aWR9OmAsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UgfTtcbiAgICB9XG59KTtcbmV4cG9ydCBjb25zdCBnZXRTb3J0T3JkZXIgPSAoc29ydCwgb3JkZXIpID0+IHtcbiAgICByZXR1cm4gc29ydCAmJiBvcmRlciA/IGAmX3NvcnQ9JHtzb3J0fSZfb3JkZXI9JHtvcmRlcn1gIDogJyc7XG59O1xuZXhwb3J0IGNvbnN0IGdldFdpbm5lcnMgPSAocGFnZV8xLCBzb3J0XzEsIG9yZGVyXzEsIC4uLmFyZ3NfMikgPT4gX19hd2FpdGVyKHZvaWQgMCwgW3BhZ2VfMSwgc29ydF8xLCBvcmRlcl8xLCAuLi5hcmdzXzJdLCB2b2lkIDAsIGZ1bmN0aW9uKiAocGFnZSwgc29ydCwgb3JkZXIsIEl0ZW1zUGVyV2lubmVyc1BhZ2UgPSA3KSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCBmZXRjaChgJHt3aW5uZXJzfT9fcGFnZT0ke3BhZ2V9Jl9saW1pdD0ke0l0ZW1zUGVyV2lubmVyc1BhZ2V9JiR7Z2V0U29ydE9yZGVyKHNvcnQsIG9yZGVyKX1gKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gZmV0Y2ggd2lubmVycycpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGl0ZW1zID0geWllbGQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICBjb25zdCB3aW5uZXJzV2l0aENhcnMgPSB5aWVsZCBQcm9taXNlLmFsbChpdGVtcy5tYXAoKHdpbm5lcikgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgd2lubmVyKSwgeyBjYXI6IHlpZWxkIGdldENhcih3aW5uZXIuaWQpIH0pKTtcbiAgICAgICAgfSkpKTtcbiAgICAgICAgY29uc3QgY291bnQgPSByZXNwb25zZS5oZWFkZXJzLmdldCgnWC1Ub3RhbC1Db3VudCcpO1xuICAgICAgICByZXR1cm4geyBpdGVtczogd2lubmVyc1dpdGhDYXJzLCBjb3VudCB9O1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciBmZXRjaGluZyB3aW5uZXJzOiAke2Vycm9yfWApO1xuICAgIH1cbn0pO1xuZXhwb3J0IGNvbnN0IGdldFdpbm5lciA9IChpZCkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCBmZXRjaChgJHt3aW5uZXJzfS8ke2lkfWApO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCB3aW5uZXIgd2l0aCBJRCAke2lkfWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoeWllbGQgcmVzcG9uc2UuanNvbigpKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRXJyb3IgZmV0Y2hpbmcgd2lubmVyIHdpdGggSUQgJHtpZH06ICR7ZXJyb3J9YCk7XG4gICAgfVxufSk7XG5leHBvcnQgY29uc3QgZGVsZXRlV2lubmVyID0gKGlkKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIGZldGNoKGAke3dpbm5lcnN9LyR7aWR9YCwgeyBtZXRob2Q6ICdERUxFVEUnIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBkZWxldGUgd2lubmVyIHdpdGggSUQgJHtpZH1gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciBkZWxldGluZyB3aW5uZXIgd2l0aCBJRCAke2lkfTogJHtlcnJvcn1gKTtcbiAgICB9XG59KTtcbmV4cG9ydCBjb25zdCBjcmVhdGVXaW5uZXIgPSAoYm9keSkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCBmZXRjaChgJHt3aW5uZXJzfWAsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBjcmVhdGUgd2lubmVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHlpZWxkIHJlc3BvbnNlLmpzb24oKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRXJyb3IgY3JlYXRpbmcgd2lubmVyOiAke2Vycm9yfWApO1xuICAgIH1cbn0pO1xuZXhwb3J0IGNvbnN0IHVwZGF0ZVdpbm5lciA9IChpZCwgYm9keSkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCBmZXRjaChgJHt3aW5uZXJzfS8ke2lkfWAsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHVwZGF0ZSB3aW5uZXIgd2l0aCBJRCAke2lkfWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoeWllbGQgcmVzcG9uc2UuanNvbigpKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRXJyb3IgdXBkYXRpbmcgd2lubmVyIHdpdGggSUQgJHtpZH06ICR7ZXJyb3J9YCk7XG4gICAgfVxufSk7XG5leHBvcnQgY29uc3QgZ2V0V2lubmVyU3RhdHVzID0gKGlkKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIGZldGNoKGAke3dpbm5lcnN9LyR7aWR9YCk7XG4gICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXM7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVycm9yIGZldGNoaW5nIHN0YXR1cyBmb3Igd2lubmVyIHdpdGggSUQgJHtpZH06ICR7ZXJyb3J9YCk7XG4gICAgfVxufSk7XG5leHBvcnQgY29uc3Qgc2F2ZVdpbm5lcnMgPSAoX2EpID0+IF9fYXdhaXRlcih2b2lkIDAsIFtfYV0sIHZvaWQgMCwgZnVuY3Rpb24qICh7IGlkLCB0aW1lIH0pIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB3aW5uZXJTdGF0dXMgPSB5aWVsZCBnZXRXaW5uZXJTdGF0dXMoaWQpO1xuICAgICAgICBpZiAod2lubmVyU3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgICAgIHlpZWxkIGNyZWF0ZVdpbm5lcih7IGlkLCB3aW5zOiAxLCB0aW1lIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3Qgd2lubmVyID0geWllbGQgZ2V0V2lubmVyKGlkKTtcbiAgICAgICAgICAgIHlpZWxkIHVwZGF0ZVdpbm5lcihpZCwge1xuICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICAgIHdpbnM6IHdpbm5lci53aW5zICsgMSxcbiAgICAgICAgICAgICAgICB0aW1lOiB0aW1lIDwgd2lubmVyLnRpbWUgPyB0aW1lIDogd2lubmVyLnRpbWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciBzYXZpbmcgd2lubmVyIHdpdGggSUQgJHtpZH06ICR7ZXJyb3J9YCk7XG4gICAgfVxufSk7XG4iLCJmdW5jdGlvbiBjYWxjdWxhdGVQb3NpdGlvbihlbGVtZW50KSB7XG4gICAgY29uc3QgeyBsZWZ0LCB3aWR0aCB9ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICByZXR1cm4gbGVmdCArIHdpZHRoO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZURpc3RhbmNlKHN0YXJ0LCBmaW5pc2gpIHtcbiAgICBjb25zdCBzdGFydFBvc2l0aW9uID0gY2FsY3VsYXRlUG9zaXRpb24oc3RhcnQpO1xuICAgIGNvbnN0IGZpbmlzaFBvc2l0aW9uID0gY2FsY3VsYXRlUG9zaXRpb24oZmluaXNoKTtcbiAgICByZXR1cm4gZmluaXNoUG9zaXRpb24gLSBzdGFydFBvc2l0aW9uO1xufVxuIiwidmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5pbXBvcnQgeyBkcml2ZUNhciwgc3RhcnRDYXIgfSBmcm9tICcuLi9hcGknO1xuaW1wb3J0IHsgY2FsY3VsYXRlRGlzdGFuY2UgfSBmcm9tICcuL2NhbGN1bGF0ZS1kaXN0YW5zZSc7XG5pbXBvcnQgeyBhbmltYXRpb24gfSBmcm9tICcuL2Nhci1hbmltYXRpb24nO1xuaW1wb3J0IHsgc3RvcmUgfSBmcm9tICcuL3N0b3JlJztcbmV4cG9ydCBjb25zdCBzdGFydERyaXZpbmcgPSAoaWQpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBzdGFydEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBzdGFydC1lbmdpbmUtY2FyLSR7aWR9YCk7XG4gICAgY29uc3Qgc3RvcEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBzdG9wLWVuZ2luZS1jYXItJHtpZH1gKTtcbiAgICBzdGFydEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgY29uc3QgeyB2ZWxvY2l0eSwgZGlzdGFuY2UgfSA9IHlpZWxkIHN0YXJ0Q2FyKGlkKTtcbiAgICBjb25zdCB0aW1lID0gTWF0aC5yb3VuZChkaXN0YW5jZSAvIHZlbG9jaXR5KTtcbiAgICBzdG9wQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgY29uc3QgY2FyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGNhci0ke2lkfWApO1xuICAgIGNvbnN0IGZsYWcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgZmxhZy0ke2lkfWApO1xuICAgIGNvbnN0IGVuZ2luZUJyb2tlTWVzc2FnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBlbmdpbmUtYnJva2UtJHtpZH1gKTtcbiAgICBjb25zdCBjYXJNb2RlbFdpZHRoSW5QeCA9IDkwO1xuICAgIGNvbnN0IGN1cnJlbnREaXN0YW5jZSA9IE1hdGguZmxvb3IoY2FsY3VsYXRlRGlzdGFuY2UoY2FyLCBmbGFnKSArIGNhck1vZGVsV2lkdGhJblB4KTtcbiAgICBjb25zdCBhbmltYXRpb25EYXRhID0gYW5pbWF0aW9uKGNhciwgY3VycmVudERpc3RhbmNlLCB0aW1lKTtcbiAgICBzdG9yZS5hbmltYXRpb25baWRdID0gYW5pbWF0aW9uRGF0YTtcbiAgICBjb25zdCBkcml2ZURhdGEgPSB5aWVsZCBkcml2ZUNhcihpZCk7XG4gICAgY29uc3QgeyBzdWNjZXNzIH0gPSBkcml2ZURhdGE7XG4gICAgaWYgKCFzdWNjZXNzKSB7XG4gICAgICAgIGNvbnN0IGJyb2tlRW5naW5lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGNhci1yb2FkLSR7aWR9YCk7XG4gICAgICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZShhbmltYXRpb25EYXRhLmlkKTtcbiAgICAgICAgYnJva2VFbmdpbmUuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3BhbGV2aW9sZXRyZWQnO1xuICAgICAgICBlbmdpbmVCcm9rZU1lc3NhZ2Uuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgIGNvbnN0IGNhck5hbWUgPSAoKF9hID0gYnJva2VFbmdpbmUucXVlcnlTZWxlY3RvcignLmNhci1uYW1lJykpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS50ZXh0Q29udGVudCkgfHwgJyc7XG4gICAgICAgIGVuZ2luZUJyb2tlTWVzc2FnZS5pbm5lckhUTUwgPSBgJHtjYXJOYW1lfSBpcyBvdXQgb2YgcmFjZSBiZWNhdXNlIHRoZSBlbmdpbmUgd2FzIGJyb2tlbiBkb3duYDtcbiAgICB9XG4gICAgcmV0dXJuIHsgc3VjY2VzcywgaWQsIHRpbWUgfTtcbn0pO1xuIiwidmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5leHBvcnQgZnVuY3Rpb24gYW5pbWF0aW9uKGNhciwgZGlzdGFuY2UsIGFuaW1hdGlvblRpbWUpIHtcbiAgICBjb25zdCBzdGF0ZSA9IHsgaWQ6IDAgfTtcbiAgICBjb25zdCBzdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICBmdW5jdGlvbiBnZXRJbnRlcnZhbCgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgICAgICBjb25zdCBwYXNzZWREaXN0YW5jZSA9IE1hdGgucm91bmQoKGN1cnJlbnRUaW1lIC0gc3RhcnRUaW1lKSAqIChkaXN0YW5jZSAvIGFuaW1hdGlvblRpbWUpKTtcbiAgICAgICAgICAgIGNvbnN0IGNhclN0eWxlID0gY2FyLnN0eWxlO1xuICAgICAgICAgICAgY2FyU3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZVgoJHtNYXRoLm1pbihwYXNzZWREaXN0YW5jZSwgZGlzdGFuY2UpfXB4KWA7XG4gICAgICAgICAgICBpZiAocGFzc2VkRGlzdGFuY2UgPCBkaXN0YW5jZSkge1xuICAgICAgICAgICAgICAgIHN0YXRlLmlkID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShnZXRJbnRlcnZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzdGF0ZS5pZCA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZ2V0SW50ZXJ2YWwpO1xuICAgIHJldHVybiBzdGF0ZTtcbn1cbiIsInZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuaW1wb3J0IHsgc3RvcENhciB9IGZyb20gJy4uL2FwaSc7XG5pbXBvcnQgeyBzdG9yZSB9IGZyb20gJy4vc3RvcmUnO1xuZXhwb3J0IGNvbnN0IHN0b3BEcml2aW5nID0gKGlkKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICBjb25zdCBzdGFydEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBzdGFydC1lbmdpbmUtY2FyLSR7aWR9YCk7XG4gICAgY29uc3Qgc3RvcEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBzdG9wLWVuZ2luZS1jYXItJHtpZH1gKTtcbiAgICBjb25zdCBicm9rZUVuZ2luZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBjYXItcm9hZC0ke2lkfWApO1xuICAgIGNvbnN0IGVuZ2luZUJyb2tlTWVzc2FnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBlbmdpbmUtYnJva2UtJHtpZH1gKTtcbiAgICBzdG9wQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICB5aWVsZCBzdG9wQ2FyKGlkKTtcbiAgICBicm9rZUVuZ2luZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAndHJhbnNwYXJlbnQnO1xuICAgIGVuZ2luZUJyb2tlTWVzc2FnZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIHN0YXJ0QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgY29uc3QgY2FyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGNhci0ke2lkfWApO1xuICAgIGNhci5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWCgwKSc7XG4gICAgaWYgKHN0b3JlLmFuaW1hdGlvbltpZF0pIHtcbiAgICAgICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKHN0b3JlLmFuaW1hdGlvbltpZF0uaWQpO1xuICAgICAgICBkZWxldGUgc3RvcmUuYW5pbWF0aW9uW2lkXTtcbiAgICB9XG59KTtcbiIsImNvbnN0IGNhckltYWdlID0gKGNvbG9yKSA9PiBgPHN2ZyB2ZXJzaW9uPVwiMS4wXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXG53aWR0aD1cIjgwcHRcIiBoZWlnaHQ9XCIzMHB0XCIgdmlld0JveD1cIjAgMCAxMjgwLjAwMDAwMCA2NDAuMDAwMDAwXCJcbnByZXNlcnZlQXNwZWN0UmF0aW89XCJ4TWlkWU1pZCBtZWV0XCI+XG48ZyB0cmFuc2Zvcm09XCJ0cmFuc2xhdGUoMC4wMDAwMDAsNjQwLjAwMDAwMCkgc2NhbGUoMC4xMDAwMDAsLTAuMTAwMDAwKVwiXG5maWxsPVwiIzY4Njg2OFwiIHN0cm9rZT1cIm5vbmVcIj5cbjxwYXRoIGZpbGw9XCIke2NvbG9yfVwiIGQ9XCJNMzU2NSA1MzM2IGMtMTA2IC0zMCAtMTAxIC0yNiAtMTA4IC0xMTEgLTQgLTQyIC05XG4tODAgLTEyIC04NSAtNiAtMTAgLTI0NiAtMTA1IC01OTAgLTIzNCAtNDQ4IC0xNjcgLTEwNTIgLTQxNSAtMTE3MyAtNDgzIC03OFxuLTQzIC0xOTMgLTkxIC0yNTAgLTEwNCAtMjMgLTUgLTk4IC0xNCAtMTY1IC0xOSAtNjcgLTYgLTE2NyAtMTkgLTIyMiAtMzAgLTE1NFxuLTMxIC0zNDAgLTQ5IC01NjMgLTU3IGwtMjAzIC02IC00MyAtNjYgYy01OSAtOTEgLTYwIC05NSAtMjYgLTEzMCAzNyAtMzcgMzggLTY1IDNcbi0xNTAgLTI1IC02MiAtMjcgLTc4IC0zMSAtMjU2IGwtNCAtMTkwIC0zOCAtMzIgYy05MSAtNzggLTEzMyAtMjA5IC0xMzQgLTQxOFxuMCAtMTk0IDExIC0zOTYgMjYgLTQ4MiAxMyAtNzEgMTQgLTc0IDcyIC0xMjIgNjkgLTU4IDEzMCAtMTI5IDE1OCAtMTg0IDY0XG4tMTI2IDUzNCAtMjExIDEzODQgLTI1MCBsOTIgLTQgLTYgMTE5IGMtNiAxNDIgOCAyNTYgNDkgMzgzIDExMiAzNTIgMzk0IDYyMlxuNzU2IDcyMiA5MCAyNiAxMTIgMjggMjc4IDI4IDE2NSAwIDE4OCAtMiAyNzggLTI3IDIwMSAtNTYgMzYxIC0xNTIgNTA0IC0zMDJcbjE0MCAtMTQ1IDIyMiAtMjkzIDI3NCAtNDkyIDIxIC03OSAyNCAtMTA5IDIzIC0yNzkgLTEgLTEyNyAtNiAtMjE0IC0xNiAtMjYzXG5sLTE1IC03MyAzMDA2IDcgYzE2NTMgNCAzMDA3IDggMzAwOSA5IDEgMSAtOCAzNyAtMjAgODEgLTE5IDY3IC0yMiAxMDUgLTIyXG4yNTkgLTEgMTY2IDEgMTg3IDI3IDI3OSAxMTcgNDIxIDQ2NyA3MzYgODg1IDc5NyAxMTkgMTcgMzI1IDcgNDMyIC0yMSAyMzlcbi02MyA0NTMgLTIwNSA2MDEgLTM5OSA3MCAtOTIgMTU0IC0yNjcgMTg1IC0zODYgMjQgLTg4IDI3IC0xMTkgMjcgLTI2MCAxXG4tMTE2IC00IC0xODEgLTE2IC0yMzQgLTEwIC00MSAtMTYgLTc1IC0xNSAtNzYgMiAtMSA2MiAyIDEzMyA2IDI2NiAxNiA0NTggNDVcbjUyNSA3OSA0OCAyNCA5NyA4MSAxMjcgMTQ2IGwyNCA1MiAtMTYgMTU3IGMtMTUgMTUyIC0xNSAxNjMgNCAyODQgNjMgMzg4IDUwXG42ODAgLTM1IDgwMiAtMTM0IDE5MyAtNTI2IDMzNiAtMTQyOSA1MTkgLTczNyAxNDkgLTEzMjIgMjA5IC0yMDMzIDIxMCAtMjI4IDBcbi0yMjYgMCAtMzQ3IDg1IC0xODcgMTMxIC0xMDQ1IDYwNyAtMTQ3MSA4MTUgLTM4MyAxODcgLTc4OCAyODEgLTE0MzkgMzMyXG4tMjA4IDE3IC0xMTA2IDE2IC0xNDAwIDAgLTEyMSAtNyAtMzE0IC0xOSAtNDMwIC0yNyAtMzAyIC0yMiAtMjg2IC0yMiAtMzQxXG4xMCAtMTQwIDgxIC0xODcgOTQgLTI2OSA3MXogbTE4ODUgLTMzMyBjNiAtMzcgMzggLTIzOCA3MSAtNDQ2IDMyIC0yMDkgNjZcbi00MjIgNzUgLTQ3NCA5IC01MiAxNSAtOTYgMTMgLTk3IC0xMSAtOSAtMTY5OSAyOSAtMTk1MSA0NCAtMjA2IDEzIC00MTcgMzZcbi00ODUgNTQgLTk4IDI2IC0xOTggMTE5IC0yNDkgMjMxIC0zNSA3NSAtMzYgMTcyIC01IDI1NSAxNyA0NSAzMCA2MSA2OCA4NiA4M1xuNTQgMTM1IDgwIDI1MyAxMjcgMzQxIDEzNiA4NTggMjMwIDE0NjAgMjY3IDI2OSAxNiAyNzAgMTYgNTExIDE4IGwyMjcgMiAxMlxuLTY3eiBtNjMwIDQ3IGMyNjQgLTE4IDc3NyAtMTEwIDEwMjkgLTE4NiAxODYgLTU2IDQ0NSAtMTg4IDc1NiAtMzg3IDIxMSAtMTM0XG4yNzQgLTE4MSAyNTAgLTE4NSAtNzUgLTEyIC0xMzMgLTUwIC0xNjIgLTEwNiAtMTkgLTM1IC0yMSAtMTM2IC00IC0xNzkgbDExXG4tMjcgLTkwNyAyIC05MDYgMyAtNTkgMTYwIGMtMTEwIDMwMiAtMjk4IDg3OCAtMjk4IDkxNiAwIDYgOTUgMiAyOTAgLTExelwiLz5cbjxwYXRoIGQ9XCJNMjYzMyAzMTI1IGMtMjIzIC00MCAtNDEwIC0xNDEgLTU2OCAtMzA2IC0xMzIgLTEzOCAtMjEzIC0yODMgLTI2MlxuLTQ2NyAtMjIgLTgzIC0yNiAtMTE5IC0yNiAtMjQ3IC0xIC0xNjkgMTAgLTIzNiA2NSAtMzgyIDg3IC0yMzAgMjcxIC00MzYgNDkzXG4tNTUxIDg1IC00NCAxNzggLTc4IDI3MSAtOTggMTA3IC0yMyAzMTIgLTIzIDQxOSAxIDM5MiA4NCA2OTkgMzc1IDgwMiA3NjEgMjNcbjg2IDI2IDEyMCAyNyAyNTQgMSAxNTggLTUgMTk5IC00NiAzMzAgLTk4IDMxMCAtMzU1IDU2NyAtNjY4IDY2OSAtMTUwIDUwXG4tMzU0IDY0IC01MDcgMzZ6IG0zNTAgLTMwMSBjMjQ5IC01NiA0NTcgLTI0NyA1NDMgLTQ5OSAyNSAtNzIgMjggLTk1IDI4IC0yMjBcbjEgLTE1MyAtMTUgLTIyOCAtNzQgLTM0NSAtOTQgLTE4NiAtMjgzIC0zMzcgLTQ4NSAtMzg2IC05NiAtMjQgLTI2OCAtMjQgLTM2MFxuMCAtMzIwIDg0IC01NDQgMzU1IC01NjIgNjgxIC0yMCAzNTkgMjA5IDY3MyA1NTggNzY1IDk0IDI0IDI1MyAyNiAzNTIgNHpcIi8+XG48cGF0aCBkPVwiTTI2MDAgMjY5NyBjLTM2IC0xMyAtODUgLTM2IC0xMDkgLTUxIGwtNDQgLTI4IDExNiAtMTE1IGM4MSAtODIgMTIwXG4tMTE0IDEzMSAtMTEwIDE0IDYgMTYgMjkgMTYgMTY3IDAgMTg2IDYgMTc4IC0xMTAgMTM3elwiLz5cbjxwYXRoIGQ9XCJNMjkyMCAyNTYxIGMwIC0xMzkgMiAtMTYyIDE2IC0xNjggMTEgLTQgNTAgMjggMTMwIDEwOCBsMTE1IDExNCAtMjhcbjIyIGMtMzQgMjggLTEzOCA3MCAtMTkzIDc5IGwtNDAgNyAwIC0xNjJ6XCIvPlxuPHBhdGggZD1cIk0yMjgyIDI0NDggYy0yOCAtMzYgLTkyIC0xOTEgLTkyIC0yMjUgMCAtMTAgMzQgLTEzIDE2NSAtMTMgMTUxIDBcbjE2NSAxIDE2NSAxOCAwIDE1IC0yMDYgMjMyIC0yMjEgMjMyIC00IDAgLTExIC02IC0xNyAtMTJ6XCIvPlxuPHBhdGggZD1cIk0zMjIyIDIzNTEgYy02MiAtNTkgLTExMiAtMTE1IC0xMTIgLTEyNCAwIC0xNSAxNyAtMTcgMTY1IC0xNyAxMzEgMFxuMTY1IDMgMTY1IDEzIDAgNDAgLTY5IDIwNSAtOTUgMjI3IC03IDYgLTQ4IC0yNyAtMTIzIC05OXpcIi8+XG48cGF0aCBkPVwiTTI3ODEgMjMzMiBjLTEyIC0yMiAxMSAtNjIgMzQgLTYyIDggMCAyMSAxMCAyOSAyMiAyMCAyOCA0IDU4IC0yOSA1OCBcbi0xMyAwIC0yOSAtOCAtMzQgLTE4elwiLz5cbjxwYXRoIGQ9XCJNMjc0OSAyMTYxIGMtMzIgLTMzIC0zNyAtNjcgLTE0IC0xMTAgMjkgLTU3IDEwNCAtNjQgMTUxIC0xNCA1MyA1NyA5IFxuMTUzIC03MSAxNTMgLTI3IDAgLTQ0IC04IC02NiAtMjl6XCIvPlxuPHBhdGggZD1cIk0yNTcwIDIxMjUgYy0yNiAtMzIgMTMgLTgxIDQ4IC01OSAyNCAxNiAyNyA0NSA2IDYxIC0yMyAxNyAtMzkgMTYgLTU0IC0yelwiLz5cbjxwYXRoIGQ9XCJNMzAwNiAyMTI0IGMtMjAgLTE5IC0yMCAtMzggLTIgLTU0IDIzIC0xOSA2MSAtOCA2NCAxOCA3IDQ0IC0zMiA2NyAtNjIgMzZ6XCIvPlxuPHBhdGggZD1cIk0yMTkwIDE5NzUgYzAgLTI5IDQxIC0xNDAgNzIgLTE5NCBsMzEgLTUzIDExNyAxMTcgYzcxIDcxIDExNiAxMjMgMTEzIFxuMTMxIC00IDExIC00MCAxNCAtMTY5IDE0IC0xNDEgMCAtMTY0IC0yIC0xNjQgLTE1elwiLz5cbjxwYXRoIGQ9XCJNMzExMCAxOTcyIGMwIC05IDUxIC02OCAxMTQgLTEzMSBsMTE0IC0xMTQgMzEgNTQgYzMwIDUxIDcxIDE2NSA3MSAxOTUgXG4wIDExIC0zMSAxNCAtMTY1IDE0IC0xNTEgMCAtMTY1IC0xIC0xNjUgLTE4elwiLz5cbjxwYXRoIGQ9XCJNMjc4MCAxOTAxIGMtNyAtMTUgLTUgLTI0IDggLTQxIDMyIC00MCA4NSAtNCA2MiA0MSAtMTQgMjUgLTU2IDI1IC03MCAwelwiLz5cbjxwYXRoIGQ9XCJNMjU2MiAxNjk3IGMtNjEgLTYyIC0xMTIgLTExNSAtMTEyIC0xMTkgMCAtMTggMjA4IC0xMDggMjQ5IC0xMDggN1xuMCAxMSA1NCAxMSAxNjQgMCAxNDAgLTIgMTY1IC0xNiAxNzAgLTkgMyAtMTYgNiAtMTcgNiAtMSAwIC01MyAtNTEgLTExNSAtMTEzelwiLz5cbjxwYXRoIGQ9XCJNMjkzMyAxODAzIGMtMTUgLTYgLTE5IC0zMzMgLTQgLTMzMyA0NiAwIDI1MSA4OCAyNTEgMTA4IDAgOSAtMjIzIDIzMiBcbi0yMzAgMjMxIC0zIDAgLTExIC0zIC0xNyAtNnpcIi8+XG48cGF0aCBkPVwiTTEwNzAwIDMxMTkgYy0zOTAgLTg0IC02OTYgLTM3NiAtNzk3IC03NTkgLTMxIC0xMTcgLTQxIC0yOTIgLTI0IC00MTEgXG4zMyAtMjI3IDE1MCAtNDUzIDMxOCAtNjA5IDI2NyAtMjUwIDY0MyAtMzQ0IDk5MyAtMjQ5IDExNyAzMiAyODMgMTE4IDM4MCAxOTYgXG40ODcgMzk2IDUxOCAxMTI4IDY3IDE1NjAgLTk3IDkzIC0xNjYgMTQwIC0yOTAgMTk4IC0xMzcgNjQgLTIzNSA4NiAtNDA3IDkxIC0xMjAgXG4zIC0xNjIgMCAtMjQwIC0xN3ogbTQ0NSAtMzEzIGMyMzggLTgxIDQwOSAtMjU4IDQ4NiAtNTA2IDMwIC05NiAzMyAtMjg5IDUgLTM4OCBcbi0xMTAgLTQwMCAtNTEzIC02MzcgLTkxMSAtNTM2IC0xNDkgMzggLTMxMyAxNDcgLTQwMiAyNjcgLTE3NiAyMzggLTIwMyA1MzMgLTcxIFxuNzk3IDM0IDY5IDYwIDEwMyAxMzggMTgwIDc3IDc4IDExMSAxMDQgMTgxIDEzOSAxMjkgNjUgMjA3IDgxIDM2NCA3NyAxMDkgLTMgMTQzIC03IDIxMCAtMzB6XCIvPlxuPHBhdGggZD1cIk0xMDcwMyAyNzAwIGMtNTQgLTE5IC0xNTMgLTcxIC0xNTMgLTgwIDAgLTMgNTEgLTU3IDExNCAtMTE5IDgwIC04MCBcbjExOSAtMTEyIDEzMCAtMTA4IDE0IDUgMTYgMjkgMTYgMTY3IGwwIDE2MCAtMjcgLTEgYy0xNiAwIC01MiAtOSAtODAgLTE5elwiLz5cbjxwYXRoIGQ9XCJNMTEwMjAgMjU2MSBjMCAtMTM5IDIgLTE2MiAxNiAtMTY4IDIyIC04IDI0NyAyMTYgMjM0IDIzMiAtMTcgMjAgLTE2MyBcbjg0IC0yMDcgOTEgbC00MyA3IDAgLTE2MnpcIi8+XG48cGF0aCBkPVwiTTEwMzY2IDI0MjQgYy0yOSAtNDQgLTc2IC0xNjUgLTc2IC0xOTQgMCAtMTkgNyAtMjAgMTY1IC0yMCAxMjYgMCAxNjUgXG4zIDE2NSAxMyAwIDcgLTUxIDYzIC0xMTQgMTI2IGwtMTE0IDExNCAtMjYgLTM5elwiLz5cbjxwYXRoIGQ9XCJNMTEzMTMgMjM0OCBjLTYxIC02MiAtMTA5IC0xMTkgLTEwNiAtMTI1IDYgLTE1IDMzMyAtMTkgMzMzIC00IDAgNDUgLTg4IFxuMjQxIC0xMDggMjQxIC00IDAgLTU3IC01MSAtMTE5IC0xMTJ6XCIvPlxuPHBhdGggZD1cIk0xMDg4MiAyMzM4IGMtMTcgLTE3IC0xNSAtMzIgNyAtNTIgMTYgLTE0IDIzIC0xNSA0MSAtNiAzMSAxNyAyNCA2NCAtMTAgXG42OCAtMTQgMiAtMzEgLTMgLTM4IC0xMHpcIi8+XG48cGF0aCBkPVwiTTEwODQ2IDIxNTkgYy02OCAtODEgMTcgLTE5NCAxMTAgLTE0NCA4OSA0OCA1NiAxNzUgLTQ2IDE3NSAtMzAgMCAtNDQgXG4tNiAtNjQgLTMxelwiLz5cbjxwYXRoIGQ9XCJNMTA2NzAgMjEyNiBjLTE5IC0yMyAtOCAtNjEgMTggLTY0IDQ0IC03IDY3IDMyIDM2IDYyIC0xOSAyMCAtMzggMjAgLTU0IDJ6XCIvPlxuPHBhdGggZD1cIk0xMTEwNiAyMTI3IGMtMjEgLTE2IC0xOCAtNDUgNyAtNjEgMzcgLTIzIDc3IDM1IDQxIDYxIC0xMCA3IC0yMSAxMyAtMjQgXG4xMyAtMyAwIC0xNCAtNiAtMjQgLTEzelwiLz5cbjxwYXRoIGQ9XCJNMTAyOTAgMTk3MCBjMCAtMjkgNDMgLTE0MSA3NCAtMTk1IGwyOCAtNDggMTE2IDExNiBjODEgODEgMTEzIDEyMCAxMDkgXG4xMzEgLTYgMTQgLTI5IDE2IC0xNjcgMTYgLTE1MiAwIC0xNjAgLTEgLTE2MCAtMjB6XCIvPlxuPHBhdGggZD1cIk0xMTIwNyAxOTc4IGMtMyAtNyA0NyAtNjYgMTExIC0xMzAgbDExNiAtMTE4IDI3IDQzIGMyNyA0NCA3OSAxNzcgNzkgMjAzIFxuMCAxMiAtMjggMTQgLTE2NCAxNCAtMTIyIDAgLTE2NiAtMyAtMTY5IC0xMnpcIi8+XG48cGF0aCBkPVwiTTEwODgxIDE5MDEgYy0xNCAtMjUgLTUgLTQ4IDIwIC01NiAyNyAtOSA1MSAxMyA0NyA0NCAtNCAzNCAtNTEgNDMgLTY3IDEyelwiLz4gXG48cGF0aCBkPVwiTTEwNjYyIDE2OTcgYy02MSAtNjIgLTExMiAtMTE1IC0xMTIgLTExOSAwIC0yMCAyMDEgLTEwOCAyNDcgLTEwOCAxMCAwIDEzIFxuMzQgMTMgMTY0IDAgMTQwIC0yIDE2NSAtMTYgMTcwIC05IDMgLTE2IDYgLTE3IDYgLTEgMCAtNTMgLTUxIC0xMTUgLTExM3pcIi8+IFxuPHBhdGggZD1cIk0xMTAzMyAxODAzIGMtMTAgLTMgLTEzIC00NyAtMTMgLTE2OSAwIC05MCA0IC0xNjQgOCAtMTY0IDM2IDAgMTg2IDYxIDIzOSBcbjk4IDE2IDEwIC0yMTYgMjQyIC0yMzQgMjM1elwiLz4gPC9nPlxuPC9zdmc+YDtcbmV4cG9ydCBkZWZhdWx0IGNhckltYWdlO1xuIiwiaW1wb3J0IGNhckltYWdlIGZyb20gJy4uL2hlbHBlcnMvY2FyLXN2Zyc7XG5pbXBvcnQgeyBzdG9yZSB9IGZyb20gJy4uL2hlbHBlcnMvc3RvcmUnO1xuZXhwb3J0IGNvbnN0IHJlbmRlckdhcmFnZUJsb2NrID0gKCkgPT4gYFxuPGRpdiBjbGFzcz1cImdhcmFnZS1oZWFkaW5nXCI+XG4gIDxkaXY+Q2FycyBpbiBnYXJhZ2U6ICR7c3RvcmUuY2Fyc0NvdW50fTwvZGl2PlxuICA8ZGl2PlBhZ2Ug4oSWICR7c3RvcmUuY2Fyc1BhZ2V9PC9kaXY+XG48L2Rpdj5cbiAgJHtzdG9yZS5jYXJzXG4gICAgLm1hcCgoY2FyKSA9PiBgXG48ZGl2IGNsYXNzPVwiY2FyLWNvbnRhaW5lclwiIGlkPVwiY2FyLXJvYWQtJHtjYXIuaWR9XCI+XG4gIDxkaXYgY2xhc3M9XCJjb250cm9sbC1idXR0b25zXCI+XG4gICAgPGJ1dHRvbiBjbGFzcz1cInNlbGVjdC1idG5cIiBpZD1cInNlbGVjdC1jYXItJHtjYXIuaWR9XCI+U2VsZWN0PC9idXR0b24+XG4gICAgPGJ1dHRvbiBjbGFzcz1cInJlbW92ZS1idG5cIiBpZD1cInJlbW92ZS1jYXItJHtjYXIuaWR9XCI+UmVtb3ZlPC9idXR0b24+XG4gICAgPHNwYW4gY2xhc3M9XCJjYXItbmFtZVwiPiR7Y2FyLm5hbWV9PC9zcGFuPlxuICAgIDxidXR0b24gY2xhc3M9XCJzdGFydC1lbmdpbmUtYnRuXCIgaWQ9XCJzdGFydC1lbmdpbmUtY2FyLSR7Y2FyLmlkfVwiPlN0YXJ0PC9idXR0b24+XG4gICAgPGJ1dHRvbiBjbGFzcz1cInN0b3AtZW5naW5lLWJ0blwiIGlkPVwic3RvcC1lbmdpbmUtY2FyLSR7Y2FyLmlkfVwiIGRpc2FibGVkPlN0b3A8L2J1dHRvbj5cbiAgPC9kaXY+XG5cbiAgPGRpdiBjbGFzcz1cInJvYWRcIj5cbiAgICA8ZGl2IGNsYXNzPVwiY2FyXCIgaWQ9XCJjYXItJHtjYXIuaWR9XCI+JHtjYXJJbWFnZShjYXIuY29sb3IpfTwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJmbGFnXCIgaWQ9XCJmbGFnLSR7Y2FyLmlkfVwiPiYjMTI3OTM3OzwvZGl2PlxuICA8L2Rpdj5cbiAgPGRpdiBpZD1cImVuZ2luZS1icm9rZS0ke2Nhci5pZH1cIiBjbGFzcyA9IFwibWVzc2FnZVwiIGRpc3BsYXk9XCJub25lXCI+PC9kaXY+XG48L2Rpdj5gKVxuICAgIC5qb2luKCcnKX1cbjxwIGNsYXNzPVwid2lubmVyLW1lc2FnZVwiIGlkPVwid2lubmVyLW1lc2FnZVwiPjwvcD4gIFxuYDtcbiIsImltcG9ydCBjYXJJbWFnZSBmcm9tICcuLi9oZWxwZXJzL2Nhci1zdmcnO1xuaW1wb3J0IHsgc3RvcmUgfSBmcm9tICcuLi9oZWxwZXJzL3N0b3JlJztcbmV4cG9ydCBjb25zdCByZW5kZXJXaW5uZXJzQmxvY2sgPSAoKSA9PiBgXG48ZGl2IGNsYXNzPVwid2lubmVycy1oZWFkaW5nXCI+XG48ZGl2Pldpbm5lcnM6ICR7c3RvcmUud2lubmVyc0NvdW50fTwvZGl2PlxuPGRpdj5QYWdlIOKEliAke3N0b3JlLndpbm5lcnNQYWdlfTwvZGl2PlxuPC9kaXY+XG4gIDx0YWJsZSBjZWxsc3BhY2luZyA9XCIzXCIgYm9yZGVyPVwiMFwiIGNlbGxwYWRkaW5nPVwiM1wiID5cbiAgICA8dGhlYWQ+XG4gICAgICA8dGg+4oSWPC90aD5cbiAgICAgIDx0aD5DYXI8L3RoPlxuICAgICAgPHRoPk5hbWU8L3RoPlxuICAgICAgPHRoIGNsYXNzPVwic29ydC1ieS1idG5cIiBpZD1cInNvcnQtYnktd2luc1wiPldpbnM8L3RoPlxuICAgICAgPHRoIGNsYXNzPVwic29ydC1ieS1idG5cIiBpZD1cInNvcnQtYnktdGltZVwiPkJlc3QgdGltZShzZWNvbmRzKTwvdGg+XG4gICAgPC90aGVhZD5cbiAgICA8dGJvZHk+XG4gICAgJHtzdG9yZS53aW5uZXJzXG4gICAgLm1hcCgod2lubmVyLCBpbmRleCkgPT4gYFxuICAgICAgICA8dHI+XG4gICAgICAgICAgPHRkPiR7aW5kZXggKyAxfTwvdGQ+XG4gICAgICAgICAgPHRkPiR7Y2FySW1hZ2Uod2lubmVyLmNhci5jb2xvcil9PC90ZD5cbiAgICAgICAgICA8dGQ+JHt3aW5uZXIuY2FyLm5hbWV9PC90ZD5cbiAgICAgICAgICA8dGQ+JHt3aW5uZXIud2luc308L3RkPlxuICAgICAgICAgIDx0ZD4ke3dpbm5lci50aW1lfTwvdGQ+XG4gICAgICAgIDwvdHI+XG4gICAgICAgIGApXG4gICAgLmpvaW4oJyAnKX1cbiAgICA8L3Rib2R5PlxuICA8L3RhYmxlPmA7XG4iLCJ2YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbmltcG9ydCB7IGdldENhcnMsIGdldFdpbm5lcnMgfSBmcm9tICcuL2FwaSc7XG5pbXBvcnQgeyBzdG9yZSB9IGZyb20gJy4vaGVscGVycy9zdG9yZSc7XG5leHBvcnQgY29uc3QgdXBkYXRlQ2FycyA9ICgpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHsgaXRlbXMsIGNvdW50IH0gPSB5aWVsZCBnZXRDYXJzKHN0b3JlLmNhcnNQYWdlKTtcbiAgICAgICAgc3RvcmUuY2FycyA9IGl0ZW1zO1xuICAgICAgICBzdG9yZS5jYXJzQ291bnQgPSBjb3VudDtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIGNhcnM6JywgZXJyb3IpO1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG59KTtcbmV4cG9ydCBjb25zdCB1cGRhdGVXaW5uZXJzID0gKCkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgeyBpdGVtcywgY291bnQgfSA9IHlpZWxkIGdldFdpbm5lcnMoc3RvcmUud2lubmVyc1BhZ2UsIHN0b3JlLnNvcnRCeSwgc3RvcmUuc29ydE9yZGVyKTtcbiAgICAgICAgc3RvcmUud2lubmVycyA9IGl0ZW1zO1xuICAgICAgICBzdG9yZS53aW5uZXJzQ291bnQgPSBOdW1iZXIoY291bnQpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgLy8gY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgd2lubmVyczonLCBlcnJvcik7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbn0pO1xuZXhwb3J0IGNvbnN0IHVwZGF0ZVN0YXRlID0gKCkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgeWllbGQgdXBkYXRlQ2FycygpO1xuICAgICAgICB5aWVsZCB1cGRhdGVXaW5uZXJzKCk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyBzdGF0ZTonLCBlcnJvcik7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbn0pO1xuIiwidmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5pbXBvcnQgeyBkZWxldGVDYXIsIGRlbGV0ZVdpbm5lciwgZ2V0Q2FyLCBnZXRXaW5uZXIgfSBmcm9tICcuLi9hcGknO1xuaW1wb3J0IHsgc3RhcnREcml2aW5nIH0gZnJvbSAnLi4vaGVscGVycy9zdGFydC1kcml2aW5nJztcbmltcG9ydCB7IHN0b3BEcml2aW5nIH0gZnJvbSAnLi4vaGVscGVycy9zdG9wLWRyaXZpbmcnO1xuaW1wb3J0IHsgc3RvcmUgfSBmcm9tICcuLi9oZWxwZXJzL3N0b3JlJztcbmltcG9ydCB7IHJlbmRlckdhcmFnZUJsb2NrIH0gZnJvbSAnLi4vcmVuZGVyLWZ1bmN0aW9ucy9nYXJhZ2UtYmxvY2snO1xuaW1wb3J0IHsgcmVuZGVyV2lubmVyc0Jsb2NrIH0gZnJvbSAnLi4vcmVuZGVyLWZ1bmN0aW9ucy93aW5uZXJzLWJsb2NrJztcbmltcG9ydCB7IHVwZGF0ZUNhcnMsIHVwZGF0ZVdpbm5lcnMgfSBmcm9tICcuLi91cGRhdGUtc3RhdGUnO1xuZXhwb3J0IGNvbnN0IGNhckNvbnRyb2xzID0gKCkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgY29uc3QgdXBkYXRlTmFtZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VwZGF0ZS1uYW1lJyk7XG4gICAgY29uc3QgdXBkYXRlQ29sb3JJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1cGRhdGUtY29sb3InKTtcbiAgICBjb25zdCB1cGRhdGVCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXBkYXRlLWJ0bicpO1xuICAgIGNvbnN0IGdhcmFnZUJsb2NrID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dhcmFnZScpO1xuICAgIGNvbnN0IHdpbm5lcnNCbG9jayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3aW5uZXJzJyk7XG4gICAgZ2FyYWdlQmxvY2suYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0O1xuICAgICAgICBpZiAodGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0LWJ0bicpKSB7XG4gICAgICAgICAgICBjb25zdCBpZCA9IE51bWJlcih0YXJnZXQuaWQuc3BsaXQoJ3NlbGVjdC1jYXItJylbMV0pO1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRDYXIgPSB5aWVsZCBnZXRDYXIoaWQpO1xuICAgICAgICAgICAgc3RvcmUuc2VsZWN0ZWRDYXJJRCA9IHNlbGVjdGVkQ2FyLmlkO1xuICAgICAgICAgICAgdXBkYXRlTmFtZUlucHV0LnZhbHVlID0gc2VsZWN0ZWRDYXIubmFtZTtcbiAgICAgICAgICAgIHVwZGF0ZUNvbG9ySW5wdXQudmFsdWUgPSBzZWxlY3RlZENhci5jb2xvcjtcbiAgICAgICAgICAgIHVwZGF0ZU5hbWVJbnB1dC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdXBkYXRlQ29sb3JJbnB1dC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdXBkYXRlQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3JlbW92ZS1idG4nKSkge1xuICAgICAgICAgICAgY29uc3QgaWQgPSBOdW1iZXIodGFyZ2V0LmlkLnNwbGl0KCdyZW1vdmUtY2FyLScpWzFdKTtcbiAgICAgICAgICAgIHlpZWxkIGRlbGV0ZUNhcihpZCk7XG4gICAgICAgICAgICBjb25zdCB3aW5uZXIgPSB5aWVsZCBnZXRXaW5uZXIoaWQpO1xuICAgICAgICAgICAgaWYgKHdpbm5lcikge1xuICAgICAgICAgICAgICAgIHlpZWxkIGRlbGV0ZVdpbm5lcihpZCk7XG4gICAgICAgICAgICAgICAgeWllbGQgdXBkYXRlV2lubmVycygpO1xuICAgICAgICAgICAgICAgIHdpbm5lcnNCbG9jay5pbm5lckhUTUwgPSByZW5kZXJXaW5uZXJzQmxvY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHlpZWxkIHVwZGF0ZUNhcnMoKTtcbiAgICAgICAgICAgIGdhcmFnZUJsb2NrLmlubmVySFRNTCA9IHJlbmRlckdhcmFnZUJsb2NrKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3N0YXJ0LWVuZ2luZS1idG4nKSkge1xuICAgICAgICAgICAgY29uc3QgaWQgPSBOdW1iZXIodGFyZ2V0LmlkLnNwbGl0KCdzdGFydC1lbmdpbmUtY2FyLScpWzFdKTtcbiAgICAgICAgICAgIHN0YXJ0RHJpdmluZyhpZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3N0b3AtZW5naW5lLWJ0bicpKSB7XG4gICAgICAgICAgICBjb25zdCBpZCA9IE51bWJlcih0YXJnZXQuaWQuc3BsaXQoJ3N0b3AtZW5naW5lLWNhci0nKVsxXSk7XG4gICAgICAgICAgICBzdG9wRHJpdmluZyhpZCk7XG4gICAgICAgIH1cbiAgICB9KSk7XG59KTtcbiIsImNvbnN0IG5hbWVzID0gW1xuICAgICdQb3JzaGUnLFxuICAgICdUZXNsYScsXG4gICAgJ0tpYScsXG4gICAgJ1BldWdlb3QnLFxuICAgICdIb25kYScsXG4gICAgJ0phZ3VhcicsXG4gICAgJ01hemRhJyxcbiAgICAnVm9sdm8nLFxuICAgICdNSU5JJyxcbiAgICAnVG95b3RhJyxcbiAgICAnU29tZVN1cGVyRmFzdCcsXG5dO1xuY29uc3QgbW9kZWxzID0gW1xuICAgICc5MTEnLFxuICAgICdNb2RlbCBZJyxcbiAgICAnU2VsdG9zJyxcbiAgICAnMjA2JyxcbiAgICAnQ1ItVicsXG4gICAgJ0YtUEFDRScsXG4gICAgJ0NYLTUnLFxuICAgICdYQzYwJyxcbiAgICAnMy1kb29yJyxcbiAgICAnQ29yb2xsYScsXG4gICAgJ1N1cGVyQ2FyJyxcbl07XG5leHBvcnQgY29uc3QgZ2VuZXJhdGVSYW5kb21DYXJOYW1lID0gKCkgPT4ge1xuICAgIGNvbnN0IG5hbWUgPSBuYW1lc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBtb2RlbHMubGVuZ3RoKV07XG4gICAgY29uc3QgbW9kZWwgPSBtb2RlbHNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbW9kZWxzLmxlbmd0aCldO1xuICAgIHJldHVybiBgJHtuYW1lfSAke21vZGVsfWA7XG59O1xuZXhwb3J0IGNvbnN0IGdlbmVyYXRlUmFuZG9tQ29sb3IgPSAoKSA9PiB7XG4gICAgY29uc3Qgc3ltYm9scyA9ICcwMTIzNDU2Nzg5QUJDREVGJztcbiAgICBsZXQgY29sb3IgPSAnIyc7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA2OyBpICs9IDEpIHtcbiAgICAgICAgY29sb3IgKz0gc3ltYm9sc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxNildO1xuICAgIH1cbiAgICByZXR1cm4gY29sb3I7XG59O1xuZXhwb3J0IGNvbnN0IGdlbmVyYXRlUmFuZG9tQ2Fyc1RlbXBsYXRlcyA9IChjb3VudENhcnMpID0+IG5ldyBBcnJheShjb3VudENhcnMpLmZpbGwoMCkubWFwKCgpID0+ICh7XG4gICAgbmFtZTogZ2VuZXJhdGVSYW5kb21DYXJOYW1lKCksXG4gICAgY29sb3I6IGdlbmVyYXRlUmFuZG9tQ29sb3IoKSxcbn0pKTtcbiIsInZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuaW1wb3J0IHsgY3JlYXRlQ2FyIH0gZnJvbSAnLi4vYXBpJztcbmltcG9ydCB7IGdlbmVyYXRlUmFuZG9tQ2FyTmFtZSwgZ2VuZXJhdGVSYW5kb21Db2xvciB9IGZyb20gJy4uL2hlbHBlcnMvZ2VuZXJhdG9ycyc7XG5pbXBvcnQgeyByZW5kZXJHYXJhZ2VCbG9jayB9IGZyb20gJy4uL3JlbmRlci1mdW5jdGlvbnMvZ2FyYWdlLWJsb2NrJztcbmltcG9ydCB7IHVwZGF0ZUNhcnMgfSBmcm9tICcuLi91cGRhdGUtc3RhdGUnO1xuaW1wb3J0IHsgYnV0dG9uVG9nZ2xlciB9IGZyb20gJy4vYnV0dG9ucy10b2dnbGVyJztcbmV4cG9ydCBjb25zdCBjcmV0ZU5ld0NhciA9ICgpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgIGNvbnN0IGNyZWF0ZUNhckJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjcmVhdGUtYnRuJyk7XG4gICAgY3JlYXRlQ2FyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGNvbnN0IG5hbWVJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjcmVhdGUtbmFtZScpO1xuICAgICAgICBjb25zdCBjb2xvcklucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NyZWF0ZS1jb2xvcicpO1xuICAgICAgICBjb25zdCBnYXJhZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2FyYWdlJyk7XG4gICAgICAgIGNvbnN0IGNhciA9IHtcbiAgICAgICAgICAgIG5hbWU6IG5hbWVJbnB1dC52YWx1ZSxcbiAgICAgICAgICAgIGNvbG9yOiBjb2xvcklucHV0LnZhbHVlLFxuICAgICAgICB9O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgeWllbGQgY3JlYXRlQ2FyKGNhcik7XG4gICAgICAgICAgICB5aWVsZCB1cGRhdGVDYXJzKCk7XG4gICAgICAgICAgICBnYXJhZ2UuaW5uZXJIVE1MID0gcmVuZGVyR2FyYWdlQmxvY2soKTtcbiAgICAgICAgICAgIG5hbWVJbnB1dC52YWx1ZSA9IGdlbmVyYXRlUmFuZG9tQ2FyTmFtZSgpO1xuICAgICAgICAgICAgY29sb3JJbnB1dC52YWx1ZSA9IGdlbmVyYXRlUmFuZG9tQ29sb3IoKTtcbiAgICAgICAgICAgIGJ1dHRvblRvZ2dsZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfSkpO1xufSk7XG4iLCJ2YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbmltcG9ydCB7IGNyZWF0ZUNhciB9IGZyb20gJy4uL2FwaSc7XG5pbXBvcnQgeyBnZW5lcmF0ZVJhbmRvbUNhcnNUZW1wbGF0ZXMgfSBmcm9tICcuLi9oZWxwZXJzL2dlbmVyYXRvcnMnO1xuaW1wb3J0IHsgcmVuZGVyR2FyYWdlQmxvY2sgfSBmcm9tICcuLi9yZW5kZXItZnVuY3Rpb25zL2dhcmFnZS1ibG9jayc7XG5pbXBvcnQgeyB1cGRhdGVDYXJzIH0gZnJvbSAnLi4vdXBkYXRlLXN0YXRlJztcbmltcG9ydCB7IGJ1dHRvblRvZ2dsZXIgfSBmcm9tICcuL2J1dHRvbnMtdG9nZ2xlcic7XG5leHBvcnQgY29uc3QgZ2VuZXJhdGVQYWNrT2ZDYXJzID0gKCkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgY29uc3QgZ2VuZXJhdGVCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2VuZXJhdG9yJyk7XG4gICAgY29uc3QgZ2FyYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dhcmFnZScpO1xuICAgIGlmIChnZW5lcmF0ZUJ1dHRvbikge1xuICAgICAgICBnZW5lcmF0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgZ2VuZXJhdGVCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgY29uc3QgY291bnRPZkNhcnNOZWVkZWRUb0dlbmVyZXRlT25DbGlja0Fjb3JkaW5nVG9SZXF1aXJlbWVudHMgPSAxMDA7XG4gICAgICAgICAgICBjb25zdCBjYXJzID0gZ2VuZXJhdGVSYW5kb21DYXJzVGVtcGxhdGVzKGNvdW50T2ZDYXJzTmVlZGVkVG9HZW5lcmV0ZU9uQ2xpY2tBY29yZGluZ1RvUmVxdWlyZW1lbnRzKTtcbiAgICAgICAgICAgIHlpZWxkIFByb21pc2UuYWxsKGNhcnMubWFwKChjYXIpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkgeyByZXR1cm4gY3JlYXRlQ2FyKGNhcik7IH0pKSk7XG4gICAgICAgICAgICB5aWVsZCB1cGRhdGVDYXJzKCk7XG4gICAgICAgICAgICBpZiAoZ2FyYWdlKSB7XG4gICAgICAgICAgICAgICAgZ2FyYWdlLmlubmVySFRNTCA9IHJlbmRlckdhcmFnZUJsb2NrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBnZW5lcmF0ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgYnV0dG9uVG9nZ2xlcigpO1xuICAgICAgICB9KSk7XG4gICAgfVxufSk7XG4iLCJ2YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbmltcG9ydCB7IHN0b3JlIH0gZnJvbSAnLi4vaGVscGVycy9zdG9yZSc7XG5pbXBvcnQgeyByZW5kZXJXaW5uZXJzQmxvY2sgfSBmcm9tICcuLi9yZW5kZXItZnVuY3Rpb25zL3dpbm5lcnMtYmxvY2snO1xuaW1wb3J0IHsgdXBkYXRlV2lubmVycyB9IGZyb20gJy4uL3VwZGF0ZS1zdGF0ZSc7XG5leHBvcnQgY29uc3QgdG9nZ2xlQ2Fyc1NvcnRPcmRlciA9ICgpID0+IHtcbiAgICBzdG9yZS5zb3J0T3JkZXIgPSBzdG9yZS5zb3J0T3JkZXIgPT09ICdhc2MnID8gJ2Rlc2MnIDogJ2FzYyc7XG59O1xuZXhwb3J0IGNvbnN0IHNvcnRpbmdDYXJkc0J1dHRvbnNMaXN0ZW5lciA9ICgpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgIGNvbnN0IHNvcnRCeVdpbnMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc29ydC1ieS13aW5zJyk7XG4gICAgY29uc3Qgc29ydEJ5VGltZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzb3J0LWJ5LXRpbWUnKTtcbiAgICBjb25zdCB3aW5uZXJzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dpbm5lcnMnKTtcbiAgICBpZiAoc29ydEJ5V2lucylcbiAgICAgICAgc29ydEJ5V2lucy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgc3RvcmUuc29ydEJ5ID0gJ3dpbnMnO1xuICAgICAgICAgICAgdG9nZ2xlQ2Fyc1NvcnRPcmRlcigpO1xuICAgICAgICAgICAgeWllbGQgdXBkYXRlV2lubmVycygpO1xuICAgICAgICAgICAgaWYgKHdpbm5lcnMpXG4gICAgICAgICAgICAgICAgd2lubmVycy5pbm5lckhUTUwgPSByZW5kZXJXaW5uZXJzQmxvY2soKTtcbiAgICAgICAgICAgIHlpZWxkIHNvcnRpbmdDYXJkc0J1dHRvbnNMaXN0ZW5lcigpO1xuICAgICAgICB9KSk7XG4gICAgaWYgKHNvcnRCeVRpbWUpXG4gICAgICAgIHNvcnRCeVRpbWUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHN0b3JlLnNvcnRCeSA9ICd0aW1lJztcbiAgICAgICAgICAgIHRvZ2dsZUNhcnNTb3J0T3JkZXIoKTtcbiAgICAgICAgICAgIHlpZWxkIHVwZGF0ZVdpbm5lcnMoKTtcbiAgICAgICAgICAgIGlmICh3aW5uZXJzKVxuICAgICAgICAgICAgICAgIHdpbm5lcnMuaW5uZXJIVE1MID0gcmVuZGVyV2lubmVyc0Jsb2NrKCk7XG4gICAgICAgICAgICB5aWVsZCBzb3J0aW5nQ2FyZHNCdXR0b25zTGlzdGVuZXIoKTtcbiAgICAgICAgfSkpO1xufSk7XG4iLCJ2YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbmltcG9ydCB7IHN0b3JlIH0gZnJvbSAnLi4vaGVscGVycy9zdG9yZSc7XG5pbXBvcnQgeyByZW5kZXJHYXJhZ2VCbG9jayB9IGZyb20gJy4uL3JlbmRlci1mdW5jdGlvbnMvZ2FyYWdlLWJsb2NrJztcbmltcG9ydCB7IHJlbmRlcldpbm5lcnNCbG9jayB9IGZyb20gJy4uL3JlbmRlci1mdW5jdGlvbnMvd2lubmVycy1ibG9jayc7XG5pbXBvcnQgeyB1cGRhdGVDYXJzLCB1cGRhdGVXaW5uZXJzIH0gZnJvbSAnLi4vdXBkYXRlLXN0YXRlJztcbmltcG9ydCB7IGJ1dHRvblRvZ2dsZXIgfSBmcm9tICcuL2J1dHRvbnMtdG9nZ2xlcic7XG5pbXBvcnQgeyBzb3J0aW5nQ2FyZHNCdXR0b25zTGlzdGVuZXIgfSBmcm9tICcuL3NvcnQtd2lubmVycyc7XG5leHBvcnQgY29uc3QgcGFnaW5hdGlvbkJ1dHRvbnMgPSAoKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICBjb25zdCBwcmV2QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByZXYnKTtcbiAgICBjb25zdCBuZXh0QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25leHQnKTtcbiAgICBjb25zdCBnYXJhZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2FyYWdlJyk7XG4gICAgY29uc3Qgd2lubmVycyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3aW5uZXJzJyk7XG4gICAgcHJldkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICBzd2l0Y2ggKHN0b3JlLnZpZXcpIHtcbiAgICAgICAgICAgIGNhc2UgJ2dhcmFnZVBhZ2UnOiB7XG4gICAgICAgICAgICAgICAgc3RvcmUuY2Fyc1BhZ2UgLT0gMTtcbiAgICAgICAgICAgICAgICB5aWVsZCB1cGRhdGVDYXJzKCk7XG4gICAgICAgICAgICAgICAgaWYgKGdhcmFnZSlcbiAgICAgICAgICAgICAgICAgICAgZ2FyYWdlLmlubmVySFRNTCA9IHJlbmRlckdhcmFnZUJsb2NrKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICd3aW5uZXJzUGFnZSc6IHtcbiAgICAgICAgICAgICAgICBzdG9yZS53aW5uZXJzUGFnZSAtPSAxO1xuICAgICAgICAgICAgICAgIHlpZWxkIHVwZGF0ZVdpbm5lcnMoKTtcbiAgICAgICAgICAgICAgICBpZiAod2lubmVycylcbiAgICAgICAgICAgICAgICAgICAgd2lubmVycy5pbm5lckhUTUwgPSByZW5kZXJXaW5uZXJzQmxvY2soKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmV4cGVjdGVkIHZpZXcgdHlwZSByZWNlaXZlZDogJHtzdG9yZS52aWV3fWApO1xuICAgICAgICB9XG4gICAgICAgIGJ1dHRvblRvZ2dsZXIoKTtcbiAgICAgICAgeWllbGQgc29ydGluZ0NhcmRzQnV0dG9uc0xpc3RlbmVyKCk7XG4gICAgfSkpO1xuICAgIG5leHRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgc3dpdGNoIChzdG9yZS52aWV3KSB7XG4gICAgICAgICAgICBjYXNlICdnYXJhZ2VQYWdlJzoge1xuICAgICAgICAgICAgICAgIHN0b3JlLmNhcnNQYWdlICs9IDE7XG4gICAgICAgICAgICAgICAgeWllbGQgdXBkYXRlQ2FycygpO1xuICAgICAgICAgICAgICAgIGlmIChnYXJhZ2UpXG4gICAgICAgICAgICAgICAgICAgIGdhcmFnZS5pbm5lckhUTUwgPSByZW5kZXJHYXJhZ2VCbG9jaygpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAnd2lubmVyc1BhZ2UnOiB7XG4gICAgICAgICAgICAgICAgc3RvcmUud2lubmVyc1BhZ2UgKz0gMTtcbiAgICAgICAgICAgICAgICB5aWVsZCB1cGRhdGVXaW5uZXJzKCk7XG4gICAgICAgICAgICAgICAgaWYgKHdpbm5lcnMpXG4gICAgICAgICAgICAgICAgICAgIHdpbm5lcnMuaW5uZXJIVE1MID0gcmVuZGVyV2lubmVyc0Jsb2NrKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCB2aWV3IHR5cGUgcmVjZWl2ZWQ6ICR7c3RvcmUudmlld31gKTtcbiAgICAgICAgfVxuICAgICAgICBidXR0b25Ub2dnbGVyKCk7XG4gICAgICAgIHlpZWxkIHNvcnRpbmdDYXJkc0J1dHRvbnNMaXN0ZW5lcigpO1xuICAgIH0pKTtcbn0pO1xuIiwidmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5pbXBvcnQgeyBzdG9yZSB9IGZyb20gJy4vc3RvcmUnO1xuY29uc3QgY2FsY3VsYXRlUmFjZVdpbm5lciA9IChwcm9taXNlcywgaWRzKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICBjb25zdCB7IHN1Y2Nlc3MsIGlkLCB0aW1lIH0gPSB5aWVsZCBQcm9taXNlLnJhY2UocHJvbWlzZXMpO1xuICAgIGlmICghc3VjY2Vzcykge1xuICAgICAgICBjb25zdCBmYWlsZWRJbmRleCA9IGlkcy5maW5kSW5kZXgoKGluZGV4KSA9PiBpbmRleCA9PT0gaWQpO1xuICAgICAgICBwcm9taXNlcy5zcGxpY2UoZmFpbGVkSW5kZXgsIDEpO1xuICAgICAgICBpZHMuc3BsaWNlKGZhaWxlZEluZGV4LCAxKTtcbiAgICAgICAgaWYgKHByb21pc2VzLmxlbmd0aCA8IDEpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgcmV0dXJuIGNhbGN1bGF0ZVJhY2VXaW5uZXIocHJvbWlzZXMsIGlkcyk7XG4gICAgfVxuICAgIGNvbnN0IHdpbm5lckNhciA9IHN0b3JlLmNhcnMuZmluZCgoY2FyKSA9PiBjYXIuaWQgPT09IGlkKTtcbiAgICByZXR1cm4gd2lubmVyQ2FyID8gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCB3aW5uZXJDYXIpLCB7IHRpbWU6ICsodGltZSAvIDEwMDApLnRvRml4ZWQoMikgfSkgOiBudWxsO1xufSk7XG5leHBvcnQgY29uc3Qgc3RhcnRSYWNlID0gKHByb21pcykgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgY29uc3QgcHJvbWlzZXMgPSBzdG9yZS5jYXJzLm1hcCgoeyBpZCB9KSA9PiBwcm9taXMoaWQpKTtcbiAgICBjb25zdCB3aW5uZXIgPSB5aWVsZCBjYWxjdWxhdGVSYWNlV2lubmVyKHByb21pc2VzLCBzdG9yZS5jYXJzLm1hcCgoY2FyKSA9PiBjYXIuaWQpKTtcbiAgICByZXR1cm4gd2lubmVyO1xufSk7XG4iLCJ2YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbmltcG9ydCB7IHNhdmVXaW5uZXJzIH0gZnJvbSAnLi4vYXBpJztcbmltcG9ydCB7IHN0YXJ0RHJpdmluZyB9IGZyb20gJy4uL2hlbHBlcnMvc3RhcnQtZHJpdmluZyc7XG5pbXBvcnQgeyBzdGFydFJhY2UgfSBmcm9tICcuLi9oZWxwZXJzL3N0YXJ0LXJhY2UnO1xuaW1wb3J0IHsgcmVuZGVyV2lubmVyc0Jsb2NrIH0gZnJvbSAnLi4vcmVuZGVyLWZ1bmN0aW9ucy93aW5uZXJzLWJsb2NrJztcbmltcG9ydCB7IHVwZGF0ZVdpbm5lcnMgfSBmcm9tICcuLi91cGRhdGUtc3RhdGUnO1xuaW1wb3J0IHsgc29ydGluZ0NhcmRzQnV0dG9uc0xpc3RlbmVyIH0gZnJvbSAnLi9zb3J0LXdpbm5lcnMnO1xuZXhwb3J0IGNvbnN0IGdvUmFjZWxpc3RlbmVyID0gKCkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgY29uc3Qgd2lubmVyc0Jsb2NrID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dpbm5lcnMnKTtcbiAgICBjb25zdCByZXNldEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXNldCcpO1xuICAgIHJlc2V0QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgY29uc3Qgc3RhcnRSYWNlQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JhY2UnKTtcbiAgICBzdGFydFJhY2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgY29uc3Qgd2lubmVyTWVzc2FnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3aW5uZXItbWVzYWdlJyk7XG4gICAgICAgIHJlc2V0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgc3RhcnRSYWNlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgY29uc3Qgd2lubmVyID0geWllbGQgc3RhcnRSYWNlKHN0YXJ0RHJpdmluZyk7XG4gICAgICAgIGlmICghd2lubmVyKSB7XG4gICAgICAgICAgICBzdGFydFJhY2VCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAod2lubmVyTWVzc2FnZSkge1xuICAgICAgICAgICAgd2lubmVyTWVzc2FnZS5pbm5lckhUTUwgPSBgJHt3aW5uZXIubmFtZX0gd2VudCBmaXJzdCBpbiAke3dpbm5lci50aW1lfSBzZWNvbmRzIWA7XG4gICAgICAgICAgICB3aW5uZXJNZXNzYWdlLmNsYXNzTGlzdC5hZGQoJ2Rpc3BsYXknKTtcbiAgICAgICAgfVxuICAgICAgICB5aWVsZCBzYXZlV2lubmVycyh3aW5uZXIpO1xuICAgICAgICB5aWVsZCB1cGRhdGVXaW5uZXJzKCk7XG4gICAgICAgIGlmICh3aW5uZXJzQmxvY2spXG4gICAgICAgICAgICB3aW5uZXJzQmxvY2suaW5uZXJIVE1MID0gcmVuZGVyV2lubmVyc0Jsb2NrKCk7XG4gICAgICAgIHlpZWxkIHNvcnRpbmdDYXJkc0J1dHRvbnNMaXN0ZW5lcigpO1xuICAgICAgICByZXNldEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICBzdGFydFJhY2VCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB9KSk7XG59KTtcbiIsInZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuaW1wb3J0IHsgc3RvcERyaXZpbmcgfSBmcm9tICcuLi9oZWxwZXJzL3N0b3AtZHJpdmluZyc7XG5pbXBvcnQgeyBzdG9yZSB9IGZyb20gJy4uL2hlbHBlcnMvc3RvcmUnO1xuY29uc3Qgc3RvcEFuZFJlc2V0UmFjZSA9ICgpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgIGNvbnN0IHJlc2V0QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc2V0Jyk7XG4gICAgcmVzZXRCdXR0b24gPT09IG51bGwgfHwgcmVzZXRCdXR0b24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc2V0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0UmFjZUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyYWNlJyk7XG4gICAgICAgIGNvbnN0IHdpbm5lck1lc3NhZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2lubmVyLW1lc2FnZScpO1xuICAgICAgICB3aW5uZXJNZXNzYWdlID09PSBudWxsIHx8IHdpbm5lck1lc3NhZ2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHdpbm5lck1lc3NhZ2UuY2xhc3NMaXN0LnJlbW92ZSgnZGlzcGxheScpO1xuICAgICAgICByZXNldEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIHN0YXJ0UmFjZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIHN0b3JlLmNhcnMuZm9yRWFjaCgoeyBpZCB9KSA9PiB7XG4gICAgICAgICAgICBzdG9wRHJpdmluZyhpZCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXNldEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICBzdGFydFJhY2VCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB9KSk7XG59KTtcbmV4cG9ydCBkZWZhdWx0IHN0b3BBbmRSZXNldFJhY2U7XG4iLCJ2YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbmltcG9ydCB7IHVwZGF0ZUNhciB9IGZyb20gJy4uL2FwaSc7XG5pbXBvcnQgeyBzdG9yZSB9IGZyb20gJy4uL2hlbHBlcnMvc3RvcmUnO1xuaW1wb3J0IHsgcmVuZGVyR2FyYWdlQmxvY2sgfSBmcm9tICcuLi9yZW5kZXItZnVuY3Rpb25zL2dhcmFnZS1ibG9jayc7XG5pbXBvcnQgeyByZW5kZXJXaW5uZXJzQmxvY2sgfSBmcm9tICcuLi9yZW5kZXItZnVuY3Rpb25zL3dpbm5lcnMtYmxvY2snO1xuaW1wb3J0IHsgdXBkYXRlQ2FycywgdXBkYXRlV2lubmVycyB9IGZyb20gJy4uL3VwZGF0ZS1zdGF0ZSc7XG5leHBvcnQgY29uc3QgdXBkYXRlU2VsZWN0ZWRDYXIgPSAoKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICBjb25zdCB1cGRhdGVCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXBkYXRlLWJ0bicpO1xuICAgIHVwZGF0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCBuYW1lSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXBkYXRlLW5hbWUnKTtcbiAgICAgICAgY29uc3QgY29sb3JJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1cGRhdGUtY29sb3InKTtcbiAgICAgICAgY29uc3QgZ2FyYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dhcmFnZScpO1xuICAgICAgICBjb25zdCB3aW5uZXJzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dpbm5lcnMnKTtcbiAgICAgICAgY29uc3QgY2FyID0ge1xuICAgICAgICAgICAgbmFtZTogbmFtZUlucHV0LnZhbHVlLFxuICAgICAgICAgICAgY29sb3I6IGNvbG9ySW5wdXQudmFsdWUsXG4gICAgICAgIH07XG4gICAgICAgIGlmIChzdG9yZS5zZWxlY3RlZENhcklEICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHlpZWxkIHVwZGF0ZUNhcihjYXIsIHN0b3JlLnNlbGVjdGVkQ2FySUQpO1xuICAgICAgICAgICAgICAgIHlpZWxkIHVwZGF0ZUNhcnMoKTtcbiAgICAgICAgICAgICAgICB5aWVsZCB1cGRhdGVXaW5uZXJzKCk7XG4gICAgICAgICAgICAgICAgd2lubmVycy5pbm5lckhUTUwgPSByZW5kZXJXaW5uZXJzQmxvY2soKTtcbiAgICAgICAgICAgICAgICBnYXJhZ2UuaW5uZXJIVE1MID0gcmVuZGVyR2FyYWdlQmxvY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG5hbWVJbnB1dC5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIG5hbWVJbnB1dC52YWx1ZSA9ICcnO1xuICAgICAgICBjb2xvcklucHV0LmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgY29sb3JJbnB1dC52YWx1ZSA9ICcjZmZlMDQyJztcbiAgICAgICAgdXBkYXRlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgc3RvcmUuc2VsZWN0ZWRDYXJJRCA9IG51bGw7XG4gICAgfSkpO1xufSk7XG4iLCJ2YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbmltcG9ydCB7IHN0b3JlIH0gZnJvbSAnLi4vaGVscGVycy9zdG9yZSc7XG5pbXBvcnQgeyByZW5kZXJHYXJhZ2VCbG9jayB9IGZyb20gJy4uL3JlbmRlci1mdW5jdGlvbnMvZ2FyYWdlLWJsb2NrJztcbmltcG9ydCB7IHJlbmRlcldpbm5lcnNCbG9jayB9IGZyb20gJy4uL3JlbmRlci1mdW5jdGlvbnMvd2lubmVycy1ibG9jayc7XG5pbXBvcnQgeyBidXR0b25Ub2dnbGVyIH0gZnJvbSAnLi9idXR0b25zLXRvZ2dsZXInO1xuZXhwb3J0IGNvbnN0IHZpZXdCbG9ja1NlbGVjdG9yID0gKCkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgY29uc3QgdG9XaW5uZXJzQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvLXdpbm5lcnMnKTtcbiAgICBjb25zdCB0b0dhcmFnZUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0by1nYXJhZ2UnKTtcbiAgICBjb25zdCBnYXJhZ2VCbG9jayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYXJhZ2UnKTtcbiAgICBjb25zdCB3aW5uZXJzQmxvY2sgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2lubmVycycpO1xuICAgIGNvbnN0IGhpZGVQYW5lbFdyYXBwZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGlkZS1wYW5lbC13cmFwcGVyJyk7XG4gICAgdG9XaW5uZXJzQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIHdpbm5lcnNCbG9jay5pbm5lckhUTUwgPSByZW5kZXJXaW5uZXJzQmxvY2soKTtcbiAgICAgICAgZ2FyYWdlQmxvY2suaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIGhpZGVQYW5lbFdyYXBwZXIuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgIGdhcmFnZUJsb2NrLmNsYXNzTGlzdC5hZGQoJ21vdmVsZWZ0Jyk7XG4gICAgICAgIHN0b3JlLnZpZXcgPSAnd2lubmVyc1BhZ2UnO1xuICAgICAgICBidXR0b25Ub2dnbGVyKCk7XG4gICAgfSkpO1xuICAgIHRvR2FyYWdlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIGdhcmFnZUJsb2NrLmlubmVySFRNTCA9IHJlbmRlckdhcmFnZUJsb2NrKCk7XG4gICAgICAgIGhpZGVQYW5lbFdyYXBwZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgZ2FyYWdlQmxvY2suY2xhc3NMaXN0LnJlbW92ZSgnbW92ZWxlZnQnKTtcbiAgICAgICAgc3RvcmUudmlldyA9ICdnYXJhZ2VQYWdlJztcbiAgICAgICAgYnV0dG9uVG9nZ2xlcigpO1xuICAgIH0pKTtcbn0pO1xuIiwidmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5pbXBvcnQgeyBidXR0b25Ub2dnbGVyIH0gZnJvbSAnLi9ldmVudC1saXN0ZW5lcnMvYnV0dG9ucy10b2dnbGVyJztcbmltcG9ydCB7IGNhckNvbnRyb2xzIH0gZnJvbSAnLi9ldmVudC1saXN0ZW5lcnMvY2FyLWNvbnRyb2xsJztcbmltcG9ydCB7IGNyZXRlTmV3Q2FyIH0gZnJvbSAnLi9ldmVudC1saXN0ZW5lcnMvY3JldGUtbmV3LWNhcic7XG5pbXBvcnQgeyBnZW5lcmF0ZVBhY2tPZkNhcnMgfSBmcm9tICcuL2V2ZW50LWxpc3RlbmVycy9nZW5lcmF0ZS1wYWNrLW9mLWNhcnMnO1xuaW1wb3J0IHsgcGFnaW5hdGlvbkJ1dHRvbnMgfSBmcm9tICcuL2V2ZW50LWxpc3RlbmVycy9wYWdnaW5hdGlvbi1idXR0b25zJztcbmltcG9ydCB7IGdvUmFjZWxpc3RlbmVyIH0gZnJvbSAnLi9ldmVudC1saXN0ZW5lcnMvcmFjZSc7XG5pbXBvcnQgc3RvcEFuZFJlc2V0UmFjZSBmcm9tICcuL2V2ZW50LWxpc3RlbmVycy9yZXNldC1yYWNlJztcbmltcG9ydCB7IHNvcnRpbmdDYXJkc0J1dHRvbnNMaXN0ZW5lciB9IGZyb20gJy4vZXZlbnQtbGlzdGVuZXJzL3NvcnQtd2lubmVycyc7XG5pbXBvcnQgeyB1cGRhdGVTZWxlY3RlZENhciB9IGZyb20gJy4vZXZlbnQtbGlzdGVuZXJzL3VwZGF0ZS1jYXInO1xuaW1wb3J0IHsgdmlld0Jsb2NrU2VsZWN0b3IgfSBmcm9tICcuL2V2ZW50LWxpc3RlbmVycy92aWV3LWJsb2NrLXNlbGVjdG9yJztcbmV4cG9ydCBjb25zdCBwYWdlTGlzdGVuZXJzID0gKCkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgdmlld0Jsb2NrU2VsZWN0b3IoKTtcbiAgICBidXR0b25Ub2dnbGVyKCk7XG4gICAgZ2VuZXJhdGVQYWNrT2ZDYXJzKCk7XG4gICAgcGFnaW5hdGlvbkJ1dHRvbnMoKTtcbiAgICBzb3J0aW5nQ2FyZHNCdXR0b25zTGlzdGVuZXIoKTtcbiAgICBjYXJDb250cm9scygpO1xuICAgIGdvUmFjZWxpc3RlbmVyKCk7XG4gICAgc3RvcEFuZFJlc2V0UmFjZSgpO1xuICAgIGNyZXRlTmV3Q2FyKCk7XG4gICAgdXBkYXRlU2VsZWN0ZWRDYXIoKTtcbn0pO1xuIiwidmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5pbXBvcnQgeyBnZW5lcmF0ZVJhbmRvbUNhck5hbWUgfSBmcm9tICcuLi9oZWxwZXJzL2dlbmVyYXRvcnMnO1xuaW1wb3J0IHsgcmVuZGVyR2FyYWdlQmxvY2sgfSBmcm9tICcuL2dhcmFnZS1ibG9jayc7XG5pbXBvcnQgeyByZW5kZXJXaW5uZXJzQmxvY2sgfSBmcm9tICcuL3dpbm5lcnMtYmxvY2snO1xuZXhwb3J0IGNvbnN0IHJlbmRlck1haW5WaWV3ID0gKCkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgY29uc3QgZnJhZ21lbnQgPSBuZXcgRG9jdW1lbnRGcmFnbWVudCgpO1xuICAgIGNvbnN0IG1haW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdtYWluJyk7XG4gICAgbWFpbi5jbGFzc0xpc3QuYWRkKCdtYWluJyk7XG4gICAgbWFpbi5pbm5lckhUTUwgPSBgXG4gIDxkaXYgY2xhc3M9XCJuYXZpZ2F0aW9uLXBhbmVsIHdyYXBwZXJcIj5cbiAgICA8ZGl2IGNsYXNzPVwibmF2LWJ0blwiIGlkPVwidG8tZ2FyYWdlXCI+VG8gR2FyYWdlPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cIm5hdi1idG5cIiBpZD1cInRvLXdpbm5lcnNcIj5UbyBXaW5uZXJzPC9kaXY+XG4gIDwvZGl2PlxuXG4gIDxkaXYgY2xhc3M9XCJhY3Rpb24tcGFuZWwgd3JhcHBlclwiPlxuICA8ZGl2IGNsYXNzPVwiaGlkZS1wYW5lbC13cmFwcGVyXCIgaWQ9XCJoaWRlLXBhbmVsLXdyYXBwZXJcIj48L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwiZm9ybXNcIj5cbiAgICAgIDxmb3JtIGFjdGlvbj1cIlwiIGNsYXNzPVwiZm9ybVwiIGlkPVwiY3JlYXRlXCI+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiaW5wdXRcIiBpZD1cImNyZWF0ZS1uYW1lXCIgdmFsdWU9XCJcIj5cbiAgICAgICAgPGlucHV0IHR5cGU9XCJjb2xvclwiIGNsYXNzPVwiY29sb3JcIiBpZD1cImNyZWF0ZS1jb2xvclwiIHZhbHVlPVwiI2ZmZTA0MlwiPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYWN0aW9uLWJ0blwiICBpZD1cImNyZWF0ZS1idG5cIj5DcmVhdGU8L2J1dHRvbj5cbiAgICAgIDwvZm9ybT5cbiAgICAgIDxmb3JtIGFjdGlvbj1cIlwiIGNsYXNzPVwiZm9ybVwiIGlkPVwidXBkYXRlXCI+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzPVwiaW5wdXRcIiBpZD1cInVwZGF0ZS1uYW1lXCIgbmFtZT1cIm5hbWVcIiBkaXNhYmxlZCA+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwiY29sb3JcIiBjbGFzcz1cImNvbG9yXCIgaWQ9XCJ1cGRhdGUtY29sb3JcIiBuYW1lPVwiY29sb3JcIiB2YWx1ZT1cIiNmZmUwNDJcIiBkaXNhYmxlZD5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImFjdGlvbi1idG5cIiBpZD1cInVwZGF0ZS1idG5cIiBcInR5cGU9XCJzdWJtaXRcIiBkaXNhYmxlZD5VcGRhdGU8L2J1dHRvbj5cbiAgICAgIDwvZm9ybT5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwicmFjZS1jb250cm9sc1wiPlxuICAgICAgPGJ1dHRvbiBjbGFzcz1cImFjdGlvbi1idG4gcmFjZS1idG5cIiBpZD1cInJhY2VcIj5SYWNlPC9idXR0b24+XG4gICAgICA8YnV0dG9uIGNsYXNzPVwiYWN0aW9uLWJ0biByZXNldC1idG5cIiBpZD1cInJlc2V0XCIgID5SZXNldDwvYnV0dG9uPlxuICAgICAgPGJ1dHRvbiBjbGFzcz1cImFjdGlvbi1idG4gZ2VuZXJhdG9yLWJ0blwiIGlkPVwiZ2VuZXJhdG9yXCI+R2VuZXJhdGUgY2FyczwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cblxuICA8ZGl2IGNsYXNzPVwicGFnaW5hdGlvbi1wYW5lbCB3cmFwcGVyXCI+XG4gICAgPGJ1dHRvbiBjbGFzcz1cImFjdGlvbi1idG4gcHJldi1idG5cIiBpZD1cInByZXZcIj5QUkVWPC9idXR0b24+XG4gICAgPGJ1dHRvbiBjbGFzcz1cImFjdGlvbi1idG4gbmV4dC1idG5cIiBpZD1cIm5leHRcIj5ORVhUPC9idXR0b24+XG4gIDwvZGl2PlxuXG4gIDxkaXYgY2xhc3M9XCJtYWluLXBhbmVsIHdyYXBwZXJcIj5cbiAgICA8ZGl2IGNsYXNzPVwibWFpbi1zY3JlYW4td3JhcHBlclwiPlxuICAgICAgPGRpdiBjbGFzcz1cImdhcmFnZVwiIGlkPVwiZ2FyYWdlXCI+JHtyZW5kZXJHYXJhZ2VCbG9jaygpfTwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cIndpbm5lcnNcIiBpZD1cIndpbm5lcnNcIj4ke3JlbmRlcldpbm5lcnNCbG9jaygpfTwvZGl2PlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbiAgYDtcbiAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChtYWluKTtcbiAgICBkb2N1bWVudC5ib2R5LmlubmVySFRNTCA9ICcnO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZnJhZ21lbnQpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjcmVhdGUtbmFtZScpLnZhbHVlID0gZ2VuZXJhdGVSYW5kb21DYXJOYW1lKCk7XG59KTtcbiIsInZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuaW1wb3J0IHsgcGFnZUxpc3RlbmVycyB9IGZyb20gJy4vbGlzdC1vZi1wYWdlLWxpc3RlbmVycyc7XG5pbXBvcnQgeyByZW5kZXJNYWluVmlldyB9IGZyb20gJy4vcmVuZGVyLWZ1bmN0aW9ucy9tYWluLXZpZXcnO1xuaW1wb3J0IHsgdXBkYXRlU3RhdGUgfSBmcm9tICcuL3VwZGF0ZS1zdGF0ZSc7XG5jb25zdCBzdGFydEFwcCA9ICgpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgIHJlbmRlck1haW5WaWV3KCk7XG4gICAgeWllbGQgdXBkYXRlU3RhdGUoKS50aGVuKCgpID0+IHJlbmRlck1haW5WaWV3KCkpO1xuICAgIHBhZ2VMaXN0ZW5lcnMoKTtcbn0pO1xuc3RhcnRBcHAoKTtcbiJdLCJuYW1lcyI6WyJzdG9yZSIsImNhcnNQYWdlIiwiY2FycyIsImNhcnNDb3VudCIsIndpbm5lcnNQYWdlIiwid2lubmVycyIsIndpbm5lcnNDb3VudCIsInZpZXciLCJzb3J0QnkiLCJzb3J0T3JkZXIiLCJzZWxlY3RlZENhcklEIiwiYW5pbWF0aW9uIiwiYnV0dG9uVG9nZ2xlciIsIl9fYXdhaXRlciIsInRoaXNBcmciLCJfYXJndW1lbnRzIiwiZ2VuZXJhdG9yIiwicHJldkJ1dHRvbiIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJuZXh0QnV0dG9uIiwiY3VycmVudFBhZ2UiLCJpdGVtQ291bnQiLCJkaXNhYmxlZCIsIlAiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImZ1bGZpbGxlZCIsInZhbHVlIiwic3RlcCIsIm5leHQiLCJlIiwicmVqZWN0ZWQiLCJyZXN1bHQiLCJkb25lIiwidGhlbiIsImFwcGx5IiwiYmFzZSIsImdhcmFnZSIsImVuZ2luZSIsImdldENhciIsImlkIiwicmVzcG9uc2UiLCJmZXRjaCIsIm9rIiwiRXJyb3IiLCJqc29uIiwiZXJyb3IiLCJjcmVhdGVDYXIiLCJib2R5IiwibWV0aG9kIiwiSlNPTiIsInN0cmluZ2lmeSIsImhlYWRlcnMiLCJ1cGRhdGVDYXIiLCJnZXRXaW5uZXIiLCJjYWxjdWxhdGVQb3NpdGlvbiIsImVsZW1lbnQiLCJsZWZ0Iiwid2lkdGgiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJzdGFydERyaXZpbmciLCJfYSIsInN0YXJ0QnV0dG9uIiwic3RvcEJ1dHRvbiIsInZlbG9jaXR5IiwiZGlzdGFuY2UiLCJzdGFydENhciIsInRpbWUiLCJNYXRoIiwicm91bmQiLCJjYXIiLCJmbGFnIiwiZW5naW5lQnJva2VNZXNzYWdlIiwiYW5pbWF0aW9uRGF0YSIsImFuaW1hdGlvblRpbWUiLCJzdGF0ZSIsInN0YXJ0VGltZSIsInBlcmZvcm1hbmNlIiwibm93Iiwid2luZG93IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiZ2V0SW50ZXJ2YWwiLCJ0aGlzIiwiY3VycmVudFRpbWUiLCJwYXNzZWREaXN0YW5jZSIsInN0eWxlIiwidHJhbnNmb3JtIiwibWluIiwiZmxvb3IiLCJzdGFydCIsImZpbmlzaCIsInN0YXJ0UG9zaXRpb24iLCJjYWxjdWxhdGVEaXN0YW5jZSIsImRyaXZlRGF0YSIsIk9iamVjdCIsImFzc2lnbiIsInN1Y2Nlc3MiLCJjb25zb2xlIiwiZHJpdmVDYXIiLCJicm9rZUVuZ2luZSIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiYmFja2dyb3VuZENvbG9yIiwiZGlzcGxheSIsImNhck5hbWUiLCJxdWVyeVNlbGVjdG9yIiwidGV4dENvbnRlbnQiLCJpbm5lckhUTUwiLCJzdG9wRHJpdmluZyIsInN0b3BDYXIiLCJjb2xvciIsInJlbmRlckdhcmFnZUJsb2NrIiwibWFwIiwibmFtZSIsImpvaW4iLCJyZW5kZXJXaW5uZXJzQmxvY2siLCJ3aW5uZXIiLCJpbmRleCIsIndpbnMiLCJ1cGRhdGVDYXJzIiwiaXRlbXMiLCJjb3VudCIsIm51bWJlck9mUGFnZVRvRGlzcGxheV8xIiwiYXJnc18xIiwibnVtYmVyT2ZQYWdlVG9EaXNwbGF5IiwiZWxlbWVudHNQZXJQYWdlIiwiTnVtYmVyIiwiZ2V0IiwiZ2V0Q2FycyIsInVwZGF0ZVdpbm5lcnMiLCJwYWdlXzEiLCJzb3J0XzEiLCJvcmRlcl8xIiwiYXJnc18yIiwicGFnZSIsInNvcnQiLCJvcmRlciIsIkl0ZW1zUGVyV2lubmVyc1BhZ2UiLCJnZXRTb3J0T3JkZXIiLCJhbGwiLCJnZXRXaW5uZXJzIiwibmFtZXMiLCJtb2RlbHMiLCJnZW5lcmF0ZVJhbmRvbUNhck5hbWUiLCJyYW5kb20iLCJsZW5ndGgiLCJnZW5lcmF0ZVJhbmRvbUNvbG9yIiwiaSIsInRvZ2dsZUNhcnNTb3J0T3JkZXIiLCJzb3J0aW5nQ2FyZHNCdXR0b25zTGlzdGVuZXIiLCJzb3J0QnlXaW5zIiwic29ydEJ5VGltZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJjYWxjdWxhdGVSYWNlV2lubmVyIiwicHJvbWlzZXMiLCJpZHMiLCJyYWNlIiwiZmFpbGVkSW5kZXgiLCJmaW5kSW5kZXgiLCJzcGxpY2UiLCJ3aW5uZXJDYXIiLCJmaW5kIiwidG9GaXhlZCIsImdvUmFjZWxpc3RlbmVyIiwid2lubmVyc0Jsb2NrIiwicmVzZXRCdXR0b24iLCJzdGFydFJhY2VCdXR0b24iLCJ3aW5uZXJNZXNzYWdlIiwicHJvbWlzIiwiY2xhc3NMaXN0IiwiYWRkIiwid2lubmVyU3RhdHVzIiwic3RhdHVzIiwiZ2V0V2lubmVyU3RhdHVzIiwidXBkYXRlV2lubmVyIiwicGFnZUxpc3RlbmVycyIsInRvV2lubmVyc0J1dHRvbiIsInRvR2FyYWdlQnV0dG9uIiwiZ2FyYWdlQmxvY2siLCJoaWRlUGFuZWxXcmFwcGVyIiwicmVtb3ZlIiwiZ2VuZXJhdGVCdXR0b24iLCJBcnJheSIsImZpbGwiLCJ1cGRhdGVOYW1lSW5wdXQiLCJ1cGRhdGVDb2xvcklucHV0IiwidXBkYXRlQnV0dG9uIiwidGFyZ2V0IiwiY29udGFpbnMiLCJzcGxpdCIsInNlbGVjdGVkQ2FyIiwiZGVsZXRlQ2FyIiwiZGVsZXRlV2lubmVyIiwiZm9yRWFjaCIsInByZXZlbnREZWZhdWx0IiwibmFtZUlucHV0IiwiY29sb3JJbnB1dCIsInJlbmRlck1haW5WaWV3IiwiZnJhZ21lbnQiLCJEb2N1bWVudEZyYWdtZW50IiwibWFpbiIsImNyZWF0ZUVsZW1lbnQiLCJhcHBlbmRDaGlsZCJdLCJzb3VyY2VSb290IjoiIn0=