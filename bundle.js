(()=>{"use strict";const n={carsPage:1,cars:[],carsCount:1,winnersPage:1,winners:[],winnersCount:0,view:"garagePage",sortBy:null,sortOrder:null,selectedCarID:null,animation:[]};const e=()=>{return e=void 0,t=void 0,o=function*(){const e=document.getElementById("prev"),t=document.getElementById("next"),i="garagePage"===n.view?n.carsPage:n.winnersPage,o="garagePage"===n.view?n.carsCount:n.winnersCount;t.disabled=i*("garagePage"===n.view?7:10)>=o,e.disabled=i<=1},new((i=void 0)||(i=Promise))((function(n,r){function c(n){try{d(o.next(n))}catch(n){r(n)}}function a(n){try{d(o.throw(n))}catch(n){r(n)}}function d(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(n){n(t)}))).then(c,a)}d((o=o.apply(e,t||[])).next())}));var e,t,i,o};var t=function(n,e,t,i){return new(t||(t=Promise))((function(o,r){function c(n){try{d(i.next(n))}catch(n){r(n)}}function a(n){try{d(i.throw(n))}catch(n){r(n)}}function d(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(c,a)}d((i=i.apply(n,e||[])).next())}))};const i="https://flint-brazen-catshark.glitch.me/",o=`${i}/garage`,r=`${i}/engine`,c=`${i}/winners`,a=n=>t(void 0,void 0,void 0,(function*(){try{const e=yield fetch(`${o}/${n}`);if(!e.ok)throw new Error("Failed to fetch car");return yield e.json()}catch(n){throw new Error(`Failed fetching car by ID: ${n}`)}})),d=n=>t(void 0,void 0,void 0,(function*(){try{const e=yield fetch(`${o}`,{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error("Failed to create car");return yield e.json()}catch(n){throw new Error(`Failed in creating car: ${n}`)}})),s=(n,e)=>t(void 0,void 0,void 0,(function*(){try{const t=yield fetch(`${o}/${e}`,{method:"PUT",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to update car");return yield t.json()}catch(n){throw new Error(`Failed in car updating by ID ${e}: ${n}`)}})),l=n=>t(void 0,void 0,void 0,(function*(){try{const e=yield fetch(`${c}/${n}`);if(!e.ok)throw new Error(`Failed to fetch winner with ID ${n}`);return yield e.json()}catch(e){throw new Error(`Error fetching winner with ID ${n}: ${e}`)}}));function u(n){const{left:e,width:t}=n.getBoundingClientRect();return e+t}const v=e=>{return i=void 0,o=void 0,a=function*(){var i;const o=document.getElementById(`start-engine-car-${e}`),c=document.getElementById(`stop-engine-car-${e}`);o.disabled=!0;const{velocity:a,distance:d}=yield(n=>t(void 0,void 0,void 0,(function*(){try{const e=yield fetch(`${r}?id=${n}&status=started`,{method:"PATCH"});if(!e.ok)throw new Error("Failed to start car");return yield e.json()}catch(e){throw new Error(`Error starting car with ID ${n}:: ${e}`)}})))(e),s=Math.round(d/a);c.disabled=!1;const l=document.getElementById(`car-${e}`),v=document.getElementById(`flag-${e}`),f=document.getElementById(`engine-broke-${e}`),h=function(n,e,t){const i={id:0},o=performance.now();return i.id=window.requestAnimationFrame((function r(){return c=this,a=void 0,s=function*(){const c=performance.now(),a=Math.round(e/t*(c-o));n.style.transform=`translateX(${Math.min(a,e)}px)`,a<e&&(i.id=window.requestAnimationFrame(r))},new((d=void 0)||(d=Promise))((function(n,e){function t(n){try{o(s.next(n))}catch(n){e(n)}}function i(n){try{o(s.throw(n))}catch(n){e(n)}}function o(e){var o;e.done?n(e.value):(o=e.value,o instanceof d?o:new d((function(n){n(o)}))).then(t,i)}o((s=s.apply(c,a||[])).next())}));var c,a,d,s})),i}(l,Math.floor(function(n,e){const t=u(n);return u(e)-t}(l,v)+90),s);n.animation[e]=h;const y=yield(n=>t(void 0,void 0,void 0,(function*(){try{const e=yield fetch(`${r}?id=${n}&status=drive`,{method:"PATCH"});if(!e.ok)throw new Error("Failed to drive car");return Object.assign(Object.assign({},yield e.json()),{success:!0})}catch(e){return console.error(`Error driving car with ID ${n}:`,e),{success:!1}}})))(e),{success:m}=y;if(!m){const n=document.getElementById(`car-road-${e}`);window.cancelAnimationFrame(h.id),n.style.backgroundColor="palevioletred",f.style.display="block";const t=(null===(i=n.querySelector(".car-name"))||void 0===i?void 0:i.textContent)||"";f.innerHTML=`${t} is out of race because the engine was broken down`}return{success:m,id:e,time:s}},new((c=void 0)||(c=Promise))((function(n,e){function t(n){try{d(a.next(n))}catch(n){e(n)}}function r(n){try{d(a.throw(n))}catch(n){e(n)}}function d(e){var i;e.done?n(e.value):(i=e.value,i instanceof c?i:new c((function(n){n(i)}))).then(t,r)}d((a=a.apply(i,o||[])).next())}));var i,o,c,a};const f=e=>{return i=void 0,o=void 0,a=function*(){const i=document.getElementById(`start-engine-car-${e}`),o=document.getElementById(`stop-engine-car-${e}`),c=document.getElementById(`car-road-${e}`),a=document.getElementById(`engine-broke-${e}`);o.disabled=!0,yield(n=>t(void 0,void 0,void 0,(function*(){try{const e=yield fetch(`${r}?id=${n}&status=stopped`,{method:"PATCH"});if(!e.ok)throw new Error("Failed to stop car");return yield e.json()}catch(e){throw new Error(`Error stopping car with ID ${n}: ${e}`)}})))(e),c.style.backgroundColor="transparent",a.style.display="none",i.disabled=!1,document.getElementById(`car-${e}`).style.transform="translateX(0)",n.animation[e]&&(window.cancelAnimationFrame(n.animation[e].id),delete n.animation[e])},new((c=void 0)||(c=Promise))((function(n,e){function t(n){try{d(a.next(n))}catch(n){e(n)}}function r(n){try{d(a.throw(n))}catch(n){e(n)}}function d(e){var i;e.done?n(e.value):(i=e.value,i instanceof c?i:new c((function(n){n(i)}))).then(t,r)}d((a=a.apply(i,o||[])).next())}));var i,o,c,a},h=n=>`<svg version="1.0" xmlns="http://www.w3.org/2000/svg"\nwidth="80pt" height="30pt" viewBox="0 0 1280.000000 640.000000"\npreserveAspectRatio="xMidYMid meet">\n<g transform="translate(0.000000,640.000000) scale(0.100000,-0.100000)"\nfill="#686868" stroke="none">\n<path fill="${n}" d="M3565 5336 c-106 -30 -101 -26 -108 -111 -4 -42 -9\n-80 -12 -85 -6 -10 -246 -105 -590 -234 -448 -167 -1052 -415 -1173 -483 -78\n-43 -193 -91 -250 -104 -23 -5 -98 -14 -165 -19 -67 -6 -167 -19 -222 -30 -154\n-31 -340 -49 -563 -57 l-203 -6 -43 -66 c-59 -91 -60 -95 -26 -130 37 -37 38 -65 3\n-150 -25 -62 -27 -78 -31 -256 l-4 -190 -38 -32 c-91 -78 -133 -209 -134 -418\n0 -194 11 -396 26 -482 13 -71 14 -74 72 -122 69 -58 130 -129 158 -184 64\n-126 534 -211 1384 -250 l92 -4 -6 119 c-6 142 8 256 49 383 112 352 394 622\n756 722 90 26 112 28 278 28 165 0 188 -2 278 -27 201 -56 361 -152 504 -302\n140 -145 222 -293 274 -492 21 -79 24 -109 23 -279 -1 -127 -6 -214 -16 -263\nl-15 -73 3006 7 c1653 4 3007 8 3009 9 1 1 -8 37 -20 81 -19 67 -22 105 -22\n259 -1 166 1 187 27 279 117 421 467 736 885 797 119 17 325 7 432 -21 239\n-63 453 -205 601 -399 70 -92 154 -267 185 -386 24 -88 27 -119 27 -260 1\n-116 -4 -181 -16 -234 -10 -41 -16 -75 -15 -76 2 -1 62 2 133 6 266 16 458 45\n525 79 48 24 97 81 127 146 l24 52 -16 157 c-15 152 -15 163 4 284 63 388 50\n680 -35 802 -134 193 -526 336 -1429 519 -737 149 -1322 209 -2033 210 -228 0\n-226 0 -347 85 -187 131 -1045 607 -1471 815 -383 187 -788 281 -1439 332\n-208 17 -1106 16 -1400 0 -121 -7 -314 -19 -430 -27 -302 -22 -286 -22 -341\n10 -140 81 -187 94 -269 71z m1885 -333 c6 -37 38 -238 71 -446 32 -209 66\n-422 75 -474 9 -52 15 -96 13 -97 -11 -9 -1699 29 -1951 44 -206 13 -417 36\n-485 54 -98 26 -198 119 -249 231 -35 75 -36 172 -5 255 17 45 30 61 68 86 83\n54 135 80 253 127 341 136 858 230 1460 267 269 16 270 16 511 18 l227 2 12\n-67z m630 47 c264 -18 777 -110 1029 -186 186 -56 445 -188 756 -387 211 -134\n274 -181 250 -185 -75 -12 -133 -50 -162 -106 -19 -35 -21 -136 -4 -179 l11\n-27 -907 2 -906 3 -59 160 c-110 302 -298 878 -298 916 0 6 95 2 290 -11z"/>\n<path d="M2633 3125 c-223 -40 -410 -141 -568 -306 -132 -138 -213 -283 -262\n-467 -22 -83 -26 -119 -26 -247 -1 -169 10 -236 65 -382 87 -230 271 -436 493\n-551 85 -44 178 -78 271 -98 107 -23 312 -23 419 1 392 84 699 375 802 761 23\n86 26 120 27 254 1 158 -5 199 -46 330 -98 310 -355 567 -668 669 -150 50\n-354 64 -507 36z m350 -301 c249 -56 457 -247 543 -499 25 -72 28 -95 28 -220\n1 -153 -15 -228 -74 -345 -94 -186 -283 -337 -485 -386 -96 -24 -268 -24 -360\n0 -320 84 -544 355 -562 681 -20 359 209 673 558 765 94 24 253 26 352 4z"/>\n<path d="M2600 2697 c-36 -13 -85 -36 -109 -51 l-44 -28 116 -115 c81 -82 120\n-114 131 -110 14 6 16 29 16 167 0 186 6 178 -110 137z"/>\n<path d="M2920 2561 c0 -139 2 -162 16 -168 11 -4 50 28 130 108 l115 114 -28\n22 c-34 28 -138 70 -193 79 l-40 7 0 -162z"/>\n<path d="M2282 2448 c-28 -36 -92 -191 -92 -225 0 -10 34 -13 165 -13 151 0\n165 1 165 18 0 15 -206 232 -221 232 -4 0 -11 -6 -17 -12z"/>\n<path d="M3222 2351 c-62 -59 -112 -115 -112 -124 0 -15 17 -17 165 -17 131 0\n165 3 165 13 0 40 -69 205 -95 227 -7 6 -48 -27 -123 -99z"/>\n<path d="M2781 2332 c-12 -22 11 -62 34 -62 8 0 21 10 29 22 20 28 4 58 -29 58 \n-13 0 -29 -8 -34 -18z"/>\n<path d="M2749 2161 c-32 -33 -37 -67 -14 -110 29 -57 104 -64 151 -14 53 57 9 \n153 -71 153 -27 0 -44 -8 -66 -29z"/>\n<path d="M2570 2125 c-26 -32 13 -81 48 -59 24 16 27 45 6 61 -23 17 -39 16 -54 -2z"/>\n<path d="M3006 2124 c-20 -19 -20 -38 -2 -54 23 -19 61 -8 64 18 7 44 -32 67 -62 36z"/>\n<path d="M2190 1975 c0 -29 41 -140 72 -194 l31 -53 117 117 c71 71 116 123 113 \n131 -4 11 -40 14 -169 14 -141 0 -164 -2 -164 -15z"/>\n<path d="M3110 1972 c0 -9 51 -68 114 -131 l114 -114 31 54 c30 51 71 165 71 195 \n0 11 -31 14 -165 14 -151 0 -165 -1 -165 -18z"/>\n<path d="M2780 1901 c-7 -15 -5 -24 8 -41 32 -40 85 -4 62 41 -14 25 -56 25 -70 0z"/>\n<path d="M2562 1697 c-61 -62 -112 -115 -112 -119 0 -18 208 -108 249 -108 7\n0 11 54 11 164 0 140 -2 165 -16 170 -9 3 -16 6 -17 6 -1 0 -53 -51 -115 -113z"/>\n<path d="M2933 1803 c-15 -6 -19 -333 -4 -333 46 0 251 88 251 108 0 9 -223 232 \n-230 231 -3 0 -11 -3 -17 -6z"/>\n<path d="M10700 3119 c-390 -84 -696 -376 -797 -759 -31 -117 -41 -292 -24 -411 \n33 -227 150 -453 318 -609 267 -250 643 -344 993 -249 117 32 283 118 380 196 \n487 396 518 1128 67 1560 -97 93 -166 140 -290 198 -137 64 -235 86 -407 91 -120 \n3 -162 0 -240 -17z m445 -313 c238 -81 409 -258 486 -506 30 -96 33 -289 5 -388 \n-110 -400 -513 -637 -911 -536 -149 38 -313 147 -402 267 -176 238 -203 533 -71 \n797 34 69 60 103 138 180 77 78 111 104 181 139 129 65 207 81 364 77 109 -3 143 -7 210 -30z"/>\n<path d="M10703 2700 c-54 -19 -153 -71 -153 -80 0 -3 51 -57 114 -119 80 -80 \n119 -112 130 -108 14 5 16 29 16 167 l0 160 -27 -1 c-16 0 -52 -9 -80 -19z"/>\n<path d="M11020 2561 c0 -139 2 -162 16 -168 22 -8 247 216 234 232 -17 20 -163 \n84 -207 91 l-43 7 0 -162z"/>\n<path d="M10366 2424 c-29 -44 -76 -165 -76 -194 0 -19 7 -20 165 -20 126 0 165 \n3 165 13 0 7 -51 63 -114 126 l-114 114 -26 -39z"/>\n<path d="M11313 2348 c-61 -62 -109 -119 -106 -125 6 -15 333 -19 333 -4 0 45 -88 \n241 -108 241 -4 0 -57 -51 -119 -112z"/>\n<path d="M10882 2338 c-17 -17 -15 -32 7 -52 16 -14 23 -15 41 -6 31 17 24 64 -10 \n68 -14 2 -31 -3 -38 -10z"/>\n<path d="M10846 2159 c-68 -81 17 -194 110 -144 89 48 56 175 -46 175 -30 0 -44 \n-6 -64 -31z"/>\n<path d="M10670 2126 c-19 -23 -8 -61 18 -64 44 -7 67 32 36 62 -19 20 -38 20 -54 2z"/>\n<path d="M11106 2127 c-21 -16 -18 -45 7 -61 37 -23 77 35 41 61 -10 7 -21 13 -24 \n13 -3 0 -14 -6 -24 -13z"/>\n<path d="M10290 1970 c0 -29 43 -141 74 -195 l28 -48 116 116 c81 81 113 120 109 \n131 -6 14 -29 16 -167 16 -152 0 -160 -1 -160 -20z"/>\n<path d="M11207 1978 c-3 -7 47 -66 111 -130 l116 -118 27 43 c27 44 79 177 79 203 \n0 12 -28 14 -164 14 -122 0 -166 -3 -169 -12z"/>\n<path d="M10881 1901 c-14 -25 -5 -48 20 -56 27 -9 51 13 47 44 -4 34 -51 43 -67 12z"/> \n<path d="M10662 1697 c-61 -62 -112 -115 -112 -119 0 -20 201 -108 247 -108 10 0 13 \n34 13 164 0 140 -2 165 -16 170 -9 3 -16 6 -17 6 -1 0 -53 -51 -115 -113z"/> \n<path d="M11033 1803 c-10 -3 -13 -47 -13 -169 0 -90 4 -164 8 -164 36 0 186 61 239 \n98 16 10 -216 242 -234 235z"/> </g>\n</svg>`,y=()=>`\n<div class="garage-heading">\n  <div>Cars in garage: ${n.carsCount}</div>\n  <div>Page № ${n.carsPage}</div>\n</div>\n  ${n.cars.map((n=>`\n<div class="car-container" id="car-road-${n.id}">\n  <div class="controll-buttons">\n    <button class="select-btn" id="select-car-${n.id}">Select</button>\n    <button class="remove-btn" id="remove-car-${n.id}">Remove</button>\n    <span class="car-name">${n.name}</span>\n    <button class="start-engine-btn" id="start-engine-car-${n.id}">Start</button>\n    <button class="stop-engine-btn" id="stop-engine-car-${n.id}" disabled>Stop</button>\n  </div>\n\n  <div class="road">\n    <div class="car" id="car-${n.id}">${h(n.color)}</div>\n    <div class="flag" id="flag-${n.id}">&#127937;</div>\n  </div>\n  <div id="engine-broke-${n.id}" class = "message" display="none"></div>\n</div>`)).join("")}\n<p class="winner-mesage" id="winner-mesage"></p>  \n`,m=()=>`\n<div class="winners-heading">\n<div>Winners: ${n.winnersCount}</div>\n<div>Page № ${n.winnersPage}</div>\n</div>\n  <table cellspacing ="3" border="0" cellpadding="3" >\n    <thead>\n      <th>№</th>\n      <th>Car</th>\n      <th>Name</th>\n      <th class="sort-by-btn" id="sort-by-wins">Wins</th>\n      <th class="sort-by-btn" id="sort-by-time">Best time(seconds)</th>\n    </thead>\n    <tbody>\n    ${n.winners.map(((n,e)=>`\n        <tr>\n          <td>${e+1}</td>\n          <td>${h(n.car.color)}</td>\n          <td>${n.car.name}</td>\n          <td>${n.wins}</td>\n          <td>${n.time}</td>\n        </tr>\n        `)).join(" ")}\n    </tbody>\n  </table>`;var w=function(n,e,t,i){return new(t||(t=Promise))((function(o,r){function c(n){try{d(i.next(n))}catch(n){r(n)}}function a(n){try{d(i.throw(n))}catch(n){r(n)}}function d(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(c,a)}d((i=i.apply(n,e||[])).next())}))};const p=()=>w(void 0,void 0,void 0,(function*(){try{const{items:e,count:i}=yield((n,...e)=>t(void 0,[n,...e],void 0,(function*(n,e=10){try{const t=yield fetch(`${o}?_page=${n}&_limit=${e}`);if(!t.ok)throw new Error("Failed to fetch cars");const i=Number(t.headers.get("X-Total-Count"));return{items:yield t.json(),count:i}}catch(n){throw new Error(`Failed to fetch cars: ${n}`)}})))(n.carsPage);n.cars=e,n.carsCount=i}catch(n){throw n}})),g=()=>w(void 0,void 0,void 0,(function*(){try{const{items:e,count:i}=yield((n,e,i,...o)=>t(void 0,[n,e,i,...o],void 0,(function*(n,e,i,o=7){try{const r=yield fetch(`${c}?_page=${n}&_limit=${o}&${((n,e)=>n&&e?`&_sort=${n}&_order=${e}`:"")(e,i)}`);if(!r.ok)throw new Error("Failed to fetch winners");const d=yield r.json();return{items:yield Promise.all(d.map((n=>t(void 0,void 0,void 0,(function*(){return Object.assign(Object.assign({},n),{car:yield a(n.id)})}))))),count:r.headers.get("X-Total-Count")}}catch(n){throw new Error(`Error fetching winners: ${n}`)}})))(n.winnersPage,n.sortBy,n.sortOrder);n.winners=e,n.winnersCount=Number(i)}catch(n){throw n}}));var b=function(n,e,t,i){return new(t||(t=Promise))((function(o,r){function c(n){try{d(i.next(n))}catch(n){r(n)}}function a(n){try{d(i.throw(n))}catch(n){r(n)}}function d(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(c,a)}d((i=i.apply(n,e||[])).next())}))};const E=["Porshe","Tesla","Kia","Peugeot","Honda","Jaguar","Mazda","Volvo","MINI","Toyota","SomeSuperFast"],$=["911","Model Y","Seltos","206","CR-V","F-PACE","CX-5","XC60","3-door","Corolla","SuperCar"],I=()=>`${E[Math.floor(Math.random()*$.length)]} ${$[Math.floor(Math.random()*$.length)]}`,M=()=>{let n="#";for(let e=0;e<6;e+=1)n+="0123456789ABCDEF"[Math.floor(16*Math.random())];return n};var B=function(n,e,t,i){return new(t||(t=Promise))((function(o,r){function c(n){try{d(i.next(n))}catch(n){r(n)}}function a(n){try{d(i.throw(n))}catch(n){r(n)}}function d(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(c,a)}d((i=i.apply(n,e||[])).next())}))},P=function(n,e,t,i){return new(t||(t=Promise))((function(o,r){function c(n){try{d(i.next(n))}catch(n){r(n)}}function a(n){try{d(i.throw(n))}catch(n){r(n)}}function d(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(c,a)}d((i=i.apply(n,e||[])).next())}))};var x=function(n,e,t,i){return new(t||(t=Promise))((function(o,r){function c(n){try{d(i.next(n))}catch(n){r(n)}}function a(n){try{d(i.throw(n))}catch(n){r(n)}}function d(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(c,a)}d((i=i.apply(n,e||[])).next())}))};const L=()=>{n.sortOrder="asc"===n.sortOrder?"desc":"asc"},k=()=>x(void 0,void 0,void 0,(function*(){const e=document.getElementById("sort-by-wins"),t=document.getElementById("sort-by-time"),i=document.getElementById("winners");e&&e.addEventListener("click",(()=>x(void 0,void 0,void 0,(function*(){n.sortBy="wins",L(),yield g(),i&&(i.innerHTML=m()),yield k()})))),t&&t.addEventListener("click",(()=>x(void 0,void 0,void 0,(function*(){n.sortBy="time",L(),yield g(),i&&(i.innerHTML=m()),yield k()}))))}));var T=function(n,e,t,i){return new(t||(t=Promise))((function(o,r){function c(n){try{d(i.next(n))}catch(n){r(n)}}function a(n){try{d(i.throw(n))}catch(n){r(n)}}function d(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(c,a)}d((i=i.apply(n,e||[])).next())}))},C=function(n,e,t,i){return new(t||(t=Promise))((function(o,r){function c(n){try{d(i.next(n))}catch(n){r(n)}}function a(n){try{d(i.throw(n))}catch(n){r(n)}}function d(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(c,a)}d((i=i.apply(n,e||[])).next())}))};const z=(e,t)=>C(void 0,void 0,void 0,(function*(){const{success:i,id:o,time:r}=yield Promise.race(e);if(!i){const n=t.findIndex((n=>n===o));return e.splice(n,1),t.splice(n,1),e.length<1?null:z(e,t)}const c=n.cars.find((n=>n.id===o));return c?Object.assign(Object.assign({},c),{time:+(r/1e3).toFixed(2)}):null}));var F=function(n,e,t,i){return new(t||(t=Promise))((function(o,r){function c(n){try{d(i.next(n))}catch(n){r(n)}}function a(n){try{d(i.throw(n))}catch(n){r(n)}}function d(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(c,a)}d((i=i.apply(n,e||[])).next())}))};const D=()=>F(void 0,void 0,void 0,(function*(){const e=document.getElementById("winners"),i=document.getElementById("reset");i.disabled=!1;const o=document.getElementById("race");o.addEventListener("click",(()=>F(void 0,void 0,void 0,(function*(){const r=document.getElementById("winner-mesage");i.disabled=!0,o.disabled=!0;const a=yield(d=v,C(void 0,void 0,void 0,(function*(){const e=n.cars.map((({id:n})=>d(n)));return yield z(e,n.cars.map((n=>n.id)))})));var d,s;a?(r&&(r.innerHTML=`${a.name} went first in ${a.time} seconds!`,r.classList.add("display")),yield(s=a,t(void 0,[s],void 0,(function*({id:n,time:e}){try{const o=yield(n=>t(void 0,void 0,void 0,(function*(){try{return(yield fetch(`${c}/${n}`)).status}catch(e){throw new Error(`Error fetching status for winner with ID ${n}: ${e}`)}})))(n);if(404===o)yield(i={id:n,wins:1,time:e},t(void 0,void 0,void 0,(function*(){try{const n=yield fetch(`${c}`,{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json"}});if(!n.ok)throw new Error("Failed to create winner");return yield n.json()}catch(n){throw new Error(`Error creating winner: ${n}`)}})));else{const i=yield l(n);yield((n,e)=>t(void 0,void 0,void 0,(function*(){try{const t=yield fetch(`${c}/${n}`,{method:"PUT",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}});if(!t.ok)throw new Error(`Failed to update winner with ID ${n}`);return yield t.json()}catch(e){throw new Error(`Error updating winner with ID ${n}: ${e}`)}})))(n,{id:n,wins:i.wins+1,time:e<i.time?e:i.time})}}catch(e){throw new Error(`Error saving winner with ID ${n}: ${e}`)}var i}))),yield g(),e&&(e.innerHTML=m()),yield k(),i.disabled=!1,o.disabled=!1):o.disabled=!1}))))}));var H=function(n,e,t,i){return new(t||(t=Promise))((function(o,r){function c(n){try{d(i.next(n))}catch(n){r(n)}}function a(n){try{d(i.throw(n))}catch(n){r(n)}}function d(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(c,a)}d((i=i.apply(n,e||[])).next())}))};var j=function(n,e,t,i){return new(t||(t=Promise))((function(o,r){function c(n){try{d(i.next(n))}catch(n){r(n)}}function a(n){try{d(i.throw(n))}catch(n){r(n)}}function d(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(c,a)}d((i=i.apply(n,e||[])).next())}))},O=function(n,e,t,i){return new(t||(t=Promise))((function(o,r){function c(n){try{d(i.next(n))}catch(n){r(n)}}function a(n){try{d(i.throw(n))}catch(n){r(n)}}function d(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(c,a)}d((i=i.apply(n,e||[])).next())}))};const S=()=>{return i=void 0,r=void 0,h=function*(){O(void 0,void 0,void 0,(function*(){const t=document.getElementById("to-winners"),i=document.getElementById("to-garage"),o=document.getElementById("garage"),r=document.getElementById("winners"),c=document.getElementById("hide-panel-wrapper");t.addEventListener("click",(()=>O(void 0,void 0,void 0,(function*(){r.innerHTML=m(),o.innerHTML="",c.style.display="block",o.classList.add("moveleft"),n.view="winnersPage",e()})))),i.addEventListener("click",(()=>O(void 0,void 0,void 0,(function*(){o.innerHTML=y(),c.style.display="none",o.classList.remove("moveleft"),n.view="garagePage",e()}))))})),e(),P(void 0,void 0,void 0,(function*(){const n=document.getElementById("generator"),t=document.getElementById("garage");n&&n.addEventListener("click",(()=>P(void 0,void 0,void 0,(function*(){n.disabled=!0;const i=new Array(100).fill(0).map((()=>({name:I(),color:M()})));yield Promise.all(i.map((n=>P(void 0,void 0,void 0,(function*(){return d(n)}))))),yield p(),t&&(t.innerHTML=y()),n.disabled=!1,e()}))))})),T(void 0,void 0,void 0,(function*(){const t=document.getElementById("prev"),i=document.getElementById("next"),o=document.getElementById("garage"),r=document.getElementById("winners");t.addEventListener("click",(()=>T(void 0,void 0,void 0,(function*(){switch(n.view){case"garagePage":n.carsPage-=1,yield p(),o&&(o.innerHTML=y());break;case"winnersPage":n.winnersPage-=1,yield g(),r&&(r.innerHTML=m());break;default:throw new Error(`Unexpected view type received: ${n.view}`)}e(),yield k()})))),i.addEventListener("click",(()=>T(void 0,void 0,void 0,(function*(){switch(n.view){case"garagePage":n.carsPage+=1,yield p(),o&&(o.innerHTML=y());break;case"winnersPage":n.winnersPage+=1,yield g(),r&&(r.innerHTML=m());break;default:throw new Error(`Unexpected view type received: ${n.view}`)}e(),yield k()}))))})),k(),b(void 0,void 0,void 0,(function*(){const e=document.getElementById("update-name"),i=document.getElementById("update-color"),r=document.getElementById("update-btn"),d=document.getElementById("garage"),s=document.getElementById("winners");d.addEventListener("click",(u=>b(void 0,void 0,void 0,(function*(){const h=u.target;if(h.classList.contains("select-btn")){const t=Number(h.id.split("select-car-")[1]),o=yield a(t);n.selectedCarID=o.id,e.value=o.name,i.value=o.color,e.disabled=!1,i.disabled=!1,r.disabled=!1}if(h.classList.contains("remove-btn")){const n=Number(h.id.split("remove-car-")[1]);yield(n=>t(void 0,void 0,void 0,(function*(){try{if(!(yield fetch(`${o}/${n}`,{method:"DELETE"})).ok)throw new Error("Failed to delete car")}catch(n){throw new Error(`Failed to delite car by ID: ${n}`)}})))(n),(yield l(n))&&(yield(n=>t(void 0,void 0,void 0,(function*(){try{if(!(yield fetch(`${c}/${n}`,{method:"DELETE"})).ok)throw new Error(`Failed to delete winner with ID ${n}`)}catch(e){throw new Error(`Error deleting winner with ID ${n}: ${e}`)}})))(n),yield g(),s.innerHTML=m()),yield p(),d.innerHTML=y()}if(h.classList.contains("start-engine-btn")){const n=Number(h.id.split("start-engine-car-")[1]);v(n)}if(h.classList.contains("stop-engine-btn")){const n=Number(h.id.split("stop-engine-car-")[1]);f(n)}}))))})),D(),H(void 0,void 0,void 0,(function*(){const e=document.getElementById("reset");null==e||e.addEventListener("click",(()=>H(void 0,void 0,void 0,(function*(){const t=document.getElementById("race"),i=document.getElementById("winner-mesage");null==i||i.classList.remove("display"),e.disabled=!0,t.disabled=!0,n.cars.forEach((({id:n})=>{f(n)})),e.disabled=!1,t.disabled=!1}))))})),B(void 0,void 0,void 0,(function*(){document.getElementById("create-btn").addEventListener("click",(n=>B(void 0,void 0,void 0,(function*(){n.preventDefault();const t=document.getElementById("create-name"),i=document.getElementById("create-color"),o=document.getElementById("garage"),r={name:t.value,color:i.value};try{yield d(r),yield p(),o.innerHTML=y(),t.value=I(),i.value=M(),e()}catch(n){throw n}}))))})),j(void 0,void 0,void 0,(function*(){const e=document.getElementById("update-btn");e.addEventListener("click",(t=>j(void 0,void 0,void 0,(function*(){t.preventDefault();const i=document.getElementById("update-name"),o=document.getElementById("update-color"),r=document.getElementById("garage"),c=document.getElementById("winners"),a={name:i.value,color:o.value};if(null!==n.selectedCarID)try{yield s(a,n.selectedCarID),yield p(),yield g(),c.innerHTML=m(),r.innerHTML=y()}catch(n){throw n}i.disabled=!0,i.value="",o.disabled=!0,o.value="#ffe042",e.disabled=!0,n.selectedCarID=null}))))}))},new((u=void 0)||(u=Promise))((function(n,e){function t(n){try{c(h.next(n))}catch(n){e(n)}}function o(n){try{c(h.throw(n))}catch(n){e(n)}}function c(e){var i;e.done?n(e.value):(i=e.value,i instanceof u?i:new u((function(n){n(i)}))).then(t,o)}c((h=h.apply(i,r||[])).next())}));var i,r,u,h};const N=()=>{return n=void 0,e=void 0,i=function*(){const n=new DocumentFragment,e=document.createElement("main");e.classList.add("main"),e.innerHTML=`\n  <div class="navigation-panel wrapper">\n    <div class="nav-btn" id="to-garage">To Garage</div>\n    <div class="nav-btn" id="to-winners">To Winners</div>\n  </div>\n\n  <div class="action-panel wrapper">\n  <div class="hide-panel-wrapper" id="hide-panel-wrapper"></div>\n    <div class="forms">\n      <form action="" class="form" id="create">\n        <input type="text" class="input" id="create-name" value="">\n        <input type="color" class="color" id="create-color" value="#ffe042">\n        <button class="action-btn"  id="create-btn">Create</button>\n      </form>\n      <form action="" class="form" id="update">\n        <input type="text" class="input" id="update-name" name="name" disabled >\n        <input type="color" class="color" id="update-color" name="color" value="#ffe042" disabled>\n        <button class="action-btn" id="update-btn" "type="submit" disabled>Update</button>\n      </form>\n    </div>\n    <div class="race-controls">\n      <button class="action-btn race-btn" id="race">Race</button>\n      <button class="action-btn reset-btn" id="reset"  >Reset</button>\n      <button class="action-btn generator-btn" id="generator">Generate cars</button>\n    </div>\n  </div>\n\n  <div class="pagination-panel wrapper">\n    <button class="action-btn prev-btn" id="prev">PREV</button>\n    <button class="action-btn next-btn" id="next">NEXT</button>\n  </div>\n\n  <div class="main-panel wrapper">\n    <div class="main-screan-wrapper">\n      <div class="garage" id="garage">${y()}</div>\n      <div class="winners" id="winners">${m()}</div>\n    </div>\n  </div>\n  `,n.appendChild(e),document.body.innerHTML="",document.body.appendChild(n),document.getElementById("create-name").value=I()},new((t=void 0)||(t=Promise))((function(o,r){function c(n){try{d(i.next(n))}catch(n){r(n)}}function a(n){try{d(i.throw(n))}catch(n){r(n)}}function d(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(c,a)}d((i=i.apply(n,e||[])).next())}));var n,e,t,i};var A,R;R=function*(){alert('By default, the app is configured to communicate with a remote server located at "https://flint-brazen-catshark.glitch.me/".\n    \n    Please note that the initial server response time may be around 20 seconds, so pls f5 the page.'),N(),yield w(void 0,void 0,void 0,(function*(){try{yield p(),yield g()}catch(n){throw n}})).then((()=>N())),S()},new((A=void 0)||(A=Promise))((function(n,e){function t(n){try{o(R.next(n))}catch(n){e(n)}}function i(n){try{o(R.throw(n))}catch(n){e(n)}}function o(e){var o;e.done?n(e.value):(o=e.value,o instanceof A?o:new A((function(n){n(o)}))).then(t,i)}o((R=R.apply(void 0,[])).next())}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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T0FDbEUsRyIsInNvdXJjZXMiOlsid2VicGFjazovL2FzeW5jLXJhY2UvLi9zcmMvaGVscGVycy9zdG9yZS50cyIsIndlYnBhY2s6Ly9hc3luYy1yYWNlLy4vc3JjL2V2ZW50LWxpc3RlbmVycy9idXR0b25zLXRvZ2dsZXIudHMiLCJ3ZWJwYWNrOi8vYXN5bmMtcmFjZS8uL3NyYy9hcGkudHMiLCJ3ZWJwYWNrOi8vYXN5bmMtcmFjZS8uL3NyYy9oZWxwZXJzL2NhbGN1bGF0ZS1kaXN0YW5zZS50cyIsIndlYnBhY2s6Ly9hc3luYy1yYWNlLy4vc3JjL2hlbHBlcnMvc3RhcnQtZHJpdmluZy50cyIsIndlYnBhY2s6Ly9hc3luYy1yYWNlLy4vc3JjL2hlbHBlcnMvY2FyLWFuaW1hdGlvbi50cyIsIndlYnBhY2s6Ly9hc3luYy1yYWNlLy4vc3JjL2hlbHBlcnMvc3RvcC1kcml2aW5nLnRzIiwid2VicGFjazovL2FzeW5jLXJhY2UvLi9zcmMvaGVscGVycy9jYXItc3ZnLnRzIiwid2VicGFjazovL2FzeW5jLXJhY2UvLi9zcmMvcmVuZGVyLWZ1bmN0aW9ucy9nYXJhZ2UtYmxvY2sudHMiLCJ3ZWJwYWNrOi8vYXN5bmMtcmFjZS8uL3NyYy9yZW5kZXItZnVuY3Rpb25zL3dpbm5lcnMtYmxvY2sudHMiLCJ3ZWJwYWNrOi8vYXN5bmMtcmFjZS8uL3NyYy91cGRhdGUtc3RhdGUudHMiLCJ3ZWJwYWNrOi8vYXN5bmMtcmFjZS8uL3NyYy9ldmVudC1saXN0ZW5lcnMvY2FyLWNvbnRyb2xsLnRzIiwid2VicGFjazovL2FzeW5jLXJhY2UvLi9zcmMvaGVscGVycy9nZW5lcmF0b3JzLnRzIiwid2VicGFjazovL2FzeW5jLXJhY2UvLi9zcmMvZXZlbnQtbGlzdGVuZXJzL2NyZXRlLW5ldy1jYXIudHMiLCJ3ZWJwYWNrOi8vYXN5bmMtcmFjZS8uL3NyYy9ldmVudC1saXN0ZW5lcnMvZ2VuZXJhdGUtcGFjay1vZi1jYXJzLnRzIiwid2VicGFjazovL2FzeW5jLXJhY2UvLi9zcmMvZXZlbnQtbGlzdGVuZXJzL3NvcnQtd2lubmVycy50cyIsIndlYnBhY2s6Ly9hc3luYy1yYWNlLy4vc3JjL2V2ZW50LWxpc3RlbmVycy9wYWdnaW5hdGlvbi1idXR0b25zLnRzIiwid2VicGFjazovL2FzeW5jLXJhY2UvLi9zcmMvaGVscGVycy9zdGFydC1yYWNlLnRzIiwid2VicGFjazovL2FzeW5jLXJhY2UvLi9zcmMvZXZlbnQtbGlzdGVuZXJzL3JhY2UudHMiLCJ3ZWJwYWNrOi8vYXN5bmMtcmFjZS8uL3NyYy9ldmVudC1saXN0ZW5lcnMvcmVzZXQtcmFjZS50cyIsIndlYnBhY2s6Ly9hc3luYy1yYWNlLy4vc3JjL2V2ZW50LWxpc3RlbmVycy91cGRhdGUtY2FyLnRzIiwid2VicGFjazovL2FzeW5jLXJhY2UvLi9zcmMvZXZlbnQtbGlzdGVuZXJzL3ZpZXctYmxvY2stc2VsZWN0b3IudHMiLCJ3ZWJwYWNrOi8vYXN5bmMtcmFjZS8uL3NyYy9saXN0LW9mLXBhZ2UtbGlzdGVuZXJzLnRzIiwid2VicGFjazovL2FzeW5jLXJhY2UvLi9zcmMvcmVuZGVyLWZ1bmN0aW9ucy9tYWluLXZpZXcudHMiLCJ3ZWJwYWNrOi8vYXN5bmMtcmFjZS8uL3NyYy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3Qgc3RvcmUgPSB7XG4gICAgY2Fyc1BhZ2U6IDEsXG4gICAgY2FyczogW10sXG4gICAgY2Fyc0NvdW50OiAxLFxuICAgIHdpbm5lcnNQYWdlOiAxLFxuICAgIHdpbm5lcnM6IFtdLFxuICAgIHdpbm5lcnNDb3VudDogMCxcbiAgICB2aWV3OiAnZ2FyYWdlUGFnZScsXG4gICAgc29ydEJ5OiBudWxsLFxuICAgIHNvcnRPcmRlcjogbnVsbCxcbiAgICBzZWxlY3RlZENhcklEOiBudWxsLFxuICAgIGFuaW1hdGlvbjogW10sXG59O1xuIiwidmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5pbXBvcnQgeyBzdG9yZSB9IGZyb20gJy4uL2hlbHBlcnMvc3RvcmUnO1xuZXhwb3J0IGNvbnN0IGJ1dHRvblRvZ2dsZXIgPSAoKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICBjb25zdCBwcmV2QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByZXYnKTtcbiAgICBjb25zdCBuZXh0QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25leHQnKTtcbiAgICBjb25zdCBjdXJyZW50UGFnZSA9IHN0b3JlLnZpZXcgPT09ICdnYXJhZ2VQYWdlJyA/IHN0b3JlLmNhcnNQYWdlIDogc3RvcmUud2lubmVyc1BhZ2U7XG4gICAgY29uc3QgaXRlbUNvdW50ID0gc3RvcmUudmlldyA9PT0gJ2dhcmFnZVBhZ2UnID8gc3RvcmUuY2Fyc0NvdW50IDogc3RvcmUud2lubmVyc0NvdW50O1xuICAgIG5leHRCdXR0b24uZGlzYWJsZWQgPSBjdXJyZW50UGFnZSAqIChzdG9yZS52aWV3ID09PSAnZ2FyYWdlUGFnZScgPyA3IDogMTApID49IGl0ZW1Db3VudDtcbiAgICBwcmV2QnV0dG9uLmRpc2FibGVkID0gY3VycmVudFBhZ2UgPD0gMTtcbn0pO1xuIiwidmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5jb25zdCBiYXNlID0gJ2h0dHBzOi8vZmxpbnQtYnJhemVuLWNhdHNoYXJrLmdsaXRjaC5tZS8nO1xuLy8gY29uc3QgYmFzZSA9ICdodHRwOi8vMTI3LjAuMC4xOjMwMDAvJ1xuY29uc3QgZ2FyYWdlID0gYCR7YmFzZX0vZ2FyYWdlYDtcbmNvbnN0IGVuZ2luZSA9IGAke2Jhc2V9L2VuZ2luZWA7XG5jb25zdCB3aW5uZXJzID0gYCR7YmFzZX0vd2lubmVyc2A7XG5leHBvcnQgY29uc3QgZ2V0Q2FycyA9IChudW1iZXJPZlBhZ2VUb0Rpc3BsYXlfMSwgLi4uYXJnc18xKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCBbbnVtYmVyT2ZQYWdlVG9EaXNwbGF5XzEsIC4uLmFyZ3NfMV0sIHZvaWQgMCwgZnVuY3Rpb24qIChudW1iZXJPZlBhZ2VUb0Rpc3BsYXksIGVsZW1lbnRzUGVyUGFnZSA9IDEwKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCBmZXRjaChgJHtnYXJhZ2V9P19wYWdlPSR7bnVtYmVyT2ZQYWdlVG9EaXNwbGF5fSZfbGltaXQ9JHtlbGVtZW50c1BlclBhZ2V9YCk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGZldGNoIGNhcnMnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb3VudCA9IE51bWJlcihyZXNwb25zZS5oZWFkZXJzLmdldCgnWC1Ub3RhbC1Db3VudCcpKTtcbiAgICAgICAgY29uc3QgaXRlbXMgPSAoeWllbGQgcmVzcG9uc2UuanNvbigpKTtcbiAgICAgICAgcmV0dXJuIHsgaXRlbXMsIGNvdW50IH07XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCBjYXJzOiAke2Vycm9yfWApO1xuICAgIH1cbn0pO1xuZXhwb3J0IGNvbnN0IGdldENhciA9IChpZCkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCBmZXRjaChgJHtnYXJhZ2V9LyR7aWR9YCk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGZldGNoIGNhcicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoeWllbGQgcmVzcG9uc2UuanNvbigpKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIGZldGNoaW5nIGNhciBieSBJRDogJHtlcnJvcn1gKTtcbiAgICB9XG59KTtcbmV4cG9ydCBjb25zdCBjcmVhdGVDYXIgPSAoYm9keSkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCBmZXRjaChgJHtnYXJhZ2V9YCwge1xuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGNyZWF0ZSBjYXInKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKHlpZWxkIHJlc3BvbnNlLmpzb24oKSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCBpbiBjcmVhdGluZyBjYXI6ICR7ZXJyb3J9YCk7XG4gICAgfVxufSk7XG5leHBvcnQgY29uc3QgZGVsZXRlQ2FyID0gKGlkKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIGZldGNoKGAke2dhcmFnZX0vJHtpZH1gLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gZGVsZXRlIGNhcicpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBkZWxpdGUgY2FyIGJ5IElEOiAke2Vycm9yfWApO1xuICAgIH1cbn0pO1xuZXhwb3J0IGNvbnN0IHVwZGF0ZUNhciA9IChib2R5LCBpZCkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCBmZXRjaChgJHtnYXJhZ2V9LyR7aWR9YCwge1xuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gdXBkYXRlIGNhcicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoeWllbGQgcmVzcG9uc2UuanNvbigpKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIGluIGNhciB1cGRhdGluZyBieSBJRCAke2lkfTogJHtlcnJvcn1gKTtcbiAgICB9XG59KTtcbmV4cG9ydCBjb25zdCBzdGFydENhciA9IChpZCkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCBmZXRjaChgJHtlbmdpbmV9P2lkPSR7aWR9JnN0YXR1cz1zdGFydGVkYCwge1xuICAgICAgICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gc3RhcnQgY2FyJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICh5aWVsZCByZXNwb25zZS5qc29uKCkpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciBzdGFydGluZyBjYXIgd2l0aCBJRCAke2lkfTo6ICR7ZXJyb3J9YCk7XG4gICAgfVxufSk7XG5leHBvcnQgY29uc3Qgc3RvcENhciA9IChpZCkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCBmZXRjaChgJHtlbmdpbmV9P2lkPSR7aWR9JnN0YXR1cz1zdG9wcGVkYCwge1xuICAgICAgICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gc3RvcCBjYXInKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKHlpZWxkIHJlc3BvbnNlLmpzb24oKSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVycm9yIHN0b3BwaW5nIGNhciB3aXRoIElEICR7aWR9OiAke2Vycm9yfWApO1xuICAgIH1cbn0pO1xuZXhwb3J0IGNvbnN0IGRyaXZlQ2FyID0gKGlkKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIGZldGNoKGAke2VuZ2luZX0/aWQ9JHtpZH0mc3RhdHVzPWRyaXZlYCwgeyBtZXRob2Q6ICdQQVRDSCcgfSk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGRyaXZlIGNhcicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sICh5aWVsZCByZXNwb25zZS5qc29uKCkpKSwgeyBzdWNjZXNzOiB0cnVlIH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgZHJpdmluZyBjYXIgd2l0aCBJRCAke2lkfTpgLCBlcnJvcik7XG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlIH07XG4gICAgfVxufSk7XG5leHBvcnQgY29uc3QgZ2V0U29ydE9yZGVyID0gKHNvcnQsIG9yZGVyKSA9PiB7XG4gICAgcmV0dXJuIHNvcnQgJiYgb3JkZXIgPyBgJl9zb3J0PSR7c29ydH0mX29yZGVyPSR7b3JkZXJ9YCA6ICcnO1xufTtcbmV4cG9ydCBjb25zdCBnZXRXaW5uZXJzID0gKHBhZ2VfMSwgc29ydF8xLCBvcmRlcl8xLCAuLi5hcmdzXzIpID0+IF9fYXdhaXRlcih2b2lkIDAsIFtwYWdlXzEsIHNvcnRfMSwgb3JkZXJfMSwgLi4uYXJnc18yXSwgdm9pZCAwLCBmdW5jdGlvbiogKHBhZ2UsIHNvcnQsIG9yZGVyLCBJdGVtc1Blcldpbm5lcnNQYWdlID0gNykge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgZmV0Y2goYCR7d2lubmVyc30/X3BhZ2U9JHtwYWdlfSZfbGltaXQ9JHtJdGVtc1Blcldpbm5lcnNQYWdlfSYke2dldFNvcnRPcmRlcihzb3J0LCBvcmRlcil9YCk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGZldGNoIHdpbm5lcnMnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpdGVtcyA9IHlpZWxkIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgY29uc3Qgd2lubmVyc1dpdGhDYXJzID0geWllbGQgUHJvbWlzZS5hbGwoaXRlbXMubWFwKCh3aW5uZXIpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICAgICAgcmV0dXJuIChPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHdpbm5lciksIHsgY2FyOiB5aWVsZCBnZXRDYXIod2lubmVyLmlkKSB9KSk7XG4gICAgICAgIH0pKSk7XG4gICAgICAgIGNvbnN0IGNvdW50ID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoJ1gtVG90YWwtQ291bnQnKTtcbiAgICAgICAgcmV0dXJuIHsgaXRlbXM6IHdpbm5lcnNXaXRoQ2FycywgY291bnQgfTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRXJyb3IgZmV0Y2hpbmcgd2lubmVyczogJHtlcnJvcn1gKTtcbiAgICB9XG59KTtcbmV4cG9ydCBjb25zdCBnZXRXaW5uZXIgPSAoaWQpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgZmV0Y2goYCR7d2lubmVyc30vJHtpZH1gKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZmV0Y2ggd2lubmVyIHdpdGggSUQgJHtpZH1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKHlpZWxkIHJlc3BvbnNlLmpzb24oKSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVycm9yIGZldGNoaW5nIHdpbm5lciB3aXRoIElEICR7aWR9OiAke2Vycm9yfWApO1xuICAgIH1cbn0pO1xuZXhwb3J0IGNvbnN0IGRlbGV0ZVdpbm5lciA9IChpZCkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCBmZXRjaChgJHt3aW5uZXJzfS8ke2lkfWAsIHsgbWV0aG9kOiAnREVMRVRFJyB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZGVsZXRlIHdpbm5lciB3aXRoIElEICR7aWR9YCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRXJyb3IgZGVsZXRpbmcgd2lubmVyIHdpdGggSUQgJHtpZH06ICR7ZXJyb3J9YCk7XG4gICAgfVxufSk7XG5leHBvcnQgY29uc3QgY3JlYXRlV2lubmVyID0gKGJvZHkpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgZmV0Y2goYCR7d2lubmVyc31gLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gY3JlYXRlIHdpbm5lcicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB5aWVsZCByZXNwb25zZS5qc29uKCk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVycm9yIGNyZWF0aW5nIHdpbm5lcjogJHtlcnJvcn1gKTtcbiAgICB9XG59KTtcbmV4cG9ydCBjb25zdCB1cGRhdGVXaW5uZXIgPSAoaWQsIGJvZHkpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0geWllbGQgZmV0Y2goYCR7d2lubmVyc30vJHtpZH1gLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byB1cGRhdGUgd2lubmVyIHdpdGggSUQgJHtpZH1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKHlpZWxkIHJlc3BvbnNlLmpzb24oKSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVycm9yIHVwZGF0aW5nIHdpbm5lciB3aXRoIElEICR7aWR9OiAke2Vycm9yfWApO1xuICAgIH1cbn0pO1xuZXhwb3J0IGNvbnN0IGdldFdpbm5lclN0YXR1cyA9IChpZCkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCBmZXRjaChgJHt3aW5uZXJzfS8ke2lkfWApO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciBmZXRjaGluZyBzdGF0dXMgZm9yIHdpbm5lciB3aXRoIElEICR7aWR9OiAke2Vycm9yfWApO1xuICAgIH1cbn0pO1xuZXhwb3J0IGNvbnN0IHNhdmVXaW5uZXJzID0gKF9hKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCBbX2FdLCB2b2lkIDAsIGZ1bmN0aW9uKiAoeyBpZCwgdGltZSB9KSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgd2lubmVyU3RhdHVzID0geWllbGQgZ2V0V2lubmVyU3RhdHVzKGlkKTtcbiAgICAgICAgaWYgKHdpbm5lclN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgICAgICB5aWVsZCBjcmVhdGVXaW5uZXIoeyBpZCwgd2luczogMSwgdGltZSB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHdpbm5lciA9IHlpZWxkIGdldFdpbm5lcihpZCk7XG4gICAgICAgICAgICB5aWVsZCB1cGRhdGVXaW5uZXIoaWQsIHtcbiAgICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgICB3aW5zOiB3aW5uZXIud2lucyArIDEsXG4gICAgICAgICAgICAgICAgdGltZTogdGltZSA8IHdpbm5lci50aW1lID8gdGltZSA6IHdpbm5lci50aW1lLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRXJyb3Igc2F2aW5nIHdpbm5lciB3aXRoIElEICR7aWR9OiAke2Vycm9yfWApO1xuICAgIH1cbn0pO1xuIiwiZnVuY3Rpb24gY2FsY3VsYXRlUG9zaXRpb24oZWxlbWVudCkge1xuICAgIGNvbnN0IHsgbGVmdCwgd2lkdGggfSA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgcmV0dXJuIGxlZnQgKyB3aWR0aDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVEaXN0YW5jZShzdGFydCwgZmluaXNoKSB7XG4gICAgY29uc3Qgc3RhcnRQb3NpdGlvbiA9IGNhbGN1bGF0ZVBvc2l0aW9uKHN0YXJ0KTtcbiAgICBjb25zdCBmaW5pc2hQb3NpdGlvbiA9IGNhbGN1bGF0ZVBvc2l0aW9uKGZpbmlzaCk7XG4gICAgcmV0dXJuIGZpbmlzaFBvc2l0aW9uIC0gc3RhcnRQb3NpdGlvbjtcbn1cbiIsInZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuaW1wb3J0IHsgZHJpdmVDYXIsIHN0YXJ0Q2FyIH0gZnJvbSAnLi4vYXBpJztcbmltcG9ydCB7IGNhbGN1bGF0ZURpc3RhbmNlIH0gZnJvbSAnLi9jYWxjdWxhdGUtZGlzdGFuc2UnO1xuaW1wb3J0IHsgYW5pbWF0aW9uIH0gZnJvbSAnLi9jYXItYW5pbWF0aW9uJztcbmltcG9ydCB7IHN0b3JlIH0gZnJvbSAnLi9zdG9yZSc7XG5leHBvcnQgY29uc3Qgc3RhcnREcml2aW5nID0gKGlkKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3Qgc3RhcnRCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgc3RhcnQtZW5naW5lLWNhci0ke2lkfWApO1xuICAgIGNvbnN0IHN0b3BCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgc3RvcC1lbmdpbmUtY2FyLSR7aWR9YCk7XG4gICAgc3RhcnRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgIGNvbnN0IHsgdmVsb2NpdHksIGRpc3RhbmNlIH0gPSB5aWVsZCBzdGFydENhcihpZCk7XG4gICAgY29uc3QgdGltZSA9IE1hdGgucm91bmQoZGlzdGFuY2UgLyB2ZWxvY2l0eSk7XG4gICAgc3RvcEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIGNvbnN0IGNhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBjYXItJHtpZH1gKTtcbiAgICBjb25zdCBmbGFnID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGZsYWctJHtpZH1gKTtcbiAgICBjb25zdCBlbmdpbmVCcm9rZU1lc3NhZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgZW5naW5lLWJyb2tlLSR7aWR9YCk7XG4gICAgY29uc3QgY2FyTW9kZWxXaWR0aEluUHggPSA5MDtcbiAgICBjb25zdCBjdXJyZW50RGlzdGFuY2UgPSBNYXRoLmZsb29yKGNhbGN1bGF0ZURpc3RhbmNlKGNhciwgZmxhZykgKyBjYXJNb2RlbFdpZHRoSW5QeCk7XG4gICAgY29uc3QgYW5pbWF0aW9uRGF0YSA9IGFuaW1hdGlvbihjYXIsIGN1cnJlbnREaXN0YW5jZSwgdGltZSk7XG4gICAgc3RvcmUuYW5pbWF0aW9uW2lkXSA9IGFuaW1hdGlvbkRhdGE7XG4gICAgY29uc3QgZHJpdmVEYXRhID0geWllbGQgZHJpdmVDYXIoaWQpO1xuICAgIGNvbnN0IHsgc3VjY2VzcyB9ID0gZHJpdmVEYXRhO1xuICAgIGlmICghc3VjY2Vzcykge1xuICAgICAgICBjb25zdCBicm9rZUVuZ2luZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBjYXItcm9hZC0ke2lkfWApO1xuICAgICAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUoYW5pbWF0aW9uRGF0YS5pZCk7XG4gICAgICAgIGJyb2tlRW5naW5lLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdwYWxldmlvbGV0cmVkJztcbiAgICAgICAgZW5naW5lQnJva2VNZXNzYWdlLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICBjb25zdCBjYXJOYW1lID0gKChfYSA9IGJyb2tlRW5naW5lLnF1ZXJ5U2VsZWN0b3IoJy5jYXItbmFtZScpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudGV4dENvbnRlbnQpIHx8ICcnO1xuICAgICAgICBlbmdpbmVCcm9rZU1lc3NhZ2UuaW5uZXJIVE1MID0gYCR7Y2FyTmFtZX0gaXMgb3V0IG9mIHJhY2UgYmVjYXVzZSB0aGUgZW5naW5lIHdhcyBicm9rZW4gZG93bmA7XG4gICAgfVxuICAgIHJldHVybiB7IHN1Y2Nlc3MsIGlkLCB0aW1lIH07XG59KTtcbiIsInZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuZXhwb3J0IGZ1bmN0aW9uIGFuaW1hdGlvbihjYXIsIGRpc3RhbmNlLCBhbmltYXRpb25UaW1lKSB7XG4gICAgY29uc3Qgc3RhdGUgPSB7IGlkOiAwIH07XG4gICAgY29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgZnVuY3Rpb24gZ2V0SW50ZXJ2YWwoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW50VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICAgICAgY29uc3QgcGFzc2VkRGlzdGFuY2UgPSBNYXRoLnJvdW5kKChjdXJyZW50VGltZSAtIHN0YXJ0VGltZSkgKiAoZGlzdGFuY2UgLyBhbmltYXRpb25UaW1lKSk7XG4gICAgICAgICAgICBjb25zdCBjYXJTdHlsZSA9IGNhci5zdHlsZTtcbiAgICAgICAgICAgIGNhclN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKCR7TWF0aC5taW4ocGFzc2VkRGlzdGFuY2UsIGRpc3RhbmNlKX1weClgO1xuICAgICAgICAgICAgaWYgKHBhc3NlZERpc3RhbmNlIDwgZGlzdGFuY2UpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5pZCA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZ2V0SW50ZXJ2YWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3RhdGUuaWQgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGdldEludGVydmFsKTtcbiAgICByZXR1cm4gc3RhdGU7XG59XG4iLCJ2YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbmltcG9ydCB7IHN0b3BDYXIgfSBmcm9tICcuLi9hcGknO1xuaW1wb3J0IHsgc3RvcmUgfSBmcm9tICcuL3N0b3JlJztcbmV4cG9ydCBjb25zdCBzdG9wRHJpdmluZyA9IChpZCkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgY29uc3Qgc3RhcnRCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgc3RhcnQtZW5naW5lLWNhci0ke2lkfWApO1xuICAgIGNvbnN0IHN0b3BCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgc3RvcC1lbmdpbmUtY2FyLSR7aWR9YCk7XG4gICAgY29uc3QgYnJva2VFbmdpbmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgY2FyLXJvYWQtJHtpZH1gKTtcbiAgICBjb25zdCBlbmdpbmVCcm9rZU1lc3NhZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgZW5naW5lLWJyb2tlLSR7aWR9YCk7XG4gICAgc3RvcEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgeWllbGQgc3RvcENhcihpZCk7XG4gICAgYnJva2VFbmdpbmUuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3RyYW5zcGFyZW50JztcbiAgICBlbmdpbmVCcm9rZU1lc3NhZ2Uuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICBzdGFydEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIGNvbnN0IGNhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBjYXItJHtpZH1gKTtcbiAgICBjYXIuc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVgoMCknO1xuICAgIGlmIChzdG9yZS5hbmltYXRpb25baWRdKSB7XG4gICAgICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZShzdG9yZS5hbmltYXRpb25baWRdLmlkKTtcbiAgICAgICAgZGVsZXRlIHN0b3JlLmFuaW1hdGlvbltpZF07XG4gICAgfVxufSk7XG4iLCJjb25zdCBjYXJJbWFnZSA9IChjb2xvcikgPT4gYDxzdmcgdmVyc2lvbj1cIjEuMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIlxud2lkdGg9XCI4MHB0XCIgaGVpZ2h0PVwiMzBwdFwiIHZpZXdCb3g9XCIwIDAgMTI4MC4wMDAwMDAgNjQwLjAwMDAwMFwiXG5wcmVzZXJ2ZUFzcGVjdFJhdGlvPVwieE1pZFlNaWQgbWVldFwiPlxuPGcgdHJhbnNmb3JtPVwidHJhbnNsYXRlKDAuMDAwMDAwLDY0MC4wMDAwMDApIHNjYWxlKDAuMTAwMDAwLC0wLjEwMDAwMClcIlxuZmlsbD1cIiM2ODY4NjhcIiBzdHJva2U9XCJub25lXCI+XG48cGF0aCBmaWxsPVwiJHtjb2xvcn1cIiBkPVwiTTM1NjUgNTMzNiBjLTEwNiAtMzAgLTEwMSAtMjYgLTEwOCAtMTExIC00IC00MiAtOVxuLTgwIC0xMiAtODUgLTYgLTEwIC0yNDYgLTEwNSAtNTkwIC0yMzQgLTQ0OCAtMTY3IC0xMDUyIC00MTUgLTExNzMgLTQ4MyAtNzhcbi00MyAtMTkzIC05MSAtMjUwIC0xMDQgLTIzIC01IC05OCAtMTQgLTE2NSAtMTkgLTY3IC02IC0xNjcgLTE5IC0yMjIgLTMwIC0xNTRcbi0zMSAtMzQwIC00OSAtNTYzIC01NyBsLTIwMyAtNiAtNDMgLTY2IGMtNTkgLTkxIC02MCAtOTUgLTI2IC0xMzAgMzcgLTM3IDM4IC02NSAzXG4tMTUwIC0yNSAtNjIgLTI3IC03OCAtMzEgLTI1NiBsLTQgLTE5MCAtMzggLTMyIGMtOTEgLTc4IC0xMzMgLTIwOSAtMTM0IC00MThcbjAgLTE5NCAxMSAtMzk2IDI2IC00ODIgMTMgLTcxIDE0IC03NCA3MiAtMTIyIDY5IC01OCAxMzAgLTEyOSAxNTggLTE4NCA2NFxuLTEyNiA1MzQgLTIxMSAxMzg0IC0yNTAgbDkyIC00IC02IDExOSBjLTYgMTQyIDggMjU2IDQ5IDM4MyAxMTIgMzUyIDM5NCA2MjJcbjc1NiA3MjIgOTAgMjYgMTEyIDI4IDI3OCAyOCAxNjUgMCAxODggLTIgMjc4IC0yNyAyMDEgLTU2IDM2MSAtMTUyIDUwNCAtMzAyXG4xNDAgLTE0NSAyMjIgLTI5MyAyNzQgLTQ5MiAyMSAtNzkgMjQgLTEwOSAyMyAtMjc5IC0xIC0xMjcgLTYgLTIxNCAtMTYgLTI2M1xubC0xNSAtNzMgMzAwNiA3IGMxNjUzIDQgMzAwNyA4IDMwMDkgOSAxIDEgLTggMzcgLTIwIDgxIC0xOSA2NyAtMjIgMTA1IC0yMlxuMjU5IC0xIDE2NiAxIDE4NyAyNyAyNzkgMTE3IDQyMSA0NjcgNzM2IDg4NSA3OTcgMTE5IDE3IDMyNSA3IDQzMiAtMjEgMjM5XG4tNjMgNDUzIC0yMDUgNjAxIC0zOTkgNzAgLTkyIDE1NCAtMjY3IDE4NSAtMzg2IDI0IC04OCAyNyAtMTE5IDI3IC0yNjAgMVxuLTExNiAtNCAtMTgxIC0xNiAtMjM0IC0xMCAtNDEgLTE2IC03NSAtMTUgLTc2IDIgLTEgNjIgMiAxMzMgNiAyNjYgMTYgNDU4IDQ1XG41MjUgNzkgNDggMjQgOTcgODEgMTI3IDE0NiBsMjQgNTIgLTE2IDE1NyBjLTE1IDE1MiAtMTUgMTYzIDQgMjg0IDYzIDM4OCA1MFxuNjgwIC0zNSA4MDIgLTEzNCAxOTMgLTUyNiAzMzYgLTE0MjkgNTE5IC03MzcgMTQ5IC0xMzIyIDIwOSAtMjAzMyAyMTAgLTIyOCAwXG4tMjI2IDAgLTM0NyA4NSAtMTg3IDEzMSAtMTA0NSA2MDcgLTE0NzEgODE1IC0zODMgMTg3IC03ODggMjgxIC0xNDM5IDMzMlxuLTIwOCAxNyAtMTEwNiAxNiAtMTQwMCAwIC0xMjEgLTcgLTMxNCAtMTkgLTQzMCAtMjcgLTMwMiAtMjIgLTI4NiAtMjIgLTM0MVxuMTAgLTE0MCA4MSAtMTg3IDk0IC0yNjkgNzF6IG0xODg1IC0zMzMgYzYgLTM3IDM4IC0yMzggNzEgLTQ0NiAzMiAtMjA5IDY2XG4tNDIyIDc1IC00NzQgOSAtNTIgMTUgLTk2IDEzIC05NyAtMTEgLTkgLTE2OTkgMjkgLTE5NTEgNDQgLTIwNiAxMyAtNDE3IDM2XG4tNDg1IDU0IC05OCAyNiAtMTk4IDExOSAtMjQ5IDIzMSAtMzUgNzUgLTM2IDE3MiAtNSAyNTUgMTcgNDUgMzAgNjEgNjggODYgODNcbjU0IDEzNSA4MCAyNTMgMTI3IDM0MSAxMzYgODU4IDIzMCAxNDYwIDI2NyAyNjkgMTYgMjcwIDE2IDUxMSAxOCBsMjI3IDIgMTJcbi02N3ogbTYzMCA0NyBjMjY0IC0xOCA3NzcgLTExMCAxMDI5IC0xODYgMTg2IC01NiA0NDUgLTE4OCA3NTYgLTM4NyAyMTEgLTEzNFxuMjc0IC0xODEgMjUwIC0xODUgLTc1IC0xMiAtMTMzIC01MCAtMTYyIC0xMDYgLTE5IC0zNSAtMjEgLTEzNiAtNCAtMTc5IGwxMVxuLTI3IC05MDcgMiAtOTA2IDMgLTU5IDE2MCBjLTExMCAzMDIgLTI5OCA4NzggLTI5OCA5MTYgMCA2IDk1IDIgMjkwIC0xMXpcIi8+XG48cGF0aCBkPVwiTTI2MzMgMzEyNSBjLTIyMyAtNDAgLTQxMCAtMTQxIC01NjggLTMwNiAtMTMyIC0xMzggLTIxMyAtMjgzIC0yNjJcbi00NjcgLTIyIC04MyAtMjYgLTExOSAtMjYgLTI0NyAtMSAtMTY5IDEwIC0yMzYgNjUgLTM4MiA4NyAtMjMwIDI3MSAtNDM2IDQ5M1xuLTU1MSA4NSAtNDQgMTc4IC03OCAyNzEgLTk4IDEwNyAtMjMgMzEyIC0yMyA0MTkgMSAzOTIgODQgNjk5IDM3NSA4MDIgNzYxIDIzXG44NiAyNiAxMjAgMjcgMjU0IDEgMTU4IC01IDE5OSAtNDYgMzMwIC05OCAzMTAgLTM1NSA1NjcgLTY2OCA2NjkgLTE1MCA1MFxuLTM1NCA2NCAtNTA3IDM2eiBtMzUwIC0zMDEgYzI0OSAtNTYgNDU3IC0yNDcgNTQzIC00OTkgMjUgLTcyIDI4IC05NSAyOCAtMjIwXG4xIC0xNTMgLTE1IC0yMjggLTc0IC0zNDUgLTk0IC0xODYgLTI4MyAtMzM3IC00ODUgLTM4NiAtOTYgLTI0IC0yNjggLTI0IC0zNjBcbjAgLTMyMCA4NCAtNTQ0IDM1NSAtNTYyIDY4MSAtMjAgMzU5IDIwOSA2NzMgNTU4IDc2NSA5NCAyNCAyNTMgMjYgMzUyIDR6XCIvPlxuPHBhdGggZD1cIk0yNjAwIDI2OTcgYy0zNiAtMTMgLTg1IC0zNiAtMTA5IC01MSBsLTQ0IC0yOCAxMTYgLTExNSBjODEgLTgyIDEyMFxuLTExNCAxMzEgLTExMCAxNCA2IDE2IDI5IDE2IDE2NyAwIDE4NiA2IDE3OCAtMTEwIDEzN3pcIi8+XG48cGF0aCBkPVwiTTI5MjAgMjU2MSBjMCAtMTM5IDIgLTE2MiAxNiAtMTY4IDExIC00IDUwIDI4IDEzMCAxMDggbDExNSAxMTQgLTI4XG4yMiBjLTM0IDI4IC0xMzggNzAgLTE5MyA3OSBsLTQwIDcgMCAtMTYyelwiLz5cbjxwYXRoIGQ9XCJNMjI4MiAyNDQ4IGMtMjggLTM2IC05MiAtMTkxIC05MiAtMjI1IDAgLTEwIDM0IC0xMyAxNjUgLTEzIDE1MSAwXG4xNjUgMSAxNjUgMTggMCAxNSAtMjA2IDIzMiAtMjIxIDIzMiAtNCAwIC0xMSAtNiAtMTcgLTEyelwiLz5cbjxwYXRoIGQ9XCJNMzIyMiAyMzUxIGMtNjIgLTU5IC0xMTIgLTExNSAtMTEyIC0xMjQgMCAtMTUgMTcgLTE3IDE2NSAtMTcgMTMxIDBcbjE2NSAzIDE2NSAxMyAwIDQwIC02OSAyMDUgLTk1IDIyNyAtNyA2IC00OCAtMjcgLTEyMyAtOTl6XCIvPlxuPHBhdGggZD1cIk0yNzgxIDIzMzIgYy0xMiAtMjIgMTEgLTYyIDM0IC02MiA4IDAgMjEgMTAgMjkgMjIgMjAgMjggNCA1OCAtMjkgNTggXG4tMTMgMCAtMjkgLTggLTM0IC0xOHpcIi8+XG48cGF0aCBkPVwiTTI3NDkgMjE2MSBjLTMyIC0zMyAtMzcgLTY3IC0xNCAtMTEwIDI5IC01NyAxMDQgLTY0IDE1MSAtMTQgNTMgNTcgOSBcbjE1MyAtNzEgMTUzIC0yNyAwIC00NCAtOCAtNjYgLTI5elwiLz5cbjxwYXRoIGQ9XCJNMjU3MCAyMTI1IGMtMjYgLTMyIDEzIC04MSA0OCAtNTkgMjQgMTYgMjcgNDUgNiA2MSAtMjMgMTcgLTM5IDE2IC01NCAtMnpcIi8+XG48cGF0aCBkPVwiTTMwMDYgMjEyNCBjLTIwIC0xOSAtMjAgLTM4IC0yIC01NCAyMyAtMTkgNjEgLTggNjQgMTggNyA0NCAtMzIgNjcgLTYyIDM2elwiLz5cbjxwYXRoIGQ9XCJNMjE5MCAxOTc1IGMwIC0yOSA0MSAtMTQwIDcyIC0xOTQgbDMxIC01MyAxMTcgMTE3IGM3MSA3MSAxMTYgMTIzIDExMyBcbjEzMSAtNCAxMSAtNDAgMTQgLTE2OSAxNCAtMTQxIDAgLTE2NCAtMiAtMTY0IC0xNXpcIi8+XG48cGF0aCBkPVwiTTMxMTAgMTk3MiBjMCAtOSA1MSAtNjggMTE0IC0xMzEgbDExNCAtMTE0IDMxIDU0IGMzMCA1MSA3MSAxNjUgNzEgMTk1IFxuMCAxMSAtMzEgMTQgLTE2NSAxNCAtMTUxIDAgLTE2NSAtMSAtMTY1IC0xOHpcIi8+XG48cGF0aCBkPVwiTTI3ODAgMTkwMSBjLTcgLTE1IC01IC0yNCA4IC00MSAzMiAtNDAgODUgLTQgNjIgNDEgLTE0IDI1IC01NiAyNSAtNzAgMHpcIi8+XG48cGF0aCBkPVwiTTI1NjIgMTY5NyBjLTYxIC02MiAtMTEyIC0xMTUgLTExMiAtMTE5IDAgLTE4IDIwOCAtMTA4IDI0OSAtMTA4IDdcbjAgMTEgNTQgMTEgMTY0IDAgMTQwIC0yIDE2NSAtMTYgMTcwIC05IDMgLTE2IDYgLTE3IDYgLTEgMCAtNTMgLTUxIC0xMTUgLTExM3pcIi8+XG48cGF0aCBkPVwiTTI5MzMgMTgwMyBjLTE1IC02IC0xOSAtMzMzIC00IC0zMzMgNDYgMCAyNTEgODggMjUxIDEwOCAwIDkgLTIyMyAyMzIgXG4tMjMwIDIzMSAtMyAwIC0xMSAtMyAtMTcgLTZ6XCIvPlxuPHBhdGggZD1cIk0xMDcwMCAzMTE5IGMtMzkwIC04NCAtNjk2IC0zNzYgLTc5NyAtNzU5IC0zMSAtMTE3IC00MSAtMjkyIC0yNCAtNDExIFxuMzMgLTIyNyAxNTAgLTQ1MyAzMTggLTYwOSAyNjcgLTI1MCA2NDMgLTM0NCA5OTMgLTI0OSAxMTcgMzIgMjgzIDExOCAzODAgMTk2IFxuNDg3IDM5NiA1MTggMTEyOCA2NyAxNTYwIC05NyA5MyAtMTY2IDE0MCAtMjkwIDE5OCAtMTM3IDY0IC0yMzUgODYgLTQwNyA5MSAtMTIwIFxuMyAtMTYyIDAgLTI0MCAtMTd6IG00NDUgLTMxMyBjMjM4IC04MSA0MDkgLTI1OCA0ODYgLTUwNiAzMCAtOTYgMzMgLTI4OSA1IC0zODggXG4tMTEwIC00MDAgLTUxMyAtNjM3IC05MTEgLTUzNiAtMTQ5IDM4IC0zMTMgMTQ3IC00MDIgMjY3IC0xNzYgMjM4IC0yMDMgNTMzIC03MSBcbjc5NyAzNCA2OSA2MCAxMDMgMTM4IDE4MCA3NyA3OCAxMTEgMTA0IDE4MSAxMzkgMTI5IDY1IDIwNyA4MSAzNjQgNzcgMTA5IC0zIDE0MyAtNyAyMTAgLTMwelwiLz5cbjxwYXRoIGQ9XCJNMTA3MDMgMjcwMCBjLTU0IC0xOSAtMTUzIC03MSAtMTUzIC04MCAwIC0zIDUxIC01NyAxMTQgLTExOSA4MCAtODAgXG4xMTkgLTExMiAxMzAgLTEwOCAxNCA1IDE2IDI5IDE2IDE2NyBsMCAxNjAgLTI3IC0xIGMtMTYgMCAtNTIgLTkgLTgwIC0xOXpcIi8+XG48cGF0aCBkPVwiTTExMDIwIDI1NjEgYzAgLTEzOSAyIC0xNjIgMTYgLTE2OCAyMiAtOCAyNDcgMjE2IDIzNCAyMzIgLTE3IDIwIC0xNjMgXG44NCAtMjA3IDkxIGwtNDMgNyAwIC0xNjJ6XCIvPlxuPHBhdGggZD1cIk0xMDM2NiAyNDI0IGMtMjkgLTQ0IC03NiAtMTY1IC03NiAtMTk0IDAgLTE5IDcgLTIwIDE2NSAtMjAgMTI2IDAgMTY1IFxuMyAxNjUgMTMgMCA3IC01MSA2MyAtMTE0IDEyNiBsLTExNCAxMTQgLTI2IC0zOXpcIi8+XG48cGF0aCBkPVwiTTExMzEzIDIzNDggYy02MSAtNjIgLTEwOSAtMTE5IC0xMDYgLTEyNSA2IC0xNSAzMzMgLTE5IDMzMyAtNCAwIDQ1IC04OCBcbjI0MSAtMTA4IDI0MSAtNCAwIC01NyAtNTEgLTExOSAtMTEyelwiLz5cbjxwYXRoIGQ9XCJNMTA4ODIgMjMzOCBjLTE3IC0xNyAtMTUgLTMyIDcgLTUyIDE2IC0xNCAyMyAtMTUgNDEgLTYgMzEgMTcgMjQgNjQgLTEwIFxuNjggLTE0IDIgLTMxIC0zIC0zOCAtMTB6XCIvPlxuPHBhdGggZD1cIk0xMDg0NiAyMTU5IGMtNjggLTgxIDE3IC0xOTQgMTEwIC0xNDQgODkgNDggNTYgMTc1IC00NiAxNzUgLTMwIDAgLTQ0IFxuLTYgLTY0IC0zMXpcIi8+XG48cGF0aCBkPVwiTTEwNjcwIDIxMjYgYy0xOSAtMjMgLTggLTYxIDE4IC02NCA0NCAtNyA2NyAzMiAzNiA2MiAtMTkgMjAgLTM4IDIwIC01NCAyelwiLz5cbjxwYXRoIGQ9XCJNMTExMDYgMjEyNyBjLTIxIC0xNiAtMTggLTQ1IDcgLTYxIDM3IC0yMyA3NyAzNSA0MSA2MSAtMTAgNyAtMjEgMTMgLTI0IFxuMTMgLTMgMCAtMTQgLTYgLTI0IC0xM3pcIi8+XG48cGF0aCBkPVwiTTEwMjkwIDE5NzAgYzAgLTI5IDQzIC0xNDEgNzQgLTE5NSBsMjggLTQ4IDExNiAxMTYgYzgxIDgxIDExMyAxMjAgMTA5IFxuMTMxIC02IDE0IC0yOSAxNiAtMTY3IDE2IC0xNTIgMCAtMTYwIC0xIC0xNjAgLTIwelwiLz5cbjxwYXRoIGQ9XCJNMTEyMDcgMTk3OCBjLTMgLTcgNDcgLTY2IDExMSAtMTMwIGwxMTYgLTExOCAyNyA0MyBjMjcgNDQgNzkgMTc3IDc5IDIwMyBcbjAgMTIgLTI4IDE0IC0xNjQgMTQgLTEyMiAwIC0xNjYgLTMgLTE2OSAtMTJ6XCIvPlxuPHBhdGggZD1cIk0xMDg4MSAxOTAxIGMtMTQgLTI1IC01IC00OCAyMCAtNTYgMjcgLTkgNTEgMTMgNDcgNDQgLTQgMzQgLTUxIDQzIC02NyAxMnpcIi8+IFxuPHBhdGggZD1cIk0xMDY2MiAxNjk3IGMtNjEgLTYyIC0xMTIgLTExNSAtMTEyIC0xMTkgMCAtMjAgMjAxIC0xMDggMjQ3IC0xMDggMTAgMCAxMyBcbjM0IDEzIDE2NCAwIDE0MCAtMiAxNjUgLTE2IDE3MCAtOSAzIC0xNiA2IC0xNyA2IC0xIDAgLTUzIC01MSAtMTE1IC0xMTN6XCIvPiBcbjxwYXRoIGQ9XCJNMTEwMzMgMTgwMyBjLTEwIC0zIC0xMyAtNDcgLTEzIC0xNjkgMCAtOTAgNCAtMTY0IDggLTE2NCAzNiAwIDE4NiA2MSAyMzkgXG45OCAxNiAxMCAtMjE2IDI0MiAtMjM0IDIzNXpcIi8+IDwvZz5cbjwvc3ZnPmA7XG5leHBvcnQgZGVmYXVsdCBjYXJJbWFnZTtcbiIsImltcG9ydCBjYXJJbWFnZSBmcm9tICcuLi9oZWxwZXJzL2Nhci1zdmcnO1xuaW1wb3J0IHsgc3RvcmUgfSBmcm9tICcuLi9oZWxwZXJzL3N0b3JlJztcbmV4cG9ydCBjb25zdCByZW5kZXJHYXJhZ2VCbG9jayA9ICgpID0+IGBcbjxkaXYgY2xhc3M9XCJnYXJhZ2UtaGVhZGluZ1wiPlxuICA8ZGl2PkNhcnMgaW4gZ2FyYWdlOiAke3N0b3JlLmNhcnNDb3VudH08L2Rpdj5cbiAgPGRpdj5QYWdlIOKEliAke3N0b3JlLmNhcnNQYWdlfTwvZGl2PlxuPC9kaXY+XG4gICR7c3RvcmUuY2Fyc1xuICAgIC5tYXAoKGNhcikgPT4gYFxuPGRpdiBjbGFzcz1cImNhci1jb250YWluZXJcIiBpZD1cImNhci1yb2FkLSR7Y2FyLmlkfVwiPlxuICA8ZGl2IGNsYXNzPVwiY29udHJvbGwtYnV0dG9uc1wiPlxuICAgIDxidXR0b24gY2xhc3M9XCJzZWxlY3QtYnRuXCIgaWQ9XCJzZWxlY3QtY2FyLSR7Y2FyLmlkfVwiPlNlbGVjdDwvYnV0dG9uPlxuICAgIDxidXR0b24gY2xhc3M9XCJyZW1vdmUtYnRuXCIgaWQ9XCJyZW1vdmUtY2FyLSR7Y2FyLmlkfVwiPlJlbW92ZTwvYnV0dG9uPlxuICAgIDxzcGFuIGNsYXNzPVwiY2FyLW5hbWVcIj4ke2Nhci5uYW1lfTwvc3Bhbj5cbiAgICA8YnV0dG9uIGNsYXNzPVwic3RhcnQtZW5naW5lLWJ0blwiIGlkPVwic3RhcnQtZW5naW5lLWNhci0ke2Nhci5pZH1cIj5TdGFydDwvYnV0dG9uPlxuICAgIDxidXR0b24gY2xhc3M9XCJzdG9wLWVuZ2luZS1idG5cIiBpZD1cInN0b3AtZW5naW5lLWNhci0ke2Nhci5pZH1cIiBkaXNhYmxlZD5TdG9wPC9idXR0b24+XG4gIDwvZGl2PlxuXG4gIDxkaXYgY2xhc3M9XCJyb2FkXCI+XG4gICAgPGRpdiBjbGFzcz1cImNhclwiIGlkPVwiY2FyLSR7Y2FyLmlkfVwiPiR7Y2FySW1hZ2UoY2FyLmNvbG9yKX08L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwiZmxhZ1wiIGlkPVwiZmxhZy0ke2Nhci5pZH1cIj4mIzEyNzkzNzs8L2Rpdj5cbiAgPC9kaXY+XG4gIDxkaXYgaWQ9XCJlbmdpbmUtYnJva2UtJHtjYXIuaWR9XCIgY2xhc3MgPSBcIm1lc3NhZ2VcIiBkaXNwbGF5PVwibm9uZVwiPjwvZGl2PlxuPC9kaXY+YClcbiAgICAuam9pbignJyl9XG48cCBjbGFzcz1cIndpbm5lci1tZXNhZ2VcIiBpZD1cIndpbm5lci1tZXNhZ2VcIj48L3A+ICBcbmA7XG4iLCJpbXBvcnQgY2FySW1hZ2UgZnJvbSAnLi4vaGVscGVycy9jYXItc3ZnJztcbmltcG9ydCB7IHN0b3JlIH0gZnJvbSAnLi4vaGVscGVycy9zdG9yZSc7XG5leHBvcnQgY29uc3QgcmVuZGVyV2lubmVyc0Jsb2NrID0gKCkgPT4gYFxuPGRpdiBjbGFzcz1cIndpbm5lcnMtaGVhZGluZ1wiPlxuPGRpdj5XaW5uZXJzOiAke3N0b3JlLndpbm5lcnNDb3VudH08L2Rpdj5cbjxkaXY+UGFnZSDihJYgJHtzdG9yZS53aW5uZXJzUGFnZX08L2Rpdj5cbjwvZGl2PlxuICA8dGFibGUgY2VsbHNwYWNpbmcgPVwiM1wiIGJvcmRlcj1cIjBcIiBjZWxscGFkZGluZz1cIjNcIiA+XG4gICAgPHRoZWFkPlxuICAgICAgPHRoPuKEljwvdGg+XG4gICAgICA8dGg+Q2FyPC90aD5cbiAgICAgIDx0aD5OYW1lPC90aD5cbiAgICAgIDx0aCBjbGFzcz1cInNvcnQtYnktYnRuXCIgaWQ9XCJzb3J0LWJ5LXdpbnNcIj5XaW5zPC90aD5cbiAgICAgIDx0aCBjbGFzcz1cInNvcnQtYnktYnRuXCIgaWQ9XCJzb3J0LWJ5LXRpbWVcIj5CZXN0IHRpbWUoc2Vjb25kcyk8L3RoPlxuICAgIDwvdGhlYWQ+XG4gICAgPHRib2R5PlxuICAgICR7c3RvcmUud2lubmVyc1xuICAgIC5tYXAoKHdpbm5lciwgaW5kZXgpID0+IGBcbiAgICAgICAgPHRyPlxuICAgICAgICAgIDx0ZD4ke2luZGV4ICsgMX08L3RkPlxuICAgICAgICAgIDx0ZD4ke2NhckltYWdlKHdpbm5lci5jYXIuY29sb3IpfTwvdGQ+XG4gICAgICAgICAgPHRkPiR7d2lubmVyLmNhci5uYW1lfTwvdGQ+XG4gICAgICAgICAgPHRkPiR7d2lubmVyLndpbnN9PC90ZD5cbiAgICAgICAgICA8dGQ+JHt3aW5uZXIudGltZX08L3RkPlxuICAgICAgICA8L3RyPlxuICAgICAgICBgKVxuICAgIC5qb2luKCcgJyl9XG4gICAgPC90Ym9keT5cbiAgPC90YWJsZT5gO1xuIiwidmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5pbXBvcnQgeyBnZXRDYXJzLCBnZXRXaW5uZXJzIH0gZnJvbSAnLi9hcGknO1xuaW1wb3J0IHsgc3RvcmUgfSBmcm9tICcuL2hlbHBlcnMvc3RvcmUnO1xuZXhwb3J0IGNvbnN0IHVwZGF0ZUNhcnMgPSAoKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB7IGl0ZW1zLCBjb3VudCB9ID0geWllbGQgZ2V0Q2FycyhzdG9yZS5jYXJzUGFnZSk7XG4gICAgICAgIHN0b3JlLmNhcnMgPSBpdGVtcztcbiAgICAgICAgc3RvcmUuY2Fyc0NvdW50ID0gY291bnQ7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyBjYXJzOicsIGVycm9yKTtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxufSk7XG5leHBvcnQgY29uc3QgdXBkYXRlV2lubmVycyA9ICgpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHsgaXRlbXMsIGNvdW50IH0gPSB5aWVsZCBnZXRXaW5uZXJzKHN0b3JlLndpbm5lcnNQYWdlLCBzdG9yZS5zb3J0QnksIHN0b3JlLnNvcnRPcmRlcik7XG4gICAgICAgIHN0b3JlLndpbm5lcnMgPSBpdGVtcztcbiAgICAgICAgc3RvcmUud2lubmVyc0NvdW50ID0gTnVtYmVyKGNvdW50KTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbn0pO1xuZXhwb3J0IGNvbnN0IHVwZGF0ZVN0YXRlID0gKCkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgeWllbGQgdXBkYXRlQ2FycygpO1xuICAgICAgICB5aWVsZCB1cGRhdGVXaW5uZXJzKCk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG59KTtcbiIsInZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuaW1wb3J0IHsgZGVsZXRlQ2FyLCBkZWxldGVXaW5uZXIsIGdldENhciwgZ2V0V2lubmVyIH0gZnJvbSAnLi4vYXBpJztcbmltcG9ydCB7IHN0YXJ0RHJpdmluZyB9IGZyb20gJy4uL2hlbHBlcnMvc3RhcnQtZHJpdmluZyc7XG5pbXBvcnQgeyBzdG9wRHJpdmluZyB9IGZyb20gJy4uL2hlbHBlcnMvc3RvcC1kcml2aW5nJztcbmltcG9ydCB7IHN0b3JlIH0gZnJvbSAnLi4vaGVscGVycy9zdG9yZSc7XG5pbXBvcnQgeyByZW5kZXJHYXJhZ2VCbG9jayB9IGZyb20gJy4uL3JlbmRlci1mdW5jdGlvbnMvZ2FyYWdlLWJsb2NrJztcbmltcG9ydCB7IHJlbmRlcldpbm5lcnNCbG9jayB9IGZyb20gJy4uL3JlbmRlci1mdW5jdGlvbnMvd2lubmVycy1ibG9jayc7XG5pbXBvcnQgeyB1cGRhdGVDYXJzLCB1cGRhdGVXaW5uZXJzIH0gZnJvbSAnLi4vdXBkYXRlLXN0YXRlJztcbmV4cG9ydCBjb25zdCBjYXJDb250cm9scyA9ICgpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgIGNvbnN0IHVwZGF0ZU5hbWVJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1cGRhdGUtbmFtZScpO1xuICAgIGNvbnN0IHVwZGF0ZUNvbG9ySW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXBkYXRlLWNvbG9yJyk7XG4gICAgY29uc3QgdXBkYXRlQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VwZGF0ZS1idG4nKTtcbiAgICBjb25zdCBnYXJhZ2VCbG9jayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYXJhZ2UnKTtcbiAgICBjb25zdCB3aW5uZXJzQmxvY2sgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2lubmVycycpO1xuICAgIGdhcmFnZUJsb2NrLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldDtcbiAgICAgICAgaWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdC1idG4nKSkge1xuICAgICAgICAgICAgY29uc3QgaWQgPSBOdW1iZXIodGFyZ2V0LmlkLnNwbGl0KCdzZWxlY3QtY2FyLScpWzFdKTtcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkQ2FyID0geWllbGQgZ2V0Q2FyKGlkKTtcbiAgICAgICAgICAgIHN0b3JlLnNlbGVjdGVkQ2FySUQgPSBzZWxlY3RlZENhci5pZDtcbiAgICAgICAgICAgIHVwZGF0ZU5hbWVJbnB1dC52YWx1ZSA9IHNlbGVjdGVkQ2FyLm5hbWU7XG4gICAgICAgICAgICB1cGRhdGVDb2xvcklucHV0LnZhbHVlID0gc2VsZWN0ZWRDYXIuY29sb3I7XG4gICAgICAgICAgICB1cGRhdGVOYW1lSW5wdXQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHVwZGF0ZUNvbG9ySW5wdXQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHVwZGF0ZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdyZW1vdmUtYnRuJykpIHtcbiAgICAgICAgICAgIGNvbnN0IGlkID0gTnVtYmVyKHRhcmdldC5pZC5zcGxpdCgncmVtb3ZlLWNhci0nKVsxXSk7XG4gICAgICAgICAgICB5aWVsZCBkZWxldGVDYXIoaWQpO1xuICAgICAgICAgICAgY29uc3Qgd2lubmVyID0geWllbGQgZ2V0V2lubmVyKGlkKTtcbiAgICAgICAgICAgIGlmICh3aW5uZXIpIHtcbiAgICAgICAgICAgICAgICB5aWVsZCBkZWxldGVXaW5uZXIoaWQpO1xuICAgICAgICAgICAgICAgIHlpZWxkIHVwZGF0ZVdpbm5lcnMoKTtcbiAgICAgICAgICAgICAgICB3aW5uZXJzQmxvY2suaW5uZXJIVE1MID0gcmVuZGVyV2lubmVyc0Jsb2NrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB5aWVsZCB1cGRhdGVDYXJzKCk7XG4gICAgICAgICAgICBnYXJhZ2VCbG9jay5pbm5lckhUTUwgPSByZW5kZXJHYXJhZ2VCbG9jaygpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzdGFydC1lbmdpbmUtYnRuJykpIHtcbiAgICAgICAgICAgIGNvbnN0IGlkID0gTnVtYmVyKHRhcmdldC5pZC5zcGxpdCgnc3RhcnQtZW5naW5lLWNhci0nKVsxXSk7XG4gICAgICAgICAgICBzdGFydERyaXZpbmcoaWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzdG9wLWVuZ2luZS1idG4nKSkge1xuICAgICAgICAgICAgY29uc3QgaWQgPSBOdW1iZXIodGFyZ2V0LmlkLnNwbGl0KCdzdG9wLWVuZ2luZS1jYXItJylbMV0pO1xuICAgICAgICAgICAgc3RvcERyaXZpbmcoaWQpO1xuICAgICAgICB9XG4gICAgfSkpO1xufSk7XG4iLCJjb25zdCBuYW1lcyA9IFtcbiAgICAnUG9yc2hlJyxcbiAgICAnVGVzbGEnLFxuICAgICdLaWEnLFxuICAgICdQZXVnZW90JyxcbiAgICAnSG9uZGEnLFxuICAgICdKYWd1YXInLFxuICAgICdNYXpkYScsXG4gICAgJ1ZvbHZvJyxcbiAgICAnTUlOSScsXG4gICAgJ1RveW90YScsXG4gICAgJ1NvbWVTdXBlckZhc3QnLFxuXTtcbmNvbnN0IG1vZGVscyA9IFtcbiAgICAnOTExJyxcbiAgICAnTW9kZWwgWScsXG4gICAgJ1NlbHRvcycsXG4gICAgJzIwNicsXG4gICAgJ0NSLVYnLFxuICAgICdGLVBBQ0UnLFxuICAgICdDWC01JyxcbiAgICAnWEM2MCcsXG4gICAgJzMtZG9vcicsXG4gICAgJ0Nvcm9sbGEnLFxuICAgICdTdXBlckNhcicsXG5dO1xuZXhwb3J0IGNvbnN0IGdlbmVyYXRlUmFuZG9tQ2FyTmFtZSA9ICgpID0+IHtcbiAgICBjb25zdCBuYW1lID0gbmFtZXNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbW9kZWxzLmxlbmd0aCldO1xuICAgIGNvbnN0IG1vZGVsID0gbW9kZWxzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG1vZGVscy5sZW5ndGgpXTtcbiAgICByZXR1cm4gYCR7bmFtZX0gJHttb2RlbH1gO1xufTtcbmV4cG9ydCBjb25zdCBnZW5lcmF0ZVJhbmRvbUNvbG9yID0gKCkgPT4ge1xuICAgIGNvbnN0IHN5bWJvbHMgPSAnMDEyMzQ1Njc4OUFCQ0RFRic7XG4gICAgbGV0IGNvbG9yID0gJyMnO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNjsgaSArPSAxKSB7XG4gICAgICAgIGNvbG9yICs9IHN5bWJvbHNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTYpXTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbG9yO1xufTtcbmV4cG9ydCBjb25zdCBnZW5lcmF0ZVJhbmRvbUNhcnNUZW1wbGF0ZXMgPSAoY291bnRDYXJzKSA9PiBuZXcgQXJyYXkoY291bnRDYXJzKS5maWxsKDApLm1hcCgoKSA9PiAoe1xuICAgIG5hbWU6IGdlbmVyYXRlUmFuZG9tQ2FyTmFtZSgpLFxuICAgIGNvbG9yOiBnZW5lcmF0ZVJhbmRvbUNvbG9yKCksXG59KSk7XG4iLCJ2YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbmltcG9ydCB7IGNyZWF0ZUNhciB9IGZyb20gJy4uL2FwaSc7XG5pbXBvcnQgeyBnZW5lcmF0ZVJhbmRvbUNhck5hbWUsIGdlbmVyYXRlUmFuZG9tQ29sb3IgfSBmcm9tICcuLi9oZWxwZXJzL2dlbmVyYXRvcnMnO1xuaW1wb3J0IHsgcmVuZGVyR2FyYWdlQmxvY2sgfSBmcm9tICcuLi9yZW5kZXItZnVuY3Rpb25zL2dhcmFnZS1ibG9jayc7XG5pbXBvcnQgeyB1cGRhdGVDYXJzIH0gZnJvbSAnLi4vdXBkYXRlLXN0YXRlJztcbmltcG9ydCB7IGJ1dHRvblRvZ2dsZXIgfSBmcm9tICcuL2J1dHRvbnMtdG9nZ2xlcic7XG5leHBvcnQgY29uc3QgY3JldGVOZXdDYXIgPSAoKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICBjb25zdCBjcmVhdGVDYXJCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3JlYXRlLWJ0bicpO1xuICAgIGNyZWF0ZUNhckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCBuYW1lSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3JlYXRlLW5hbWUnKTtcbiAgICAgICAgY29uc3QgY29sb3JJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjcmVhdGUtY29sb3InKTtcbiAgICAgICAgY29uc3QgZ2FyYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dhcmFnZScpO1xuICAgICAgICBjb25zdCBjYXIgPSB7XG4gICAgICAgICAgICBuYW1lOiBuYW1lSW5wdXQudmFsdWUsXG4gICAgICAgICAgICBjb2xvcjogY29sb3JJbnB1dC52YWx1ZSxcbiAgICAgICAgfTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHlpZWxkIGNyZWF0ZUNhcihjYXIpO1xuICAgICAgICAgICAgeWllbGQgdXBkYXRlQ2FycygpO1xuICAgICAgICAgICAgZ2FyYWdlLmlubmVySFRNTCA9IHJlbmRlckdhcmFnZUJsb2NrKCk7XG4gICAgICAgICAgICBuYW1lSW5wdXQudmFsdWUgPSBnZW5lcmF0ZVJhbmRvbUNhck5hbWUoKTtcbiAgICAgICAgICAgIGNvbG9ySW5wdXQudmFsdWUgPSBnZW5lcmF0ZVJhbmRvbUNvbG9yKCk7XG4gICAgICAgICAgICBidXR0b25Ub2dnbGVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH0pKTtcbn0pO1xuIiwidmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5pbXBvcnQgeyBjcmVhdGVDYXIgfSBmcm9tICcuLi9hcGknO1xuaW1wb3J0IHsgZ2VuZXJhdGVSYW5kb21DYXJzVGVtcGxhdGVzIH0gZnJvbSAnLi4vaGVscGVycy9nZW5lcmF0b3JzJztcbmltcG9ydCB7IHJlbmRlckdhcmFnZUJsb2NrIH0gZnJvbSAnLi4vcmVuZGVyLWZ1bmN0aW9ucy9nYXJhZ2UtYmxvY2snO1xuaW1wb3J0IHsgdXBkYXRlQ2FycyB9IGZyb20gJy4uL3VwZGF0ZS1zdGF0ZSc7XG5pbXBvcnQgeyBidXR0b25Ub2dnbGVyIH0gZnJvbSAnLi9idXR0b25zLXRvZ2dsZXInO1xuZXhwb3J0IGNvbnN0IGdlbmVyYXRlUGFja09mQ2FycyA9ICgpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgIGNvbnN0IGdlbmVyYXRlQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dlbmVyYXRvcicpO1xuICAgIGNvbnN0IGdhcmFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYXJhZ2UnKTtcbiAgICBpZiAoZ2VuZXJhdGVCdXR0b24pIHtcbiAgICAgICAgZ2VuZXJhdGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIGdlbmVyYXRlQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGNvbnN0IGNvdW50T2ZDYXJzTmVlZGVkVG9HZW5lcmV0ZU9uQ2xpY2tBY29yZGluZ1RvUmVxdWlyZW1lbnRzID0gMTAwO1xuICAgICAgICAgICAgY29uc3QgY2FycyA9IGdlbmVyYXRlUmFuZG9tQ2Fyc1RlbXBsYXRlcyhjb3VudE9mQ2Fyc05lZWRlZFRvR2VuZXJldGVPbkNsaWNrQWNvcmRpbmdUb1JlcXVpcmVtZW50cyk7XG4gICAgICAgICAgICB5aWVsZCBQcm9taXNlLmFsbChjYXJzLm1hcCgoY2FyKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHsgcmV0dXJuIGNyZWF0ZUNhcihjYXIpOyB9KSkpO1xuICAgICAgICAgICAgeWllbGQgdXBkYXRlQ2FycygpO1xuICAgICAgICAgICAgaWYgKGdhcmFnZSkge1xuICAgICAgICAgICAgICAgIGdhcmFnZS5pbm5lckhUTUwgPSByZW5kZXJHYXJhZ2VCbG9jaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ2VuZXJhdGVCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGJ1dHRvblRvZ2dsZXIoKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbn0pO1xuIiwidmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5pbXBvcnQgeyBzdG9yZSB9IGZyb20gJy4uL2hlbHBlcnMvc3RvcmUnO1xuaW1wb3J0IHsgcmVuZGVyV2lubmVyc0Jsb2NrIH0gZnJvbSAnLi4vcmVuZGVyLWZ1bmN0aW9ucy93aW5uZXJzLWJsb2NrJztcbmltcG9ydCB7IHVwZGF0ZVdpbm5lcnMgfSBmcm9tICcuLi91cGRhdGUtc3RhdGUnO1xuZXhwb3J0IGNvbnN0IHRvZ2dsZUNhcnNTb3J0T3JkZXIgPSAoKSA9PiB7XG4gICAgc3RvcmUuc29ydE9yZGVyID0gc3RvcmUuc29ydE9yZGVyID09PSAnYXNjJyA/ICdkZXNjJyA6ICdhc2MnO1xufTtcbmV4cG9ydCBjb25zdCBzb3J0aW5nQ2FyZHNCdXR0b25zTGlzdGVuZXIgPSAoKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICBjb25zdCBzb3J0QnlXaW5zID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NvcnQtYnktd2lucycpO1xuICAgIGNvbnN0IHNvcnRCeVRpbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc29ydC1ieS10aW1lJyk7XG4gICAgY29uc3Qgd2lubmVycyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3aW5uZXJzJyk7XG4gICAgaWYgKHNvcnRCeVdpbnMpXG4gICAgICAgIHNvcnRCeVdpbnMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgICAgIHN0b3JlLnNvcnRCeSA9ICd3aW5zJztcbiAgICAgICAgICAgIHRvZ2dsZUNhcnNTb3J0T3JkZXIoKTtcbiAgICAgICAgICAgIHlpZWxkIHVwZGF0ZVdpbm5lcnMoKTtcbiAgICAgICAgICAgIGlmICh3aW5uZXJzKVxuICAgICAgICAgICAgICAgIHdpbm5lcnMuaW5uZXJIVE1MID0gcmVuZGVyV2lubmVyc0Jsb2NrKCk7XG4gICAgICAgICAgICB5aWVsZCBzb3J0aW5nQ2FyZHNCdXR0b25zTGlzdGVuZXIoKTtcbiAgICAgICAgfSkpO1xuICAgIGlmIChzb3J0QnlUaW1lKVxuICAgICAgICBzb3J0QnlUaW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgICAgICBzdG9yZS5zb3J0QnkgPSAndGltZSc7XG4gICAgICAgICAgICB0b2dnbGVDYXJzU29ydE9yZGVyKCk7XG4gICAgICAgICAgICB5aWVsZCB1cGRhdGVXaW5uZXJzKCk7XG4gICAgICAgICAgICBpZiAod2lubmVycylcbiAgICAgICAgICAgICAgICB3aW5uZXJzLmlubmVySFRNTCA9IHJlbmRlcldpbm5lcnNCbG9jaygpO1xuICAgICAgICAgICAgeWllbGQgc29ydGluZ0NhcmRzQnV0dG9uc0xpc3RlbmVyKCk7XG4gICAgICAgIH0pKTtcbn0pO1xuIiwidmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5pbXBvcnQgeyBzdG9yZSB9IGZyb20gJy4uL2hlbHBlcnMvc3RvcmUnO1xuaW1wb3J0IHsgcmVuZGVyR2FyYWdlQmxvY2sgfSBmcm9tICcuLi9yZW5kZXItZnVuY3Rpb25zL2dhcmFnZS1ibG9jayc7XG5pbXBvcnQgeyByZW5kZXJXaW5uZXJzQmxvY2sgfSBmcm9tICcuLi9yZW5kZXItZnVuY3Rpb25zL3dpbm5lcnMtYmxvY2snO1xuaW1wb3J0IHsgdXBkYXRlQ2FycywgdXBkYXRlV2lubmVycyB9IGZyb20gJy4uL3VwZGF0ZS1zdGF0ZSc7XG5pbXBvcnQgeyBidXR0b25Ub2dnbGVyIH0gZnJvbSAnLi9idXR0b25zLXRvZ2dsZXInO1xuaW1wb3J0IHsgc29ydGluZ0NhcmRzQnV0dG9uc0xpc3RlbmVyIH0gZnJvbSAnLi9zb3J0LXdpbm5lcnMnO1xuZXhwb3J0IGNvbnN0IHBhZ2luYXRpb25CdXR0b25zID0gKCkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgY29uc3QgcHJldkJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcmV2Jyk7XG4gICAgY29uc3QgbmV4dEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZXh0Jyk7XG4gICAgY29uc3QgZ2FyYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dhcmFnZScpO1xuICAgIGNvbnN0IHdpbm5lcnMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2lubmVycycpO1xuICAgIHByZXZCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgc3dpdGNoIChzdG9yZS52aWV3KSB7XG4gICAgICAgICAgICBjYXNlICdnYXJhZ2VQYWdlJzoge1xuICAgICAgICAgICAgICAgIHN0b3JlLmNhcnNQYWdlIC09IDE7XG4gICAgICAgICAgICAgICAgeWllbGQgdXBkYXRlQ2FycygpO1xuICAgICAgICAgICAgICAgIGlmIChnYXJhZ2UpXG4gICAgICAgICAgICAgICAgICAgIGdhcmFnZS5pbm5lckhUTUwgPSByZW5kZXJHYXJhZ2VCbG9jaygpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAnd2lubmVyc1BhZ2UnOiB7XG4gICAgICAgICAgICAgICAgc3RvcmUud2lubmVyc1BhZ2UgLT0gMTtcbiAgICAgICAgICAgICAgICB5aWVsZCB1cGRhdGVXaW5uZXJzKCk7XG4gICAgICAgICAgICAgICAgaWYgKHdpbm5lcnMpXG4gICAgICAgICAgICAgICAgICAgIHdpbm5lcnMuaW5uZXJIVE1MID0gcmVuZGVyV2lubmVyc0Jsb2NrKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCB2aWV3IHR5cGUgcmVjZWl2ZWQ6ICR7c3RvcmUudmlld31gKTtcbiAgICAgICAgfVxuICAgICAgICBidXR0b25Ub2dnbGVyKCk7XG4gICAgICAgIHlpZWxkIHNvcnRpbmdDYXJkc0J1dHRvbnNMaXN0ZW5lcigpO1xuICAgIH0pKTtcbiAgICBuZXh0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIHN3aXRjaCAoc3RvcmUudmlldykge1xuICAgICAgICAgICAgY2FzZSAnZ2FyYWdlUGFnZSc6IHtcbiAgICAgICAgICAgICAgICBzdG9yZS5jYXJzUGFnZSArPSAxO1xuICAgICAgICAgICAgICAgIHlpZWxkIHVwZGF0ZUNhcnMoKTtcbiAgICAgICAgICAgICAgICBpZiAoZ2FyYWdlKVxuICAgICAgICAgICAgICAgICAgICBnYXJhZ2UuaW5uZXJIVE1MID0gcmVuZGVyR2FyYWdlQmxvY2soKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ3dpbm5lcnNQYWdlJzoge1xuICAgICAgICAgICAgICAgIHN0b3JlLndpbm5lcnNQYWdlICs9IDE7XG4gICAgICAgICAgICAgICAgeWllbGQgdXBkYXRlV2lubmVycygpO1xuICAgICAgICAgICAgICAgIGlmICh3aW5uZXJzKVxuICAgICAgICAgICAgICAgICAgICB3aW5uZXJzLmlubmVySFRNTCA9IHJlbmRlcldpbm5lcnNCbG9jaygpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgdmlldyB0eXBlIHJlY2VpdmVkOiAke3N0b3JlLnZpZXd9YCk7XG4gICAgICAgIH1cbiAgICAgICAgYnV0dG9uVG9nZ2xlcigpO1xuICAgICAgICB5aWVsZCBzb3J0aW5nQ2FyZHNCdXR0b25zTGlzdGVuZXIoKTtcbiAgICB9KSk7XG59KTtcbiIsInZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuaW1wb3J0IHsgc3RvcmUgfSBmcm9tICcuL3N0b3JlJztcbmNvbnN0IGNhbGN1bGF0ZVJhY2VXaW5uZXIgPSAocHJvbWlzZXMsIGlkcykgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgY29uc3QgeyBzdWNjZXNzLCBpZCwgdGltZSB9ID0geWllbGQgUHJvbWlzZS5yYWNlKHByb21pc2VzKTtcbiAgICBpZiAoIXN1Y2Nlc3MpIHtcbiAgICAgICAgY29uc3QgZmFpbGVkSW5kZXggPSBpZHMuZmluZEluZGV4KChpbmRleCkgPT4gaW5kZXggPT09IGlkKTtcbiAgICAgICAgcHJvbWlzZXMuc3BsaWNlKGZhaWxlZEluZGV4LCAxKTtcbiAgICAgICAgaWRzLnNwbGljZShmYWlsZWRJbmRleCwgMSk7XG4gICAgICAgIGlmIChwcm9taXNlcy5sZW5ndGggPCAxKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHJldHVybiBjYWxjdWxhdGVSYWNlV2lubmVyKHByb21pc2VzLCBpZHMpO1xuICAgIH1cbiAgICBjb25zdCB3aW5uZXJDYXIgPSBzdG9yZS5jYXJzLmZpbmQoKGNhcikgPT4gY2FyLmlkID09PSBpZCk7XG4gICAgcmV0dXJuIHdpbm5lckNhciA/IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgd2lubmVyQ2FyKSwgeyB0aW1lOiArKHRpbWUgLyAxMDAwKS50b0ZpeGVkKDIpIH0pIDogbnVsbDtcbn0pO1xuZXhwb3J0IGNvbnN0IHN0YXJ0UmFjZSA9IChwcm9taXMpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgIGNvbnN0IHByb21pc2VzID0gc3RvcmUuY2Fycy5tYXAoKHsgaWQgfSkgPT4gcHJvbWlzKGlkKSk7XG4gICAgY29uc3Qgd2lubmVyID0geWllbGQgY2FsY3VsYXRlUmFjZVdpbm5lcihwcm9taXNlcywgc3RvcmUuY2Fycy5tYXAoKGNhcikgPT4gY2FyLmlkKSk7XG4gICAgcmV0dXJuIHdpbm5lcjtcbn0pO1xuIiwidmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5pbXBvcnQgeyBzYXZlV2lubmVycyB9IGZyb20gJy4uL2FwaSc7XG5pbXBvcnQgeyBzdGFydERyaXZpbmcgfSBmcm9tICcuLi9oZWxwZXJzL3N0YXJ0LWRyaXZpbmcnO1xuaW1wb3J0IHsgc3RhcnRSYWNlIH0gZnJvbSAnLi4vaGVscGVycy9zdGFydC1yYWNlJztcbmltcG9ydCB7IHJlbmRlcldpbm5lcnNCbG9jayB9IGZyb20gJy4uL3JlbmRlci1mdW5jdGlvbnMvd2lubmVycy1ibG9jayc7XG5pbXBvcnQgeyB1cGRhdGVXaW5uZXJzIH0gZnJvbSAnLi4vdXBkYXRlLXN0YXRlJztcbmltcG9ydCB7IHNvcnRpbmdDYXJkc0J1dHRvbnNMaXN0ZW5lciB9IGZyb20gJy4vc29ydC13aW5uZXJzJztcbmV4cG9ydCBjb25zdCBnb1JhY2VsaXN0ZW5lciA9ICgpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgIGNvbnN0IHdpbm5lcnNCbG9jayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3aW5uZXJzJyk7XG4gICAgY29uc3QgcmVzZXRCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzZXQnKTtcbiAgICByZXNldEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIGNvbnN0IHN0YXJ0UmFjZUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyYWNlJyk7XG4gICAgc3RhcnRSYWNlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIGNvbnN0IHdpbm5lck1lc3NhZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnd2lubmVyLW1lc2FnZScpO1xuICAgICAgICByZXNldEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIHN0YXJ0UmFjZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIGNvbnN0IHdpbm5lciA9IHlpZWxkIHN0YXJ0UmFjZShzdGFydERyaXZpbmcpO1xuICAgICAgICBpZiAoIXdpbm5lcikge1xuICAgICAgICAgICAgc3RhcnRSYWNlQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHdpbm5lck1lc3NhZ2UpIHtcbiAgICAgICAgICAgIHdpbm5lck1lc3NhZ2UuaW5uZXJIVE1MID0gYCR7d2lubmVyLm5hbWV9IHdlbnQgZmlyc3QgaW4gJHt3aW5uZXIudGltZX0gc2Vjb25kcyFgO1xuICAgICAgICAgICAgd2lubmVyTWVzc2FnZS5jbGFzc0xpc3QuYWRkKCdkaXNwbGF5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgeWllbGQgc2F2ZVdpbm5lcnMod2lubmVyKTtcbiAgICAgICAgeWllbGQgdXBkYXRlV2lubmVycygpO1xuICAgICAgICBpZiAod2lubmVyc0Jsb2NrKVxuICAgICAgICAgICAgd2lubmVyc0Jsb2NrLmlubmVySFRNTCA9IHJlbmRlcldpbm5lcnNCbG9jaygpO1xuICAgICAgICB5aWVsZCBzb3J0aW5nQ2FyZHNCdXR0b25zTGlzdGVuZXIoKTtcbiAgICAgICAgcmVzZXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgc3RhcnRSYWNlQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgfSkpO1xufSk7XG4iLCJ2YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbmltcG9ydCB7IHN0b3BEcml2aW5nIH0gZnJvbSAnLi4vaGVscGVycy9zdG9wLWRyaXZpbmcnO1xuaW1wb3J0IHsgc3RvcmUgfSBmcm9tICcuLi9oZWxwZXJzL3N0b3JlJztcbmNvbnN0IHN0b3BBbmRSZXNldFJhY2UgPSAoKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICBjb25zdCByZXNldEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXNldCcpO1xuICAgIHJlc2V0QnV0dG9uID09PSBudWxsIHx8IHJlc2V0QnV0dG9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXNldEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICBjb25zdCBzdGFydFJhY2VCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmFjZScpO1xuICAgICAgICBjb25zdCB3aW5uZXJNZXNzYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dpbm5lci1tZXNhZ2UnKTtcbiAgICAgICAgd2lubmVyTWVzc2FnZSA9PT0gbnVsbCB8fCB3aW5uZXJNZXNzYWdlID09PSB2b2lkIDAgPyB2b2lkIDAgOiB3aW5uZXJNZXNzYWdlLmNsYXNzTGlzdC5yZW1vdmUoJ2Rpc3BsYXknKTtcbiAgICAgICAgcmVzZXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICBzdGFydFJhY2VCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICBzdG9yZS5jYXJzLmZvckVhY2goKHsgaWQgfSkgPT4ge1xuICAgICAgICAgICAgc3RvcERyaXZpbmcoaWQpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmVzZXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgc3RhcnRSYWNlQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgfSkpO1xufSk7XG5leHBvcnQgZGVmYXVsdCBzdG9wQW5kUmVzZXRSYWNlO1xuIiwidmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5pbXBvcnQgeyB1cGRhdGVDYXIgfSBmcm9tICcuLi9hcGknO1xuaW1wb3J0IHsgc3RvcmUgfSBmcm9tICcuLi9oZWxwZXJzL3N0b3JlJztcbmltcG9ydCB7IHJlbmRlckdhcmFnZUJsb2NrIH0gZnJvbSAnLi4vcmVuZGVyLWZ1bmN0aW9ucy9nYXJhZ2UtYmxvY2snO1xuaW1wb3J0IHsgcmVuZGVyV2lubmVyc0Jsb2NrIH0gZnJvbSAnLi4vcmVuZGVyLWZ1bmN0aW9ucy93aW5uZXJzLWJsb2NrJztcbmltcG9ydCB7IHVwZGF0ZUNhcnMsIHVwZGF0ZVdpbm5lcnMgfSBmcm9tICcuLi91cGRhdGUtc3RhdGUnO1xuZXhwb3J0IGNvbnN0IHVwZGF0ZVNlbGVjdGVkQ2FyID0gKCkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgY29uc3QgdXBkYXRlQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VwZGF0ZS1idG4nKTtcbiAgICB1cGRhdGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY29uc3QgbmFtZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VwZGF0ZS1uYW1lJyk7XG4gICAgICAgIGNvbnN0IGNvbG9ySW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXBkYXRlLWNvbG9yJyk7XG4gICAgICAgIGNvbnN0IGdhcmFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnYXJhZ2UnKTtcbiAgICAgICAgY29uc3Qgd2lubmVycyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3aW5uZXJzJyk7XG4gICAgICAgIGNvbnN0IGNhciA9IHtcbiAgICAgICAgICAgIG5hbWU6IG5hbWVJbnB1dC52YWx1ZSxcbiAgICAgICAgICAgIGNvbG9yOiBjb2xvcklucHV0LnZhbHVlLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoc3RvcmUuc2VsZWN0ZWRDYXJJRCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB5aWVsZCB1cGRhdGVDYXIoY2FyLCBzdG9yZS5zZWxlY3RlZENhcklEKTtcbiAgICAgICAgICAgICAgICB5aWVsZCB1cGRhdGVDYXJzKCk7XG4gICAgICAgICAgICAgICAgeWllbGQgdXBkYXRlV2lubmVycygpO1xuICAgICAgICAgICAgICAgIHdpbm5lcnMuaW5uZXJIVE1MID0gcmVuZGVyV2lubmVyc0Jsb2NrKCk7XG4gICAgICAgICAgICAgICAgZ2FyYWdlLmlubmVySFRNTCA9IHJlbmRlckdhcmFnZUJsb2NrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBuYW1lSW5wdXQuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICBuYW1lSW5wdXQudmFsdWUgPSAnJztcbiAgICAgICAgY29sb3JJbnB1dC5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIGNvbG9ySW5wdXQudmFsdWUgPSAnI2ZmZTA0Mic7XG4gICAgICAgIHVwZGF0ZUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIHN0b3JlLnNlbGVjdGVkQ2FySUQgPSBudWxsO1xuICAgIH0pKTtcbn0pO1xuIiwidmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5pbXBvcnQgeyBzdG9yZSB9IGZyb20gJy4uL2hlbHBlcnMvc3RvcmUnO1xuaW1wb3J0IHsgcmVuZGVyR2FyYWdlQmxvY2sgfSBmcm9tICcuLi9yZW5kZXItZnVuY3Rpb25zL2dhcmFnZS1ibG9jayc7XG5pbXBvcnQgeyByZW5kZXJXaW5uZXJzQmxvY2sgfSBmcm9tICcuLi9yZW5kZXItZnVuY3Rpb25zL3dpbm5lcnMtYmxvY2snO1xuaW1wb3J0IHsgYnV0dG9uVG9nZ2xlciB9IGZyb20gJy4vYnV0dG9ucy10b2dnbGVyJztcbmV4cG9ydCBjb25zdCB2aWV3QmxvY2tTZWxlY3RvciA9ICgpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgIGNvbnN0IHRvV2lubmVyc0J1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0by13aW5uZXJzJyk7XG4gICAgY29uc3QgdG9HYXJhZ2VCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG8tZ2FyYWdlJyk7XG4gICAgY29uc3QgZ2FyYWdlQmxvY2sgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2FyYWdlJyk7XG4gICAgY29uc3Qgd2lubmVyc0Jsb2NrID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dpbm5lcnMnKTtcbiAgICBjb25zdCBoaWRlUGFuZWxXcmFwcGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hpZGUtcGFuZWwtd3JhcHBlcicpO1xuICAgIHRvV2lubmVyc0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICB3aW5uZXJzQmxvY2suaW5uZXJIVE1MID0gcmVuZGVyV2lubmVyc0Jsb2NrKCk7XG4gICAgICAgIGdhcmFnZUJsb2NrLmlubmVySFRNTCA9ICcnO1xuICAgICAgICBoaWRlUGFuZWxXcmFwcGVyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICBnYXJhZ2VCbG9jay5jbGFzc0xpc3QuYWRkKCdtb3ZlbGVmdCcpO1xuICAgICAgICBzdG9yZS52aWV3ID0gJ3dpbm5lcnNQYWdlJztcbiAgICAgICAgYnV0dG9uVG9nZ2xlcigpO1xuICAgIH0pKTtcbiAgICB0b0dhcmFnZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgICAgICBnYXJhZ2VCbG9jay5pbm5lckhUTUwgPSByZW5kZXJHYXJhZ2VCbG9jaygpO1xuICAgICAgICBoaWRlUGFuZWxXcmFwcGVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgIGdhcmFnZUJsb2NrLmNsYXNzTGlzdC5yZW1vdmUoJ21vdmVsZWZ0Jyk7XG4gICAgICAgIHN0b3JlLnZpZXcgPSAnZ2FyYWdlUGFnZSc7XG4gICAgICAgIGJ1dHRvblRvZ2dsZXIoKTtcbiAgICB9KSk7XG59KTtcbiIsInZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuaW1wb3J0IHsgYnV0dG9uVG9nZ2xlciB9IGZyb20gJy4vZXZlbnQtbGlzdGVuZXJzL2J1dHRvbnMtdG9nZ2xlcic7XG5pbXBvcnQgeyBjYXJDb250cm9scyB9IGZyb20gJy4vZXZlbnQtbGlzdGVuZXJzL2Nhci1jb250cm9sbCc7XG5pbXBvcnQgeyBjcmV0ZU5ld0NhciB9IGZyb20gJy4vZXZlbnQtbGlzdGVuZXJzL2NyZXRlLW5ldy1jYXInO1xuaW1wb3J0IHsgZ2VuZXJhdGVQYWNrT2ZDYXJzIH0gZnJvbSAnLi9ldmVudC1saXN0ZW5lcnMvZ2VuZXJhdGUtcGFjay1vZi1jYXJzJztcbmltcG9ydCB7IHBhZ2luYXRpb25CdXR0b25zIH0gZnJvbSAnLi9ldmVudC1saXN0ZW5lcnMvcGFnZ2luYXRpb24tYnV0dG9ucyc7XG5pbXBvcnQgeyBnb1JhY2VsaXN0ZW5lciB9IGZyb20gJy4vZXZlbnQtbGlzdGVuZXJzL3JhY2UnO1xuaW1wb3J0IHN0b3BBbmRSZXNldFJhY2UgZnJvbSAnLi9ldmVudC1saXN0ZW5lcnMvcmVzZXQtcmFjZSc7XG5pbXBvcnQgeyBzb3J0aW5nQ2FyZHNCdXR0b25zTGlzdGVuZXIgfSBmcm9tICcuL2V2ZW50LWxpc3RlbmVycy9zb3J0LXdpbm5lcnMnO1xuaW1wb3J0IHsgdXBkYXRlU2VsZWN0ZWRDYXIgfSBmcm9tICcuL2V2ZW50LWxpc3RlbmVycy91cGRhdGUtY2FyJztcbmltcG9ydCB7IHZpZXdCbG9ja1NlbGVjdG9yIH0gZnJvbSAnLi9ldmVudC1saXN0ZW5lcnMvdmlldy1ibG9jay1zZWxlY3Rvcic7XG5leHBvcnQgY29uc3QgcGFnZUxpc3RlbmVycyA9ICgpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgIHZpZXdCbG9ja1NlbGVjdG9yKCk7XG4gICAgYnV0dG9uVG9nZ2xlcigpO1xuICAgIGdlbmVyYXRlUGFja09mQ2FycygpO1xuICAgIHBhZ2luYXRpb25CdXR0b25zKCk7XG4gICAgc29ydGluZ0NhcmRzQnV0dG9uc0xpc3RlbmVyKCk7XG4gICAgY2FyQ29udHJvbHMoKTtcbiAgICBnb1JhY2VsaXN0ZW5lcigpO1xuICAgIHN0b3BBbmRSZXNldFJhY2UoKTtcbiAgICBjcmV0ZU5ld0NhcigpO1xuICAgIHVwZGF0ZVNlbGVjdGVkQ2FyKCk7XG59KTtcbiIsInZhciBfX2F3YWl0ZXIgPSAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHwgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgfSk7XG59O1xuaW1wb3J0IHsgZ2VuZXJhdGVSYW5kb21DYXJOYW1lIH0gZnJvbSAnLi4vaGVscGVycy9nZW5lcmF0b3JzJztcbmltcG9ydCB7IHJlbmRlckdhcmFnZUJsb2NrIH0gZnJvbSAnLi9nYXJhZ2UtYmxvY2snO1xuaW1wb3J0IHsgcmVuZGVyV2lubmVyc0Jsb2NrIH0gZnJvbSAnLi93aW5uZXJzLWJsb2NrJztcbmV4cG9ydCBjb25zdCByZW5kZXJNYWluVmlldyA9ICgpID0+IF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkge1xuICAgIGNvbnN0IGZyYWdtZW50ID0gbmV3IERvY3VtZW50RnJhZ21lbnQoKTtcbiAgICBjb25zdCBtYWluID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbWFpbicpO1xuICAgIG1haW4uY2xhc3NMaXN0LmFkZCgnbWFpbicpO1xuICAgIG1haW4uaW5uZXJIVE1MID0gYFxuICA8ZGl2IGNsYXNzPVwibmF2aWdhdGlvbi1wYW5lbCB3cmFwcGVyXCI+XG4gICAgPGRpdiBjbGFzcz1cIm5hdi1idG5cIiBpZD1cInRvLWdhcmFnZVwiPlRvIEdhcmFnZTwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJuYXYtYnRuXCIgaWQ9XCJ0by13aW5uZXJzXCI+VG8gV2lubmVyczwvZGl2PlxuICA8L2Rpdj5cblxuICA8ZGl2IGNsYXNzPVwiYWN0aW9uLXBhbmVsIHdyYXBwZXJcIj5cbiAgPGRpdiBjbGFzcz1cImhpZGUtcGFuZWwtd3JhcHBlclwiIGlkPVwiaGlkZS1wYW5lbC13cmFwcGVyXCI+PC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cImZvcm1zXCI+XG4gICAgICA8Zm9ybSBhY3Rpb249XCJcIiBjbGFzcz1cImZvcm1cIiBpZD1cImNyZWF0ZVwiPlxuICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cImlucHV0XCIgaWQ9XCJjcmVhdGUtbmFtZVwiIHZhbHVlPVwiXCI+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwiY29sb3JcIiBjbGFzcz1cImNvbG9yXCIgaWQ9XCJjcmVhdGUtY29sb3JcIiB2YWx1ZT1cIiNmZmUwNDJcIj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImFjdGlvbi1idG5cIiAgaWQ9XCJjcmVhdGUtYnRuXCI+Q3JlYXRlPC9idXR0b24+XG4gICAgICA8L2Zvcm0+XG4gICAgICA8Zm9ybSBhY3Rpb249XCJcIiBjbGFzcz1cImZvcm1cIiBpZD1cInVwZGF0ZVwiPlxuICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cImlucHV0XCIgaWQ9XCJ1cGRhdGUtbmFtZVwiIG5hbWU9XCJuYW1lXCIgZGlzYWJsZWQgPlxuICAgICAgICA8aW5wdXQgdHlwZT1cImNvbG9yXCIgY2xhc3M9XCJjb2xvclwiIGlkPVwidXBkYXRlLWNvbG9yXCIgbmFtZT1cImNvbG9yXCIgdmFsdWU9XCIjZmZlMDQyXCIgZGlzYWJsZWQ+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJhY3Rpb24tYnRuXCIgaWQ9XCJ1cGRhdGUtYnRuXCIgXCJ0eXBlPVwic3VibWl0XCIgZGlzYWJsZWQ+VXBkYXRlPC9idXR0b24+XG4gICAgICA8L2Zvcm0+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cInJhY2UtY29udHJvbHNcIj5cbiAgICAgIDxidXR0b24gY2xhc3M9XCJhY3Rpb24tYnRuIHJhY2UtYnRuXCIgaWQ9XCJyYWNlXCI+UmFjZTwvYnV0dG9uPlxuICAgICAgPGJ1dHRvbiBjbGFzcz1cImFjdGlvbi1idG4gcmVzZXQtYnRuXCIgaWQ9XCJyZXNldFwiICA+UmVzZXQ8L2J1dHRvbj5cbiAgICAgIDxidXR0b24gY2xhc3M9XCJhY3Rpb24tYnRuIGdlbmVyYXRvci1idG5cIiBpZD1cImdlbmVyYXRvclwiPkdlbmVyYXRlIGNhcnM8L2J1dHRvbj5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG5cbiAgPGRpdiBjbGFzcz1cInBhZ2luYXRpb24tcGFuZWwgd3JhcHBlclwiPlxuICAgIDxidXR0b24gY2xhc3M9XCJhY3Rpb24tYnRuIHByZXYtYnRuXCIgaWQ9XCJwcmV2XCI+UFJFVjwvYnV0dG9uPlxuICAgIDxidXR0b24gY2xhc3M9XCJhY3Rpb24tYnRuIG5leHQtYnRuXCIgaWQ9XCJuZXh0XCI+TkVYVDwvYnV0dG9uPlxuICA8L2Rpdj5cblxuICA8ZGl2IGNsYXNzPVwibWFpbi1wYW5lbCB3cmFwcGVyXCI+XG4gICAgPGRpdiBjbGFzcz1cIm1haW4tc2NyZWFuLXdyYXBwZXJcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJnYXJhZ2VcIiBpZD1cImdhcmFnZVwiPiR7cmVuZGVyR2FyYWdlQmxvY2soKX08L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJ3aW5uZXJzXCIgaWQ9XCJ3aW5uZXJzXCI+JHtyZW5kZXJXaW5uZXJzQmxvY2soKX08L2Rpdj5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG4gIGA7XG4gICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQobWFpbik7XG4gICAgZG9jdW1lbnQuYm9keS5pbm5lckhUTUwgPSAnJztcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGZyYWdtZW50KTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3JlYXRlLW5hbWUnKS52YWx1ZSA9IGdlbmVyYXRlUmFuZG9tQ2FyTmFtZSgpO1xufSk7XG4iLCJ2YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbmltcG9ydCB7IHBhZ2VMaXN0ZW5lcnMgfSBmcm9tICcuL2xpc3Qtb2YtcGFnZS1saXN0ZW5lcnMnO1xuaW1wb3J0IHsgcmVuZGVyTWFpblZpZXcgfSBmcm9tICcuL3JlbmRlci1mdW5jdGlvbnMvbWFpbi12aWV3JztcbmltcG9ydCB7IHVwZGF0ZVN0YXRlIH0gZnJvbSAnLi91cGRhdGUtc3RhdGUnO1xuY29uc3Qgc3RhcnRBcHAgPSAoKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICBhbGVydChgQnkgZGVmYXVsdCwgdGhlIGFwcCBpcyBjb25maWd1cmVkIHRvIGNvbW11bmljYXRlIHdpdGggYSByZW1vdGUgc2VydmVyIGxvY2F0ZWQgYXQgXCJodHRwczovL2ZsaW50LWJyYXplbi1jYXRzaGFyay5nbGl0Y2gubWUvXCIuXG4gICAgXG4gICAgUGxlYXNlIG5vdGUgdGhhdCB0aGUgaW5pdGlhbCBzZXJ2ZXIgcmVzcG9uc2UgdGltZSBtYXkgYmUgYXJvdW5kIDIwIHNlY29uZHMsIHNvIHBscyBmNSB0aGUgcGFnZS5gKTtcbiAgICByZW5kZXJNYWluVmlldygpO1xuICAgIHlpZWxkIHVwZGF0ZVN0YXRlKCkudGhlbigoKSA9PiByZW5kZXJNYWluVmlldygpKTtcbiAgICBwYWdlTGlzdGVuZXJzKCk7XG59KTtcbnN0YXJ0QXBwKCk7XG4iXSwibmFtZXMiOlsic3RvcmUiLCJjYXJzUGFnZSIsImNhcnMiLCJjYXJzQ291bnQiLCJ3aW5uZXJzUGFnZSIsIndpbm5lcnMiLCJ3aW5uZXJzQ291bnQiLCJ2aWV3Iiwic29ydEJ5Iiwic29ydE9yZGVyIiwic2VsZWN0ZWRDYXJJRCIsImFuaW1hdGlvbiIsImJ1dHRvblRvZ2dsZXIiLCJfX2F3YWl0ZXIiLCJ0aGlzQXJnIiwiX2FyZ3VtZW50cyIsImdlbmVyYXRvciIsInByZXZCdXR0b24iLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwibmV4dEJ1dHRvbiIsImN1cnJlbnRQYWdlIiwiaXRlbUNvdW50IiwiZGlzYWJsZWQiLCJQIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJmdWxmaWxsZWQiLCJ2YWx1ZSIsInN0ZXAiLCJuZXh0IiwiZSIsInJlamVjdGVkIiwicmVzdWx0IiwiZG9uZSIsInRoZW4iLCJhcHBseSIsImJhc2UiLCJnYXJhZ2UiLCJlbmdpbmUiLCJnZXRDYXIiLCJpZCIsInJlc3BvbnNlIiwiZmV0Y2giLCJvayIsIkVycm9yIiwianNvbiIsImVycm9yIiwiY3JlYXRlQ2FyIiwiYm9keSIsIm1ldGhvZCIsIkpTT04iLCJzdHJpbmdpZnkiLCJoZWFkZXJzIiwidXBkYXRlQ2FyIiwiZ2V0V2lubmVyIiwiY2FsY3VsYXRlUG9zaXRpb24iLCJlbGVtZW50IiwibGVmdCIsIndpZHRoIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0Iiwic3RhcnREcml2aW5nIiwiX2EiLCJzdGFydEJ1dHRvbiIsInN0b3BCdXR0b24iLCJ2ZWxvY2l0eSIsImRpc3RhbmNlIiwic3RhcnRDYXIiLCJ0aW1lIiwiTWF0aCIsInJvdW5kIiwiY2FyIiwiZmxhZyIsImVuZ2luZUJyb2tlTWVzc2FnZSIsImFuaW1hdGlvbkRhdGEiLCJhbmltYXRpb25UaW1lIiwic3RhdGUiLCJzdGFydFRpbWUiLCJwZXJmb3JtYW5jZSIsIm5vdyIsIndpbmRvdyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImdldEludGVydmFsIiwidGhpcyIsImN1cnJlbnRUaW1lIiwicGFzc2VkRGlzdGFuY2UiLCJzdHlsZSIsInRyYW5zZm9ybSIsIm1pbiIsImZsb29yIiwic3RhcnQiLCJmaW5pc2giLCJzdGFydFBvc2l0aW9uIiwiY2FsY3VsYXRlRGlzdGFuY2UiLCJkcml2ZURhdGEiLCJPYmplY3QiLCJhc3NpZ24iLCJzdWNjZXNzIiwiY29uc29sZSIsImRyaXZlQ2FyIiwiYnJva2VFbmdpbmUiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsImJhY2tncm91bmRDb2xvciIsImRpc3BsYXkiLCJjYXJOYW1lIiwicXVlcnlTZWxlY3RvciIsInRleHRDb250ZW50IiwiaW5uZXJIVE1MIiwic3RvcERyaXZpbmciLCJzdG9wQ2FyIiwiY29sb3IiLCJyZW5kZXJHYXJhZ2VCbG9jayIsIm1hcCIsIm5hbWUiLCJqb2luIiwicmVuZGVyV2lubmVyc0Jsb2NrIiwid2lubmVyIiwiaW5kZXgiLCJ3aW5zIiwidXBkYXRlQ2FycyIsIml0ZW1zIiwiY291bnQiLCJudW1iZXJPZlBhZ2VUb0Rpc3BsYXlfMSIsImFyZ3NfMSIsIm51bWJlck9mUGFnZVRvRGlzcGxheSIsImVsZW1lbnRzUGVyUGFnZSIsIk51bWJlciIsImdldCIsImdldENhcnMiLCJ1cGRhdGVXaW5uZXJzIiwicGFnZV8xIiwic29ydF8xIiwib3JkZXJfMSIsImFyZ3NfMiIsInBhZ2UiLCJzb3J0Iiwib3JkZXIiLCJJdGVtc1Blcldpbm5lcnNQYWdlIiwiZ2V0U29ydE9yZGVyIiwiYWxsIiwiZ2V0V2lubmVycyIsIm5hbWVzIiwibW9kZWxzIiwiZ2VuZXJhdGVSYW5kb21DYXJOYW1lIiwicmFuZG9tIiwibGVuZ3RoIiwiZ2VuZXJhdGVSYW5kb21Db2xvciIsImkiLCJ0b2dnbGVDYXJzU29ydE9yZGVyIiwic29ydGluZ0NhcmRzQnV0dG9uc0xpc3RlbmVyIiwic29ydEJ5V2lucyIsInNvcnRCeVRpbWUiLCJhZGRFdmVudExpc3RlbmVyIiwiY2FsY3VsYXRlUmFjZVdpbm5lciIsInByb21pc2VzIiwiaWRzIiwicmFjZSIsImZhaWxlZEluZGV4IiwiZmluZEluZGV4Iiwic3BsaWNlIiwid2lubmVyQ2FyIiwiZmluZCIsInRvRml4ZWQiLCJnb1JhY2VsaXN0ZW5lciIsIndpbm5lcnNCbG9jayIsInJlc2V0QnV0dG9uIiwic3RhcnRSYWNlQnV0dG9uIiwid2lubmVyTWVzc2FnZSIsInByb21pcyIsImNsYXNzTGlzdCIsImFkZCIsIndpbm5lclN0YXR1cyIsInN0YXR1cyIsImdldFdpbm5lclN0YXR1cyIsInVwZGF0ZVdpbm5lciIsInBhZ2VMaXN0ZW5lcnMiLCJ0b1dpbm5lcnNCdXR0b24iLCJ0b0dhcmFnZUJ1dHRvbiIsImdhcmFnZUJsb2NrIiwiaGlkZVBhbmVsV3JhcHBlciIsInJlbW92ZSIsImdlbmVyYXRlQnV0dG9uIiwiQXJyYXkiLCJmaWxsIiwidXBkYXRlTmFtZUlucHV0IiwidXBkYXRlQ29sb3JJbnB1dCIsInVwZGF0ZUJ1dHRvbiIsInRhcmdldCIsImNvbnRhaW5zIiwic3BsaXQiLCJzZWxlY3RlZENhciIsImRlbGV0ZUNhciIsImRlbGV0ZVdpbm5lciIsImZvckVhY2giLCJwcmV2ZW50RGVmYXVsdCIsIm5hbWVJbnB1dCIsImNvbG9ySW5wdXQiLCJyZW5kZXJNYWluVmlldyIsImZyYWdtZW50IiwiRG9jdW1lbnRGcmFnbWVudCIsIm1haW4iLCJjcmVhdGVFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJhbGVydCJdLCJzb3VyY2VSb290IjoiIn0=